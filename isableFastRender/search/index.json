[{"content":"In Git, files usually have four statuses: untracked, unmodified, modified and staged.\nUntracked and modified files reside in the working directory, while staged files situated in the staging area, and unmodified files are stored in the .git directory (repository). The unmodified files is actually the committed files.\nThe git clean command eliminates all untracked files and provides three flags or switches to define which untracked files to remove:\n-f flag obliges the removal of all untracked files, excluding directories and ignored files. -d flag obliges the removal of untracked directories. -x flag eliminates untracked files corresponding to .gitignore files. We can clear untracked files with the following command:\n1 2 3 $ git clean -df Removing test.txt Removing test/ The -df option ensures that removal is forced and that untracked directories are also included for removal.\n1 2 $ git clean fatal: clean.requireForce defaults to true and neither -i, -n, nor -f given; refusing to clean git clean needs to be forced.\n","date":"2023-10-16T00:00:00Z","permalink":"http://localhost:1313/p/gitdiscard-untracked-files/","title":"ã€Gitã€‘Discard Untracked Files"},{"content":"Propå¤§å°å†™ Propçš„å‘½åè§„åˆ™æœ‰camelCaseï¼Œé©¼å³°å‘½åå’Œkebab-caseï¼ŒçŸ­æ¨ªçº¿åˆ†éš”ã€‚\nç”±äºHTMLå¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼Œæ‰€ä»¥æµè§ˆå™¨ä¼šæŠŠå¤§å†™å­—æ¯è§£é‡Šä¸ºå°å†™å­—æ¯ã€‚\nå½“æˆ‘ä»¬ä½¿ç”¨camelCaseå‘½åpropæ—¶ï¼Œåœ¨Domä¸­çš„templateæ¨¡æ¿ä½¿ç”¨è¯¥propå°±éœ€è¦æ¢æˆå¯¹åº”çš„kebab-caseå‘½åå½¢å¼ã€‚\nå¦‚æœåœ¨å­—ç¬¦ä¸²æ¨¡æ¿ä¸­ä½¿ç”¨ï¼Œè¯¥é™åˆ¶å°±ä¸å­˜åœ¨ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;!-- kebab-case in HTML --\u0026gt; \u0026lt;blog-post post-title=\u0026#34;hello1\u0026#34;\u0026gt;\u0026lt;/blog-post\u0026gt; \u0026lt;profile\u0026gt;\u0026lt;/profile\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; Vue.component(\u0026#39;blog-post\u0026#39;, { // camelCase in JavaScript props: [\u0026#39;postTitle\u0026#39;], template: \u0026#39;\u0026lt;h3\u0026gt;{{ postTitle }}\u0026lt;/h3\u0026gt;\u0026#39; }); Vue.component(\u0026#39;profile\u0026#39;,{ template:`\u0026lt;blog-post postTitle=\u0026#34;hello2\u0026#34;\u0026gt;\u0026lt;/blog-post\u0026gt;` }); new Vue({ el: \u0026#39;#app\u0026#39; }); \u0026lt;/script\u0026gt; Propç±»å‹ propså¯ä»¥ç®€å•åœ°å†™ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨å¯¹è±¡çš„å½¢å¼ä¸ºæ¯ä¸ªpropæŒ‡å®šå…¶ç±»å‹ï¼š\n1 2 3 4 5 6 7 8 9 props: { title: String, likes: Number, isPublished: Boolean, commentIds: Array, author: Object, callback: Function, contactsPromise: Promise // or any other constructor } ä¼ é€’é™æ€æˆ–åŠ¨æ€çš„Prop é™æ€ä¼ é€’propï¼š\n1 \u0026lt;blog-post title=\u0026#34;My journey with Vue\u0026#34;\u0026gt;\u0026lt;/blog-post\u0026gt; ä½¿ç”¨v-bindåŠ¨æ€ä¼ é€’propï¼š\n1 2 3 4 5 6 7 \u0026lt;!-- Dynamically assign the value of a variable --\u0026gt; \u0026lt;blog-post v-bind:title=\u0026#34;post.title\u0026#34;\u0026gt;\u0026lt;/blog-post\u0026gt; \u0026lt;!-- Dynamically assign the value of a complex expression --\u0026gt; \u0026lt;blog-post v-bind:title=\u0026#34;post.title + \u0026#39; by \u0026#39; + post.author.name\u0026#34; \u0026gt;\u0026lt;/blog-post\u0026gt; ä¸Šè¿°ç¤ºä¾‹çš„post.titleæ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¼ é€’ä»»ä½•ç±»å‹ã€‚\nå¦‚æœæˆ‘ä»¬ä½¿ç”¨æ¯”å¦‚Numberã€Booleanã€Arrayã€Objectç­‰ç±»å‹çš„åŸå§‹å€¼ä½œä¸ºpropï¼Œæ€ä¹ˆé¿å…å®ƒä»¬è¢«å½“æˆå­—ç¬¦ä¸²ä¼ é€’å‘¢ï¼Ÿä½¿ç”¨v-bindå³å¯ã€‚\nç‰¹æ®Šçš„ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä¼ é€’ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰propè€Œéå¯¹è±¡æœ¬èº«ï¼Œå¯ä»¥ä½¿ç”¨ä¸å¸¦å‚æ•°çš„v-bindï¼š\n1 \u0026lt;blog-post v-bind=\u0026#34;post\u0026#34;\u0026gt;\u0026lt;/blog-post\u0026gt; ç­‰ä»·äºï¼š\n1 2 3 4 \u0026lt;blog-post v-bind:id=\u0026#34;post.id\u0026#34; v-bind:title=\u0026#34;post.title\u0026#34; \u0026gt;\u0026lt;/blog-post\u0026gt; å•å‘æ•°æ®æµ æ•°æ®é€šè¿‡propçš„ä¼ é€’æ˜¯å•å‘çš„ï¼Œåªèƒ½ä»çˆ¶ç»„ä»¶ä¼ é€’åˆ°å­ç»„ä»¶ï¼Œè€Œæ— æ³•åå‘ä¼ é€’ã€‚å¦‚æœæ²¡æœ‰è¿™ç§é™åˆ¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¾ˆéš¾æŒæ§æ•°æ®æµçš„æµå‘ã€‚\nçˆ¶ç»„ä»¶propçš„æ›´æ–°ä¹Ÿä¼šåˆ·æ–°ä¼ é€’ç»™å­ç»„ä»¶çš„propã€‚\nä¸€æ—¦æˆ‘ä»¬å°è¯•ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„propï¼ŒVueä¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°å‘å‡ºè­¦å‘Šã€‚\nå­ç»„ä»¶ä¸­æœ‰ä¸¤ç§å¸¸è§çš„éœ€è¦ä¿®æ”¹ä¼ é€’æ¥çš„propçš„æƒ…å†µï¼š\nç”¨æ¥åˆå§‹åŒ–æœ¬åœ°çš„prop\n1 2 3 4 5 6 props: [\u0026#39;initialCounter\u0026#39;], data: function () { return { counter: this.initialCounter } } éœ€è¦ä¿®æ”¹ä¼ é€’æ¥çš„prop\n1 2 3 4 5 6 props: [\u0026#39;size\u0026#39;], computed: { normalizedSize: function () { return this.size.trim().toLowerCase() } } è¦å°å¿ƒä½¿ç”¨ä¼ é€’æ¥çš„Objectæˆ–Arrayç±»å‹çš„propï¼Œå› ä¸ºä¼šä¸å°å¿ƒä¿®æ”¹äº†åŸæ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥è¿›è¡Œæ·±æ‹·è´æ¥é¿å…è¿™ç§æƒ…å†µã€‚\nPropéªŒè¯ åŸºç¡€çš„ç±»å‹æ£€æŸ¥ nullå’Œundefinedä¼šé€šè¿‡ä»»ä½•ç±»å‹éªŒè¯ã€‚\n1 2 3 props:{ propA: Number } å¤šä¸ªå¯èƒ½çš„ç±»å‹ 1 2 3 props:{ propB: [String, Number], } å¿…å¡«é¡¹ 1 2 3 4 5 6 props:{ propc:{ type: String, required: true } } é»˜è®¤å€¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 props:{ propD: { type: Number, default: 100 }, propE: { type: Object, // å¯¹è±¡æˆ–æ•°ç»„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è·å– default: function () { return { message: \u0026#39;hello\u0026#39; } } }, } è‡ªå®šä¹‰éªŒè¯å‡½æ•° 1 2 3 4 5 6 7 8 props: { propF: { validator: function (value) { // è¿™ä¸ªå€¼å¿…é¡»åŒ¹é…ä¸‹åˆ—å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ª return [\u0026#39;success\u0026#39;, \u0026#39;warning\u0026#39;, \u0026#39;danger\u0026#39;].includes(value) } } } propä¼šåœ¨ç»„ä»¶å®ä¾‹åˆ›å»ºå‰è¿›è¡ŒéªŒè¯ï¼Œå¼€å‘ç¯å¢ƒæ„å»ºç‰ˆæœ¬çš„VueéªŒè¯propå¤±è´¥ä¼šç»™å‡ºæµè§ˆå™¨æ§åˆ¶å°è­¦å‘Šã€‚\nç±»å‹æ£€æŸ¥ typeçš„å€¼å¯ä»¥æ˜¯ä»¥ä¸‹åŸç”Ÿæ„é€ å‡½æ•°ä¹‹ä¸€ï¼š\nString Number Boolean Array Object Date Function Symbol typeä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 function Person (firstName, lastName) { this.firstName = firstName this.lastName = lastName } Vue.component(\u0026#39;blog-post\u0026#39;, { props: { author: Person } }) Non-Prop Attributes non-prop attributesæ˜¯æŒ‡ä¼ é€’ç»™äº†ä¸€ä¸ªç»„ä»¶ä½†æ˜¯è¯¥ç»„ä»¶ä¸­æ²¡æœ‰ç›¸å…³å®šä¹‰çš„propï¼Œç°åœ¨å«åšattributesã€‚\nä¸€äº›ç¬¬ä¸‰æ–¹ç»„ä»¶çš„è®¾è®¡è€…åªä¼šå®šä¹‰é‚£äº›ç»„ä»¶æ‰€å¿…éœ€çš„ã€å¸¸è§çš„çš„propï¼Œè€Œå…¶ä»–éœ€è¦é¢å¤–çš„propçš„åœºæ™¯å°±ä¼šä½¿ç”¨non-prop attributeï¼Œè¿™äº›é¢å¤–çš„attributeä¼šè¢«æ·»åŠ åˆ°ç»„ä»¶çš„root elementã€‚\næ›¿æ¢/åˆå¹¶å·²æœ‰çš„Attributes é€šå¸¸ä¼ é€’ç»™å­ç»„ä»¶çš„attributesä¼šæ›¿æ¢å…¶å·²ç»è®¾ç½®å¥½äº†çš„å€¼ï¼Œä½†æ˜¯classå’Œstyle attributeså°†ä¼šè¢«åˆå¹¶å¤„ç†ã€‚\nç¦ç”¨Attributesç»§æ‰¿ æˆ‘ä»¬å¯ä»¥è®¾ç½®inheritAttrs: falseæ¥é˜»æ­¢ç»„ä»¶çš„æ ¹å…ƒç´ ç»§æ‰¿attributesã€‚\n1 2 3 4 Vue.component(\u0026#39;my-component\u0026#39;, { inheritAttrs: false, // ... }) æ¥ä¸‹æ¥å¯ä»¥ä½¿ç”¨$attrsæ¥è·å–ä¼ é€’ç»™ç»„ä»¶çš„æ‰€æœ‰attributeï¼ˆé™¤äº†classå’Œstyleï¼‰ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 Vue.component(\u0026#39;base-input\u0026#39;, { inheritAttrs: false, props: [\u0026#39;label\u0026#39;, \u0026#39;value\u0026#39;], template: ` \u0026lt;label\u0026gt; {{ label }} \u0026lt;input v-bind=\u0026#34;$attrs\u0026#34; v-bind:value=\u0026#34;value\u0026#34; v-on:input=\u0026#34;$emit(\u0026#39;input\u0026#39;, $event.target.value)\u0026#34; \u0026gt; \u0026lt;/label\u0026gt; ` }) 1 2 3 4 5 6 \u0026lt;base-input label=\u0026#34;Username:\u0026#34; v-model=\u0026#34;username\u0026#34; required placeholder=\u0026#34;Enter your username\u0026#34; \u0026gt;\u0026lt;/base-input\u0026gt; ä¸Šé¢ç¤ºä¾‹çš„placeholderä½œä¸ºnon-prop attributeä¼ é€’ï¼Œä½†æ˜¯æˆ‘ä»¬ç¦ç”¨äº†ç»„ä»¶æ ¹å…ƒç´ ç»§æ‰¿attributesï¼Œç„¶åé€šè¿‡v-bind=\u0026quot;$attrs\u0026quot;å°†classå’Œstyleä»¥å¤–çš„attributesä¼ é€’ç»™äº†base-inputã€‚\nå‚è€ƒèµ„æ–™ Props-Vue 2 vm.$attrs ","date":"2023-10-14T00:00:00Z","permalink":"http://localhost:1313/p/vue-2props/","title":"ã€Vue 2ã€‘Props"},{"content":"å‰è¨€ åœ¨ JavaScript ä¸­ï¼Œnull å’Œ undefined æ˜¯ä¸¤ä¸ªç‰¹æ®Šçš„å€¼ï¼Œå®ƒä»¬è¡¨ç¤ºç€ä¸åŒçš„å«ä¹‰ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ä¼šå¼•èµ·æ··æ·†ã€‚\nnull nullæ˜¯Nullç±»å‹çš„å”¯ä¸€å€¼ï¼Œæ˜¯ä¸€ä¸ªå‡å€¼ï¼Œè¡¨ç¤ºä¸€ä¸ªç©ºå¯¹è±¡æŒ‡é’ˆï¼Œå³ä¸å­˜åœ¨çš„å¯¹è±¡ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä½¿ç”¨typeofåˆ¤æ–­nullæ—¶è¿”å›Objectçš„åŸå› ã€‚\n1 console.log(typeof null); //object å½“ä½ å£°æ˜ä¸€ä¸ªå˜é‡ä½†ä¸ç»™å®ƒèµ‹å€¼æ—¶ï¼Œå®ƒçš„é»˜è®¤å€¼æ˜¯ undefinedï¼Œä½†ä½ ä¹Ÿå¯ä»¥æ˜ç¡®å°†å…¶èµ‹å€¼ä¸º nullï¼Œè¡¨ç¤ºè¯¥å˜é‡çš„å€¼ä¸ºç©ºã€‚\nnull é€šå¸¸ç”¨äºæ˜ç¡®æŒ‡ç¤ºä¸€ä¸ªå˜é‡æ²¡æœ‰å€¼ï¼Œæˆ–è€…ç”¨äºé‡ç½®å¯¹è±¡çš„å¼•ç”¨ï¼Œä»¥ä¾¿åç»­åƒåœ¾å›æ”¶ã€‚\nnull çš„åˆ¤æ–­ å‡å€¼æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬ä¸èƒ½é€šè¿‡ä¸‹é¢ç±»å‹ä»£ç åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯ä¸æ˜¯nullï¼š\n1 2 3 4 5 if (!null) { console.log(\u0026#39;null is false value\u0026#39;) }else{ console.log(\u0026#39;null is true value\u0026#39;) } é‚£æ€ä¹ˆåˆ¤æ–­æ˜¯ä¸æ˜¯nullå‘¢ï¼Ÿ\n1.ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ ===\nä½¿ç”¨===å…¨ç­‰å·è€Œä¸æ˜¯ç­‰äºå·==ï¼Œå› ä¸º javascript è®¤ä¸ºnull==undefinedæˆç«‹ã€‚\n1 2 3 4 5 6 const value=null if(value===null){ //å€¼ä¸ºnull }else{ //å€¼ä¸ä¸ºnull } 2.ä½¿ç”¨ Object.is()\nObject.is() ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸ === è¡Œä¸ºç±»ä¼¼ï¼Œä½†å®ƒå¯¹äºä¸€äº›è¾¹ç•Œæƒ…å†µçš„å¤„ç†æ›´ä¸ºäººæ€§åŒ–ã€‚\n1 2 3 4 5 6 7 8 console.log(NaN === NaN); // è¾“å‡º false console.log(Object.is(NaN, NaN)); // è¾“å‡º true console.log(-0 === 0); // è¾“å‡º true console.log(Object.is(-0, 0)); // è¾“å‡º false console.log(+0 === -0); // è¾“å‡º true console.log(Object.is(+0, -0)); // è¾“å‡º false var abc = null; console.log(Object.is(abc, null)); //true undefined undefinedä¹Ÿæ˜¯Undefinedç±»å‹çš„å”¯ä¸€å€¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå‡å€¼ï¼Œåœ¨æˆ‘ä»¬å£°æ˜å˜é‡ä½†æ²¡åˆå§‹åŒ–ï¼ˆèµ‹å€¼ï¼‰æ—¶ï¼Œå˜é‡è‡ªåŠ¨èµ‹å€¼ä¸ºundefinedã€‚å½“ç„¶ï¼Œå€¼ä¸ºundefinedçš„å·²å£°æ˜å˜é‡ å’Œ æœªå®šä¹‰å˜é‡ è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼Œå¦‚ä¸‹ï¼š\n1 2 3 let a; console.log(a)\t//undefined console.log(b)\t//æœªå®šä¹‰å˜é‡æŠ¥é”™ æ­¤å¤–ï¼Œundefined ä¹Ÿè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡å±æ€§ä¸å­˜åœ¨çš„æƒ…å†µã€‚å¦‚æœä½ å°è¯•è®¿é—®å¯¹è±¡ä¸­ä¸å­˜åœ¨çš„å±æ€§ï¼Œå°†è¿”å› undefinedã€‚\nå¦‚æœå‡½æ•°çš„å‚æ•°æ²¡æœ‰ä¼ é€’å€¼ï¼Œå®ƒä»¬çš„é»˜è®¤å€¼æ˜¯ undefinedï¼Œè€Œä¸æ˜¯ nullã€‚\nundefined çš„åˆ¤æ–­ 1.ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ ===\n1 2 3 4 var abc; if (abc === undefined) { console.log(\u0026#34;å€¼ä¸º undefined\u0026#34;); } 2.ä½¿ç”¨ç±»å‹æ¯”è¾ƒè¿ç®—ç¬¦ typeof\n1 2 3 4 var abc; if (typeof abc === \u0026#34;undefined\u0026#34;) { console.log(\u0026#34;å€¼ä¸º undefined\u0026#34;); } 3.ä½¿ç”¨ Object.is()\n1 2 3 4 var abc; if (Object.is(abc,undefined)) { console.log(\u0026#34;å€¼ä¸º undefined\u0026#34;); } æœ‰ç‚¹ç‰¹åˆ«çš„æ˜¯ï¼Œä½¿ç”¨typeofåˆ¤æ–­å€¼ä¸ºundefinedçš„å·²å£°æ˜å˜é‡ å’Œ æœªå®šä¹‰å˜é‡çš„ç»“æœéƒ½ä¸ºundefinedã€‚è¿™æ˜¯ç”±äºä¸¤è€…åœ¨ä½¿ç”¨ä»·å€¼ä¸Šæ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯æ²¡æœ‰å®é™…ä½¿ç”¨ä»·å€¼ã€‚\n1 2 3 var abc; console.log(typeof abc); //undefined console.log(typeof efg); //undefined æœ€åï¼Œä½¿ç”¨æ–¹é¢ï¼Œæˆ‘ä»¬ä¸å¿…æ˜¾ç¤ºèµ‹å€¼ä¸ºundefinedï¼Œä½†å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™èµ‹å€¼ä¸ºnullã€‚\n","date":"2023-10-10T00:00:00Z","permalink":"http://localhost:1313/p/javascriptnull%E5%92%8Cundefined/","title":"ã€JavaScriptã€‘nullå’Œundefined"},{"content":"åŒæ­¥ä¸å¼‚æ­¥çš„æ¦‚å¿µ JavaScript æ˜¯ä¸€é—¨å•çº¿ç¨‹çš„è¯­è¨€ï¼Œè¿™æ„å‘³ç€å®ƒåœ¨ä»»ä½•ç»™å®šçš„æ—¶é—´åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚\nç„¶è€Œï¼ŒJavaScript é€šè¿‡å¼‚æ­¥ç¼–ç¨‹æŠ€æœ¯æ¥å¤„ç†å¹¶å‘æ“ä½œï¼Œä»¥é¿å…é˜»å¡ä¸»çº¿ç¨‹çš„æƒ…å†µã€‚\nåœ¨ä¸Šå›¾ä¸­ï¼ŒåŒæ­¥è¡Œä¸ºçš„è¿›ç¨‹ A å› ä¸ºç­‰å¾…è¿›ç¨‹ B æ‰§è¡Œå®Œè€Œè¢«é˜»å¡äº†ä¸€æ®µæ—¶é—´ã€‚å¼‚æ­¥è¡Œä¸ºçš„è¿›ç¨‹ A åˆ™ä¼šç»§ç»­æ‰§è¡Œï¼Œç­‰åˆ°è¿›ç¨‹ B æœ‰äº†ç»“æœï¼Œå®ƒå†å‘ŠçŸ¥è¿›ç¨‹ A æ¥å¤„ç†ã€‚\nå¼‚æ­¥è¡Œä¸ºæ˜¯ä¸ºäº†ä¼˜åŒ–è®¡ç®—é‡å¤§è€Œè€—æ—¶é•¿çš„æ“ä½œï¼Œä½†ä¹Ÿå¹¶éåªèƒ½å¤„ç†è¯¥ç±»æƒ…å†µï¼Œåªè¦éœ€è¦æ‰§è¡ŒæŸä¸ªå¼‚æ­¥æ“ä½œä¸”ä¸æƒ³ä¸»çº¿ç¨‹è¢«é˜»å¡ï¼Œé‚£ä¹ˆéƒ½å¯ä»¥ä½¿ç”¨å¼‚æ­¥ç¼–ç¨‹ã€‚å¼‚æ­¥è¡Œä¸ºç±»ä¼¼äºç³»ç»Ÿä¸­æ–­ã€‚\nåŒæ­¥è¡Œä¸ºå¯¹åº”å†…å­˜ä¸­é¡ºåºæ‰§è¡Œçš„å¤„ç†å™¨æŒ‡ä»¤ï¼ŒæŒ‡ä»¤æ‰§è¡Œå®Œåå°±å®¹æ˜“æ¨æ–­å‡ºç¨‹åºçš„çŠ¶æ€ï¼Œæ¯ä¸ªæ“ä½œéƒ½æ˜¯å¯é¢„æµ‹æ€§çš„ã€‚\nè®¾è®¡ä¸€ä¸ªè¿™æ ·çš„å¼‚æ­¥ç³»ç»Ÿæ˜¯å›°éš¾çš„ï¼Œå› ä¸ºä½ ä¸çŸ¥é“å¼‚æ­¥ç»“æœä»€ä¹ˆæ—¶å€™å¯ä»¥è·å–ã€‚\nJavaScript æœ€åˆçš„å¼‚æ­¥ç¼–ç¨‹æ–¹å¼ï¼šå›è°ƒ ä½¿ç”¨å›è°ƒä½œä¸ºå¼‚æ­¥ç¼–ç¨‹çš„æ–¹å¼ï¼šå›è°ƒå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œå¹¶åœ¨æŸä¸ªäº‹ä»¶å‘é€æˆ–å¼‚æ­¥æ“ä½œå®Œæˆåæ‰§è¡Œã€‚\n1 2 3 4 5 6 7 8 9 function fetchData(callback){ setTimeout(function(){ callback(\u0026#39;Data fetched\u0026#39;); },1000); } fetchData(function(result){ console.log(result); }); åŠ ä¸Šå¯¹å¤±è´¥å›è°ƒçš„å¤„ç†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 function fetchData(successCallback, errorCallback) { setTimeout(function () { // æ¨¡æ‹Ÿä¸€ä¸ªé”™è¯¯ï¼Œä½ å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µå¤„ç†é”™è¯¯ const error = null; // è¿™é‡Œå‡è®¾æ²¡æœ‰é”™è¯¯ if (error) { errorCallback(error); // è°ƒç”¨å¤±è´¥å›è°ƒå‡½æ•°å¹¶ä¼ é€’é”™è¯¯ } else { successCallback(\u0026#39;Data fetched\u0026#39;); // è°ƒç”¨æˆåŠŸå›è°ƒå‡½æ•°å¹¶ä¼ é€’æ•°æ® } }, 1000); } // ä½¿ç”¨ fetchData å‡½æ•° fetchData( function (data) { console.log(\u0026#39;Success:\u0026#39;, data); }, function (error) { console.error(\u0026#39;Error:\u0026#39;, error); } ); è¿™ç§æ¨¡å¼æœ‰å¾ˆå¤šå¼Šç«¯ï¼šé¦–å…ˆéœ€è¦åœ¨æŒ‡å®šæ—¶é—´å†…æ‰èƒ½å¾—åˆ°å¼‚æ­¥å‡½æ•°çš„è¿”å›å€¼ï¼Œå…¶æ¬¡éœ€è¦æå‰å®šä¹‰å¥½å›è°ƒå‡½æ•°ã€‚\næœ€åï¼Œå¤šä¸ªå¼‚æ­¥æ“ä½œåµŒå¥—åœ¨ä¸€èµ·ï¼Œä¼šå½¢æˆå›è°ƒåœ°ç‹±ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 function fetchData(callback) { setTimeout(function () { callback(\u0026#34;Data fetched\u0026#34;); }, 1000); } function processData(data, successCallback, errorCallback) { setTimeout(function () { // æ¨¡æ‹Ÿä¸€ä¸ªé”™è¯¯ const error = null; // è¿™é‡Œå‡è®¾æ²¡æœ‰é”™è¯¯ if (error) { errorCallback(error); } else { successCallback(\u0026#34;Data processed\u0026#34;); } }, 1000); } function saveData(data, successCallback, errorCallback) { setTimeout(function () { // æ¨¡æ‹Ÿä¸€ä¸ªé”™è¯¯ const error = new Error(\u0026#34;Save failed\u0026#34;); errorCallback(error); }, 1000); } fetchData(function (data) { processData( data, function (processedData) { saveData( processedData, function () { console.log(\u0026#34;Data saved successfully\u0026#34;); }, function (error) { console.error(\u0026#34;Error saving data:\u0026#34;, error); } ); }, function (error) { console.error(\u0026#34;Error processing data:\u0026#34;, error); } ); }); åµŒå¥—çš„å›è°ƒéš¾ä»¥é˜…è¯»å’Œç»´æŠ¤ã€‚\næ–°æ—¶ä»£ï¼šæœŸçº¦-Promise æœŸçº¦æ˜¯å¯¹å°šä¸å­˜åœ¨ç»“æœçš„ä¸€ä¸ªæ›¿èº«ã€‚\næœŸçº¦æä¾›äº†ä¸€ç§æ›´æ¸…æ™°å’Œå¯ç»´æŠ¤çš„æ–¹å¼æ¥å¤„ç†å¼‚æ­¥æ“ä½œï¼Œé¿å…äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚\næœŸçº¦æ˜¯åŸºäº Promises/A+ è§„èŒƒå»ºç«‹çš„ã€‚\næœŸçº¦çš„çŠ¶æ€ Promise æ˜¯ ECMAScript6 æ–°å¢çš„å¼•ç”¨ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªå…·æœ‰çŠ¶æ€çš„å¯¹è±¡ã€‚\nå®ƒæœ‰å¦‚ä¸‹ä¸‰ç§çŠ¶æ€ï¼š\nå¾…å®š-pendingã€‚æœŸçº¦æœ€åˆå§‹çš„çŠ¶æ€ã€‚ å…‘ç°-fullfilledã€‚ä¹Ÿå¯ä»¥ç§°ä¸º è§£å†³-resolvedã€‚ æ‹’ç»-rejectedã€‚ çŠ¶æ€ä¸€ç»æ”¹å˜ï¼Œä¸å¯ä¿®æ”¹ã€‚\næœŸçº¦çš„çŠ¶æ€æ˜¯ç§æœ‰çš„ï¼Œåªèƒ½åœ¨å†…éƒ¨è¿›è¡Œæ“ä½œï¼Œä¸èƒ½è¢«å¤–éƒ¨ä»£ç æ£€æµ‹å’Œä¿®æ”¹ã€‚\nåˆå§‹åŒ–æœŸçº¦-new Promise(executor) ä½¿ç”¨XMLHttpRequestæ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œåˆ›å»ºæœŸçº¦ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 // å»ºç«‹è¯·æ±‚ï¼Œåˆ›å»ºæœŸçº¦çš„å·¥å‚å‡½æ•° function makeRequest(url) { return new Promise((resolve, reject) =\u0026gt; { // å¼‚æ­¥æ“ä½œ const xhr = new XMLHttpRequest(); xhr.open(\u0026#34;GET\u0026#34;, url); xhr.onload = function () { if (xhr.status \u0026gt;= 200 \u0026amp;\u0026amp; xhr.status \u0026lt; 300) { // è¯·æ±‚æˆåŠŸï¼Œå°†å“åº”æ–‡æœ¬ä½œä¸ºæˆåŠŸç»“æœ resolve(xhr.responseText); } else { // è¯·æ±‚å¤±è´¥ï¼Œå°†é”™è¯¯ä¿¡æ¯ä½œä¸ºå¤±è´¥åŸå›  reject(\u0026#34;è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : \u0026#34; + xhr.status); } }; xhr.onerror = function () { // è¯·æ±‚é”™è¯¯ï¼Œå°†é”™è¯¯ä¿¡æ¯ä½œä¸ºå¤±è´¥åŸå›  reject(\u0026#34;ç½‘ç»œé”™è¯¯\u0026#34;); }; xhr.send(); }); } const myPromise = makeRequest(\u0026#34;https://example.com/api/data\u0026#34;); ä½¿ç”¨ new åˆ›å»º Promise å®ä¾‹æ—¶ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªæ‰§è¡Œå™¨ï¼ˆexecutorï¼‰å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šresolve å’Œ rejectã€‚\nå‰é¢æåˆ°æœŸçº¦çš„çŠ¶æ€åªèƒ½åœ¨å†…éƒ¨æ“ä½œï¼Œè¿™ä¸ªæ“ä½œå°±æ˜¯åœ¨æ‰§è¡Œå™¨å‡½æ•°ä¸­å®Œæˆçš„ã€‚\nresolve ä¼šå°† Promise çŠ¶æ€åˆ‡æ¢ä¸º fullfilledï¼Œrejectåˆ™ä¼šå°†å…¶åˆ‡æ¢ä¸º rejectedã€‚åŒæ—¶ï¼Œè°ƒç”¨ reject ä¼šæŠ›å‡ºé”™è¯¯ã€‚\næ‰§è¡Œå™¨å‡½æ•°æ˜¯æœŸçº¦çš„åˆå§‹åŒ–ç¨‹åºï¼Œä¸”æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œå½“åˆå§‹åŒ–æœŸçº¦æ—¶å°±å·²ç»æ”¹å˜äº†æœŸçº¦çš„çŠ¶æ€ã€‚\næœŸçº¦çš„æ„é€ å™¨æ–¹æ³•|é™æ€æ–¹æ³•ä¹‹äºŒ Promise.resolve() Promise.resolveæ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªå·²è§£å†³ï¼ˆfulfilledï¼‰çš„Promiseå¯¹è±¡ï¼Œå¹¶å¯ä»¥é€‰æ‹©å°†ä¸€ä¸ªå€¼è§£æä¸ºæˆåŠŸçš„ç»“æœã€‚\nå¦‚æœä¼ é€’ç»™Promise.resolveçš„å€¼æœ¬èº«å·²ç»æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œåˆ™å®ƒä¼šä¿æŒä¸å˜ï¼ˆä¸ä¼šå†æ¬¡è§£æï¼‰ã€‚\n1 2 3 4 5 6 setTimeout(console.log, 0, Promise.resolve()); setTimeout(console.log, 0, Promise.resolve(1)); const p = new Promise(() =\u0026gt; {}); setTimeout(console.log, 0, Promise.resolve(p)); setTimeout(console.log, 0, p === Promise.resolve(p)); Promise.reject() Promise.rejectæ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªå·²æ‹’ç»ï¼ˆrejectedï¼‰çš„Promiseå¯¹è±¡ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªåŸå› ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªé”™è¯¯å¯¹è±¡ï¼‰ä½œä¸ºæ‹’ç»çš„åŸå› ã€‚\nä¸Promise.resolveä¸åŒï¼ŒPromise.rejectä¸ä¼šè§£æä¼ é€’ç»™å®ƒçš„å€¼ï¼Œè€Œæ˜¯å°†å…¶ä½œä¸ºæ‹’ç»åŸå› ç›´æ¥ä¼ é€’ç»™Promiseå¯¹è±¡ã€‚\n1 2 3 4 5 6 setTimeout(console.log, 0, Promise.reject()); setTimeout(console.log, 0, Promise.reject(1)); const p = new Promise(() =\u0026gt; {}); setTimeout(console.log, 0, Promise.reject(p)); setTimeout(console.log, 0, p === Promise.reject(p)); æ³¨æ„åˆ°ï¼Œé”™è¯¯è¢«æŠ›å‡ºä½†æ²¡æœ‰è¢«æ•è·(Uncaught)ã€‚æˆ‘ä»¬ç»™å®ƒå¥—ä¸Štry...catchè¯•è¯•ã€‚\n1 2 3 4 5 try { setTimeout(console.log, 0, Promise.reject()); } catch (e) { console.log(e); } è¿™å°±å¥‡æ€ªäº†ï¼Œä¸ºä»€ä¹ˆè¿˜æ˜¯æ²¡æœ‰æ•è·åˆ°é”™è¯¯å‘¢ï¼Ÿ\nå› ä¸ºtry..catchåªèƒ½æ•è·åŒæ­¥ä»£ç ä¸­çš„é”™è¯¯ï¼Œå®ƒä½äºå½“å‰æ‰§è¡Œæ ˆä¸­ï¼Œè€ŒPromise.rejectä¼šè¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå½“å½“å‰æ‰§è¡Œæ ˆæ‰§è¡Œå®Œåï¼Œå†æ‰§è¡Œå®ƒã€‚\nè¦å’Œå¼‚æ­¥ä»£ç äº¤äº’ï¼Œåªèƒ½ä½¿ç”¨æœŸçº¦çš„å®ä¾‹æ–¹æ³•ï¼š\nPromise.prototype.then Promise.prototype.catch Promise.prototype.finally æœŸçº¦çš„å®ä¾‹æ–¹æ³• æœŸçº¦çš„å®ä¾‹æ–¹æ³•æ˜¯è¿æ¥å¤–éƒ¨åŒæ­¥ä»£ç å’Œå†…éƒ¨å¼‚æ­¥ä»£ç çš„æ¡¥æ¢ã€‚\nä»»ä½•æš´éœ²çš„å¼‚æ­¥ç»“æ„ï¼Œæˆ–è€…å«åšæœŸçº¦çš„å®ä¾‹æ–¹æ³•ä¸­éƒ½å®ç°äº†ä¸€ä¸ªthen()æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¢«è®¤ä¸ºå®ç°äº†ä¸€ä¸ªThenableæ¥å£ã€‚\nPromise.prototype.then Promise.prototype.thenæ˜¯Promiseå¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œç”¨äºé™„åŠ å›è°ƒå‡½æ•°æ¥å¤„ç†Promiseçš„è§£å†³ï¼ˆfulfilledï¼‰å’Œæ‹’ç»ï¼ˆrejectedï¼‰çŠ¶æ€ã€‚\n1 promise.then(onFulfilled, onRejected) thenæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š\nå¦‚æœonFulfilledæˆ–onRejectedè¿”å›ä¸€ä¸ªå€¼ï¼ˆä¸æ˜¯Promiseï¼‰ï¼Œåˆ™è¿”å›çš„æ–°Promiseå°†ä»¥è¯¥å€¼è§£å†³ã€‚ å¦‚æœonFulfilledæˆ–onRejectedæŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™è¿”å›çš„æ–°Promiseå°†ä»¥è¯¥å¼‚å¸¸ä½œä¸ºåŸå› æ‹’ç»ã€‚æ³¨æ„è¿”å›é”™è¯¯å¯¹è±¡ä¼šæŠŠè¯¥é”™è¯¯å¯¹è±¡åŒ…è£…åœ¨ä¸€ä¸ªè§£å†³çš„æœŸçº¦ä¸­ã€‚ å¦‚æœonFulfilledæˆ–onRejectedè¿”å›ä¸€ä¸ªPromiseï¼Œåˆ™è¿”å›çš„æ–°Promiseå°†ä¸è¯¥è¿”å›çš„Promiseå…·æœ‰ç›¸åŒçš„çŠ¶æ€å’Œç»“æœã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 const promise = new Promise((resolve, reject) =\u0026gt; { // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ setTimeout(() =\u0026gt; { const randomNumber = Math.random(); if (randomNumber \u0026lt; 0.5) { resolve(`æˆåŠŸï¼š${randomNumber}`); } else { reject(`å¤±è´¥ï¼š${randomNumber}`); } }, 1000); }); promise.then( (result) =\u0026gt; { console.log(`æˆåŠŸå›è°ƒï¼š${result}`); }, (error) =\u0026gt; { console.error(`å¤±è´¥å›è°ƒï¼š${error}`); } ); thenæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥é“¾å¼è°ƒç”¨å®ƒã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 // æ¨¡æ‹Ÿå»¶è¿Ÿ function delay(ms) { return new Promise((resolve) =\u0026gt; { setTimeout(resolve, ms); }); } function fetchUserData() { return delay(1000).then(() =\u0026gt; { return { username: \u0026#34;john_doe\u0026#34;, email: \u0026#34;john@example.com\u0026#34; }; }); } function fetchUserPosts(username) { return delay(1000).then(() =\u0026gt; { return [\u0026#34;Post 1\u0026#34;, \u0026#34;Post 2\u0026#34;, \u0026#34;Post 3\u0026#34;]; }); } function displayUser(username, posts) { console.log(`Username: ${username}`); console.log(\u0026#34;Posts:\u0026#34;); posts.forEach((post, index) =\u0026gt; { console.log(`${index + 1}. ${post}`); }); } fetchUserData() .then((user) =\u0026gt; { console.log(\u0026#34;Fetching user data...\u0026#34;); console.log(user); return fetchUserPosts(user.username); }) .then((posts) =\u0026gt; { console.log(\u0026#34;Fetching user posts...\u0026#34;); console.log(posts); displayUser(\u0026#34;john_doe\u0026#34;, posts); }) .catch((error) =\u0026gt; { console.error(\u0026#34;Error:\u0026#34;, error); }); è¾“å‡ºï¼š\n1 2 3 4 5 6 7 8 9 Fetching user data... { username: \u0026#39;john_doe\u0026#39;, email: \u0026#39;john@example.com\u0026#39; } Fetching user posts... [ \u0026#39;Post 1\u0026#39;, \u0026#39;Post 2\u0026#39;, \u0026#39;Post 3\u0026#39; ] Username: john_doe Posts: 1. Post 1 2. Post 2 3. Post 3 thençš„é“¾å¼è°ƒç”¨é¿å…äº†å›è°ƒåœ°ç‹±ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚\nPromise.prototype.catch è™½ç„¶thenæ–¹æ³•å·²ç»å¯ä»¥ä¸ºæœŸçº¦æ·»åŠ æ‹’ç»å¤„ç†ç¨‹åºï¼špromise.then(null,onRejected)ï¼Œä½†æ˜¯è¿™æ ·ä¸æ˜¯å¾ˆç¾è§‚ï¼Œäºæ˜¯å°±æœ‰äº†è¯­æ³•ç³–ï¼špromise.catch(onRejected)ã€‚\nè¡Œä¸ºä¸Šä¸thenæ˜¯ä¸€è‡´çš„ã€‚è¿™é‡Œä¸å†ç»†ç©¶ã€‚\nPromise.prototype.finally finallyæ–¹æ³•ç”¨äºç»™ç¨‹åºæ·»åŠ onFinallyå›è°ƒå‡½æ•°ï¼Œè¯¥å›è°ƒæ— è®ºPromiseå¯¹è±¡æ˜¯fulfilledè¿˜æ˜¯rejectedéƒ½ä¼šæ‰§è¡Œã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 const promise = new Promise((resolve, reject) =\u0026gt; { // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ setTimeout(() =\u0026gt; { const randomNumber = Math.random(); if (randomNumber \u0026lt; 0.5) { resolve(`æˆåŠŸï¼š${randomNumber}`); } else { reject(`å¤±è´¥ï¼š${randomNumber}`); } }, 1000); }); promise .then( (result) =\u0026gt; { console.log(`æˆåŠŸå›è°ƒï¼š${result}`); }, (error) =\u0026gt; { console.error(`å¤±è´¥å›è°ƒï¼š${error}`); } ) .finally(() =\u0026gt; { console.log(\u0026#34;ä¸ç®¡æˆåŠŸæˆ–å¤±è´¥ï¼Œéƒ½ä¼šæ‰§è¡Œè¿™é‡Œçš„å›è°ƒ\u0026#34;); }); å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè°ƒç”¨finallyä¼šåŸæ ·è¿”å›æœŸçº¦ã€‚\nå¦‚æœæœŸçº¦æ˜¯å¾…å®šçš„ä¸”åœ¨onFinallyå¤„ç†ç¨‹åºä¸­æŠ›å‡ºé”™è¯¯æˆ–è¿”å›äº†ä¸€ä¸ªæ‹’ç»æœŸçº¦ï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªæ‹’ç»æœŸçº¦ã€‚\nè¿™ä¸ªæ–¹æ³•é¿å…äº†thenå’Œcatchçš„onFufilledå’ŒonRejectedä¸­å‡ºç°é‡å¤å†—ä½™ä»£ç ã€‚\næœŸçº¦çš„éé‡å…¥non-reentrancyç‰¹æ€§ å½“ä¸€ä¸ªæœŸçº¦è¿›å…¥\u0026quot;è½å®šçŠ¶æ€\u0026quot;ï¼ˆsettled stateï¼‰æ—¶ï¼Œä¸è¯¥çŠ¶æ€ç›¸å…³çš„å¤„ç†ç¨‹åºï¼ˆä¾‹å¦‚ï¼Œ.thenæˆ–.catchä¸­çš„å›è°ƒå‡½æ•°ï¼‰ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯ä¼šè¢«æ’å…¥æ‰§è¡Œé˜Ÿåˆ—ï¼Œç­‰å¾…äº‹ä»¶å¾ªç¯å¤„ç†ã€‚\nä¸€æ—¦Promiseå¯¹è±¡è¿›å…¥äº†å·²æˆåŠŸæˆ–å·²å¤±è´¥çŠ¶æ€ï¼Œå®ƒå°±è¢«è®¤ä¸ºæ˜¯\u0026quot;è½å®š\u0026quot;ï¼Œä¸å†å¤„äºæ‚¬æŒ‚çŠ¶æ€ã€‚åœ¨è¿™ä¸ªçŠ¶æ€ä¸‹ï¼ŒPromiseçš„ç»“æœæˆ–é”™è¯¯å·²ç»ç¡®å®šï¼Œä¸ä¼šå†å‘ç”Ÿå˜åŒ–ã€‚\nä¸é™„åŠ å¤„ç†ç¨‹åºç›¸å…³çš„åŒæ­¥ä»£ç ï¼ˆå³æ·»åŠ å¤„ç†ç¨‹åºçš„ä»£ç ä¹‹åçš„ä»£ç ï¼‰ä¼šåœ¨å¤„ç†ç¨‹åºæ‰§è¡Œä¹‹å‰ä¼˜å…ˆæ‰§è¡Œã€‚\nè¿™ä¸ªç‰¹æ€§çš„å­˜åœ¨æ˜¯ä¸ºäº†ç¡®ä¿æœŸçº¦å¤„ç†ç¨‹åºçš„æ‰§è¡Œä¸ä¼šä¸­æ–­å½“å‰æ‰§è¡Œçš„åŒæ­¥ä»£ç å—ã€‚\n1 2 Promise.resolve().then(() =\u0026gt; console.log(\u0026#34;onResolved æ‰§è¡Œ\u0026#34;)); console.log(\u0026#34;åŒæ­¥ä»£ç æ‰§è¡Œ\u0026#34;); è¾“å‡º\n1 2 åŒæ­¥ä»£ç æ‰§è¡Œ onResolved æ‰§è¡Œ æ›´ä¸ºç²¾å½©çš„ç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 // åˆ›å»ºä¸€ä¸ªPromise const myPromise = new Promise((resolve, reject) =\u0026gt; { console.log(\u0026#34;Promiseå¼€å§‹æ‰§è¡Œ\u0026#34;); // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ setTimeout(() =\u0026gt; { resolve(\u0026#34;æˆåŠŸ\u0026#34;); // æœŸçº¦è¿›å…¥è½å®šçŠ¶æ€ }, 2000); console.log(\u0026#34;resolve() è¿”å›\u0026#34;); }); console.log(\u0026#34;Promiseåˆ›å»ºå®Œæˆ\u0026#34;); // æ·»åŠ å¤„ç†ç¨‹åº myPromise.then((result) =\u0026gt; { console.log(`å¤„ç†ç¨‹åºæ‰§è¡Œï¼Œç»“æœä¸ºï¼š${result}`); }); console.log(\u0026#34;å¤„ç†ç¨‹åºæ·»åŠ å®Œæˆ\u0026#34;); // åŒæ­¥ä»£ç  console.log(\u0026#34;åŒæ­¥ä»£ç æ‰§è¡Œ\u0026#34;); è¾“å‡º\n1 2 3 4 5 6 Promiseå¼€å§‹æ‰§è¡Œ resolve() è¿”å› Promiseåˆ›å»ºå®Œæˆ å¤„ç†ç¨‹åºæ·»åŠ å®Œæˆ åŒæ­¥ä»£ç æ‰§è¡Œ å¤„ç†ç¨‹åºæ‰§è¡Œï¼Œç»“æœä¸ºï¼šæˆåŠŸ å“ªæ€•ä½ æŠŠæœŸçº¦çŠ¶æ€å˜åŒ–çš„ä»£ç çš„å°è£…æ”¾åœ¨æ·»åŠ å¤„ç†ç¨‹åºä¹‹åï¼Œç»“æœä¹Ÿæ˜¯ä¸€æ ·ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 let synchronousResolve; // åˆ›å»ºä¸€ä¸ªPromise const myPromise = new Promise((resolve, reject) =\u0026gt; { synchronousResolve = function () { console.log(\u0026#34;Promiseå¼€å§‹æ‰§è¡Œ\u0026#34;); // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ setTimeout(() =\u0026gt; { resolve(\u0026#34;æˆåŠŸ\u0026#34;); // æœŸçº¦è¿›å…¥è½å®šçŠ¶æ€ }, 2000); console.log(\u0026#34;resolve() è¿”å›\u0026#34;); } }); console.log(\u0026#34;Promiseåˆ›å»ºå®Œæˆ\u0026#34;); // æ·»åŠ å¤„ç†ç¨‹åº myPromise.then((result) =\u0026gt; { console.log(`å¤„ç†ç¨‹åºæ‰§è¡Œï¼Œç»“æœä¸ºï¼š${result}`); }); synchronousResolve(); console.log(\u0026#34;å¤„ç†ç¨‹åºæ·»åŠ å®Œæˆ\u0026#34;); // åŒæ­¥ä»£ç  console.log(\u0026#34;åŒæ­¥ä»£ç æ‰§è¡Œ\u0026#34;); é‚»è¿‘å¤„ç†ç¨‹åºçš„æ‰§è¡Œé¡ºåº å½“ç»™ä¸€ä¸ªæœŸçº¦ï¼ˆPromiseï¼‰æ·»åŠ å¤šä¸ªå¤„ç†ç¨‹åºï¼ˆä¾‹å¦‚ï¼Œ.then()ã€.catch()ã€.finally()ï¼‰ï¼Œè¿™äº›å¤„ç†ç¨‹åºä¼šæŒ‰ç…§å®ƒä»¬è¢«æ·»åŠ çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 const myPromise = new Promise((resolve, reject) =\u0026gt; { setTimeout(() =\u0026gt; { resolve(\u0026#34;æˆåŠŸ\u0026#34;); }, 2000); }); myPromise .then((result) =\u0026gt; { console.log(`ç¬¬ä¸€ä¸ªå¤„ç†ç¨‹åºæ‰§è¡Œï¼Œç»“æœä¸ºï¼š${result}`); }) .then(() =\u0026gt; { console.log(\u0026#34;ç¬¬äºŒä¸ªå¤„ç†ç¨‹åºæ‰§è¡Œ\u0026#34;); }) .catch((error) =\u0026gt; { console.error(`æ•è·åˆ°é”™è¯¯ï¼š${error}`); }) .finally(() =\u0026gt; { console.log(\u0026#34;æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œçš„finallyå¤„ç†ç¨‹åº\u0026#34;); }); è¾“å‡º\n1 2 3 ç¬¬ä¸€ä¸ªå¤„ç†ç¨‹åºæ‰§è¡Œï¼Œç»“æœä¸ºï¼šæˆåŠŸ ç¬¬äºŒä¸ªå¤„ç†ç¨‹åºæ‰§è¡Œ æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œçš„finallyå¤„ç†ç¨‹åº ä¼ é€’è§£å†³å€¼å’Œæ‹’ç»ç†ç”± å½“ä¸€ä¸ªPromiseå¯¹è±¡è¿›å…¥\u0026quot;å·²æˆåŠŸ\u0026quot;æˆ–\u0026quot;å·²å¤±è´¥\u0026quot;çš„è½å®šçŠ¶æ€åï¼Œå®ƒä¼šæä¾›ç›¸åº”çš„è§£å†³å€¼ï¼ˆå¦‚æœæˆåŠŸï¼‰æˆ–æ‹’ç»ç†ç”±ï¼ˆå¦‚æœå¤±è´¥ï¼‰ç»™ä¸ä¹‹ç›¸å…³è”çš„å¤„ç†ç¨‹åºã€‚è¿™äº›è§£å†³å€¼å’Œæ‹’ç»ç†ç”±ä¼šä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’ç»™å¤„ç†ç¨‹åºï¼Œä»è€Œå…è®¸è¿›ä¸€æ­¥æ“ä½œè¿™äº›å€¼ã€‚\nå½“ä¸€ä¸ªPromiseæˆåŠŸï¼ˆé€šè¿‡è°ƒç”¨resolve()ï¼‰æ—¶ï¼Œè§£å†³å€¼ä¼šä¼ é€’ç»™.then()å¤„ç†ç¨‹åºï¼Œå…è®¸æ‚¨è¿›ä¸€æ­¥æ“ä½œè¿™ä¸ªå€¼ã€‚ å½“ä¸€ä¸ªPromiseå¤±è´¥ï¼ˆé€šè¿‡è°ƒç”¨reject()ï¼‰æ—¶ï¼Œæ‹’ç»ç†ç”±ä¼šä¼ é€’ç»™.catch()å¤„ç†ç¨‹åºï¼Œå…è®¸æ‚¨å¤„ç†é”™è¯¯æƒ…å†µã€‚ åœ¨æ‰§è¡ŒPromiseçš„æ‰§è¡Œå™¨å‡½æ•°ä¸­ï¼Œè§£å†³å€¼å’Œæ‹’ç»ç†ç”±æ˜¯ä½œä¸ºresolve()å’Œreject()å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’çš„ã€‚ Promise.resolve()å’ŒPromise.reject()æ–¹æ³•åœ¨è¢«è°ƒç”¨æ—¶ä¹Ÿå¯ä»¥æ¥æ”¶è§£å†³å€¼å’Œæ‹’ç»ç†ç”±ï¼Œå¹¶è¿”å›ä¸€ä¸ªå·²ç»å¤„äºç›¸åº”çŠ¶æ€çš„Promiseå¯¹è±¡ã€‚è¿™äº›å€¼å°†ä¼šä¼ é€’ç»™ä¸ä¹‹å…³è”çš„å¤„ç†ç¨‹åºã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 function fetchDataFromServer(url) { return new Promise((resolve, reject) =\u0026gt; { setTimeout(() =\u0026gt; { const success = Math.random() \u0026lt; 0.7; if (success) { const data = { id: 1, name: \u0026#34;John Doe\u0026#34; }; resolve(data); // è¯·æ±‚æˆåŠŸï¼Œä¼ é€’æ•°æ® } else { reject(\u0026#34;ç½‘ç»œè¯·æ±‚å¤±è´¥\u0026#34;); // è¯·æ±‚å¤±è´¥ï¼Œä¼ é€’é”™è¯¯ä¿¡æ¯ } }, 1000); }); } fetchDataFromServer(\u0026#34;https://example.com/api/data\u0026#34;) .then((response) =\u0026gt; { console.log(\u0026#34;æˆåŠŸè·å–æ•°æ®ï¼š\u0026#34;, response); // åœ¨è¿™é‡Œå¯ä»¥å¯¹è·å–åˆ°çš„æ•°æ®è¿›è¡Œæ“ä½œ return response.name; // è¿”å›ä¸€ä¸ªæ–°å€¼ }) .catch((error) =\u0026gt; { console.error(\u0026#34;ç½‘ç»œè¯·æ±‚é”™è¯¯ï¼š\u0026#34;, error); // åœ¨è¿™é‡Œå¯ä»¥å¤„ç†ç½‘ç»œè¯·æ±‚å¤±è´¥çš„æƒ…å†µ throw new Error(\u0026#34;å¤„ç†å¤±è´¥\u0026#34;); //ä¸ä¼šé˜»æ­¢ä»£ç æ‰§è¡Œ }) .then((value) =\u0026gt; { console.log(\u0026#34;åœ¨ç¬¬äºŒä¸ª.then()ä¸­è·å–çš„å€¼ï¼š\u0026#34;, value); }) .catch((error) =\u0026gt; { console.error(\u0026#34;åœ¨ç¬¬äºŒä¸ª.catch()ä¸­è·å–çš„é”™è¯¯ï¼š\u0026#34;, error.message); }); console.log(\u0026#34;ç½‘ç»œè¯·æ±‚å·²å‘å‡º\u0026#34;); å›¾1\nå›¾2\næœŸçº¦è¿é”å½¢æˆPromiseé“¾ å‰æ–‡æåˆ°è¿‡thençš„é“¾å¼è°ƒç”¨ï¼Œä¹Ÿè¢«ç§°ä¸ºæœŸçº¦è¿é”ï¼Œthenã€catchå’Œfinallyéƒ½è¿”å›ä¸€ä¸ªæ–°æœŸçº¦å¯¹è±¡ï¼Œé“¾å¼è°ƒç”¨å®ƒä»¬å°±ä¼šå½¢æˆä¸€æ¡æœŸçº¦é“¾ã€‚\n1 2 3 4 5 6 7 8 9 10 function delay(ms, str) { return new Promise((resolve) =\u0026gt; { console.log(str); setTimeout(resolve, ms); }); } delay(1000, \u0026#34;promise 1\u0026#34;) .then(() =\u0026gt; delay(1000, \u0026#34;promise 2\u0026#34;)) .then(() =\u0026gt; delay(1000, \u0026#34;promise 3\u0026#34;)) .then(() =\u0026gt; delay(1000, \u0026#34;promise 4\u0026#34;)); æœŸçº¦å›¾çš„æ¦‚å¿µ ä¸€ä¸ªæœŸçº¦å¯èƒ½å¯¹åº”å¤šä¸ªå¤„ç†ç¨‹åºã€‚æ¯ä¸ªå¤„ç†ç¨‹åºä¹Ÿå¯èƒ½è¿”å›ä¸€ä¸ªæ–°æœŸçº¦ã€‚\nè¿™å°±å¯èƒ½å½¢æˆæœŸçº¦å›¾ã€‚\næœŸçº¦å›¾ä¸­ï¼Œä¸€ä¸ªæœŸçº¦æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒæœŸçº¦çš„å¤„ç†ç¨‹åºåˆ™æ˜¯å¯¹åº”æœŸçº¦çš„ä¸åŒè¾¹ã€‚\n1 2 3 4 5 6 7 8 9 10 let A = new Promise((resolve, reject) =\u0026gt; { console.log(\u0026#34;A\u0026#34;); resolve(); }); let B = A.then(() =\u0026gt; console.log(\u0026#39;B\u0026#39;)); let C = A.then(() =\u0026gt; console.log(\u0026#39;C\u0026#39;)); B.then(() =\u0026gt; console.log(\u0026#39;D\u0026#39;)); B.then(() =\u0026gt; console.log(\u0026#39;E\u0026#39;)); C.then(() =\u0026gt; console.log(\u0026#39;F\u0026#39;)); C.then(() =\u0026gt; console.log(\u0026#39;G\u0026#39;)); å¦‚ä¸Šä»£ç å½¢æˆå¦‚ä¸‹æœ‰å‘éå¾ªç¯çš„æœŸçº¦å›¾ï¼š\næœŸçº¦åˆæˆçš„é™æ€æ–¹æ³• æœŸçº¦åˆæˆæ˜¯æŒ‡å°†å¤šä¸ªæœŸçº¦ç»„åˆæˆä¸€ä¸ªæœŸçº¦ã€‚\nPromise.all Promise.all æ–¹æ³•åˆ›å»ºçš„æœŸçº¦ä¼šåœ¨ä¸€ç»„æœŸçº¦å…¨éƒ¨è§£å†³åå†è§£å†³ï¼Œå³å¹¶è¡Œæ‰§è¡Œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œå¹¶åœ¨æ‰€æœ‰æ“ä½œéƒ½æˆåŠŸå®Œæˆæ—¶æ‰è¿”å›ç»“æœï¼Œå¦‚æœå…¶ä¸­ä»»ä½•ä¸€ä¸ªå¤±è´¥ï¼ŒPromise.all æ–¹æ³•ç«‹å³è¿”å›å¤±è´¥çš„æœŸçº¦ã€‚\n1 Promise.all(iterable); Promise.all æ¥å—ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚å¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ ä¼šé€šè¿‡ Promise.resolve è½¬æ¢ä¸ºæœŸçº¦ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function createPromise() { return new Promise((resolve, reject) =\u0026gt; { setTimeout(() =\u0026gt; { const randomnNumber = Math.random(); (randomnNumber \u0026lt; 0.5 \u0026amp;\u0026amp; resolve(`æˆåŠŸ: ${randomnNumber}`)) || reject(`å¤±è´¥: ${randomnNumber}`); }, 1000); }); } let p = Promise.all([createPromise(), createPromise()]); console.log(p); p.then(() =\u0026gt; { console.log(\u0026#34;all resolved\u0026#34;); }).catch(() =\u0026gt; { console.log(\u0026#34;one rejected\u0026#34;); }); Promise.race å’ŒPromise.allä¸€æ ·ï¼ŒPromise.raceæ¥å—ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚å¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ ä¼šé€šè¿‡Promise.resolveè½¬æ¢ä¸ºæœŸçº¦ã€‚\nä¸åŒçš„æ˜¯ï¼Œraceè¡¨ç¤ºâ€œç«äº‰ï¼›è§’é€â€çš„æ„æ€ï¼ŒPromise.raceçš„å¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ è½¬æ¢åçš„æœŸçº¦è°å…ˆsettledå°±è¿”å›è°ã€‚\nå‚è€ƒèµ„æ–™ JavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬4ç‰ˆï¼‰ ","date":"2023-10-10T00:00:00Z","permalink":"http://localhost:1313/p/javascriptpromise/","title":"ã€JavaScriptã€‘Promise"},{"content":"ç®€ä»‹ thisæ˜¯å‡½æ•°å†…éƒ¨çš„ç‰¹æ®Šå¯¹è±¡ä¹‹ä¸€ï¼ˆå…¶ä»–è¿˜æœ‰argumentsã€callerã€new.targetï¼‰ã€‚\nthisçš„æŒ‡å‘æˆ–å€¼æ˜¯ä¸ç¡®å®šçš„ï¼Œå–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚å¹¶ä¸”åœ¨ä¸¥æ ¼æ¨¡å¼å’Œéä¸¥æ ¼æ¨¡å¼ä¸‹çš„è¡¨ç°ä¹Ÿä¸åŒã€‚\nå…¨å±€ä¸Šä¸‹æ–‡ä¸­çš„this å½“å‡½æ•°ä¸ä½œä¸ºå¯¹è±¡çš„å±æ€§è¢«è°ƒç”¨æ—¶ï¼ŒthisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œæµè§ˆå™¨ä¸­æ˜¯windowå¯¹è±¡ã€‚\n1 2 3 console.log(this); this.name = \u0026#39;Hello\u0026#39;; console.log(window.name); // Hello æ— è®ºä½¿ä¸ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œä¸Šé¢çš„thiséƒ½æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚\nä¸è®ºåœ¨å“ªä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œéƒ½å¯ä»¥ä½¿ç”¨globalThisè·å–å…¨å±€å¯¹è±¡ã€‚\nå‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„this å‡½æ•°å†…éƒ¨çš„thisç”±å‡½æ•°çš„è°ƒç”¨æ–¹å¼å†³å®šã€‚\n1 2 3 4 5 6 7 8 9 10 const obj = { getThis: function () { console.log(this); }, }; function getThis() { console.log(this); } obj.getThis(); getThis(); è‹¥æ˜¯ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œthisçš„å€¼éœ€è¦è‡ªè¡ŒæŒ‡å®šä¸ºä»»æ„å€¼ï¼Œé»˜è®¤ä¸ºundefinedã€‚\n1 2 3 4 function getThis() { \u0026#34;use strict\u0026#34;; console.log(this); } å‡½æ•°ä½œä¸ºå¯¹è±¡æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œthisç»‘å®šä¸ºè°ƒç”¨çš„å¯¹è±¡ã€‚\nå½¢å¼ä¸ºobj.func()ï¼Œfuncçš„thisè¢«ç»‘å®šä¸ºobj,æ— è®ºfuncæ˜¯å¦æ˜¯objåŸå‹é“¾ä¸Šçš„æ–¹æ³•ã€‚\nç±»ä¸Šä¸‹æ–‡ä¸­çš„this ç±»çš„æœ¬è´¨æ˜¯ä¹Ÿæ˜¯å‡½æ•°ã€‚\nç±»çš„æ‰€æœ‰éé™æ€æ–¹æ³•éƒ½è¢«æ·»åŠ åˆ°ç±»çš„æ„é€ å‡½æ•°ä¸­çš„thisçš„åŸå‹ä¸Šã€‚\n1 2 3 4 5 6 7 8 9 10 11 class Example { constructor() { const proto = Object.getPrototypeOf(this); console.log(Object.getOwnPropertyNames(proto)); } first(){} second(){} static third(){} } new Example(); // [\u0026#39;constructor\u0026#39;, \u0026#39;first\u0026#39;, \u0026#39;second\u0026#39;] æ´¾ç”Ÿç±»ä¸­çš„this æ´¾ç”Ÿç±»ä¸­çš„æ„é€ å‡½æ•°ä¸­çš„thisä¸ä¼šè‡ªåŠ¨ç»‘å®šï¼Œéœ€è¦ä½¿ç”¨super()ï¼Œç›¸å½“äºthis = new Base()ï¼Œå…¶ä¸­Baseä¸ºåŸºç±»ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 class Base {} // æ´¾ç”Ÿç±»æ²¡æœ‰æ„é€ å‡½æ•° class Good extends Base {} // æ´¾ç”Ÿç±»æ„é€ å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡æ›¿æ¢this class AlsoGood extends Base { constructor() { return { a: 5 }; } } class Better extends Good { constructor() { super(); } } // æ´¾ç”Ÿç±»å¸¦æœ‰ç©ºæ„é€ å‡½æ•° class Bad extends Base { constructor() {} } new Good(); new AlsoGood(); new Better(); new Bad(); // Uncaught ReferenceError: must call super constructor before using \u0026#39;this\u0026#39; in derived class constructor callã€applyå’Œbindç»‘å®šthis å½“ä½¿ç”¨callæˆ–applyè°ƒç”¨æ—¶ï¼ŒthisæŒ‡å‘ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚\n1 2 3 func.call(thisArg, arg1, arg2, ...); func.apply(thisArg, [argsArray]); // argsArrayä¸ºå‚æ•°æ•°ç»„ func.bind(thisArg, arg1, arg2, ...); callå’Œbindçš„åŒºåˆ«ï¼šcallä¼šç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œbindä¸ä¼šç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œä½ å¯ä»¥éšæ—¶è°ƒç”¨å®ƒã€‚ä½†æ˜¯bindåªç”Ÿæ•ˆä¸€æ¬¡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function add(c, d) { return this.a + this.b + c + d; } var o = { a: 1, b: 3 }; // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨ä½œâ€œthisâ€çš„å¯¹è±¡ // å…¶ä½™å‚æ•°ç”¨ä½œå‡½æ•°çš„å‚æ•° add.call(o, 5, 7); // 16 // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨ä½œâ€œthisâ€çš„å¯¹è±¡ // ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„ä¸¤ä¸ªæˆå‘˜ç”¨ä½œå‡½æ•°å‚æ•° add.apply(o, [10, 20]); // 34 // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨ä½œâ€œthisâ€çš„å¯¹è±¡ // å…¶ä½™å‚æ•°ç”¨ä½œå‡½æ•°çš„å‚æ•° let newAdd = add.bind(o, 11, 22); newAdd(); // 37 newAdd = newAdd.bind({ a: 0, b: 0 }, 11, 22); // 37 callã€applyå’Œbindå¦‚æœä¼ å…¥çš„thiså‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯åŸå§‹å€¼ï¼š\næ•°å­—ï¼Œthis = new Number(num) å­—ç¬¦ä¸²ï¼Œthis = new String(str) nullæˆ–undefinedï¼Œthis = globalThis ç®­å¤´å‡½æ•°ä¸­çš„this ç®­å¤´å‡½æ•°ä¸­çš„thisä¸å°é—­è¯æ³•ç¯å¢ƒçš„thisä¿æŒä¸€è‡´ã€‚\né€šä¿—ç‚¹è¯´ï¼Œå°±æ˜¯ä¸å®šä¹‰æ—¶è€Œéè°ƒç”¨æ—¶åœ¨çš„è¯æ³•ç¯å¢ƒçš„thisä¿æŒä¸€è‡´ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 var globalObject = this; var foo = () =\u0026gt; this; console.log(foo() === globalObject); // true // ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ var obj = { foo: foo }; console.log(obj.foo() === globalObject); // true // å°è¯•ä½¿ç”¨ call æ¥è®¾å®š this console.log(foo.call(obj) === globalObject); // true // å°è¯•ä½¿ç”¨ bind æ¥è®¾å®š this foo = foo.bind(obj); console.log(foo() === globalObject); // true callã€applyå’Œbindéƒ½æ— æ³•æ”¹å˜ç®­å¤´å‡½æ•°çš„thisã€‚\nä½äºå‡½æ•°ä¸­çš„ç®­å¤´å‡½æ•°ï¼š\n1 2 3 function foo(){ return () =\u0026gt; this; } fooè¿”å›äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œç§°ä¸ºAï¼Œé‚£ä¹ˆAè¿”å›çš„thisä¸fooå‡½æ•°çš„thisä¿æŒä¸€è‡´ï¼Œè€Œfooçš„thisä¸å…¶è°ƒç”¨æ—¶æ‰€åœ¨è¯æ³•ç¯å¢ƒçš„thisä¸€è‡´ã€‚\n1 2 3 4 5 6 7 8 9 10 function foo() { return () =\u0026gt; this; } foo()(); // Window function bar() { return foo(); } bar()(); // Window const obj = { a:1} foo.call(obj)().a; // 1 å‚è€ƒèµ„æ–™ this globalThis ","date":"2023-10-10T00:00:00Z","permalink":"http://localhost:1313/p/javascriptthis/","title":"ã€JavaScriptã€‘this"},{"content":"ä»å•è¯é‡Šä¹‰ä¸Šçœ‹ï¼Œtype ofâ€”â€”æŸæŸçš„ç±»å‹ï¼Œinstance ofâ€”â€”æŸæŸçš„å®ä¾‹ã€‚\nä»ä½œç”¨ä¸Šçœ‹ï¼Œtypeofè¿”å›å³å€¼çš„æ•°æ®ç±»å‹çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚å¦‚ä¸‹ä»£ç å±•ç¤ºå¸¸è§ç±»å‹åŠtypeofçš„å¯¹åº”è¾“å‡ºï¼š\n1 2 3 4 5 6 7 8 console.log(typeof 520) //\u0026#34;number\u0026#34; console.log(typeof \u0026#34;1314\u0026#34;) //\u0026#34;string\u0026#34; console.log(typeof true) //\u0026#34;boolean\u0026#34; console.log(typeof undefined) //\u0026#34;undefined\u0026#34; console.log(typeof {}) //\u0026#34;object\u0026#34; console.log(typeof function(){}) //\u0026#34;function\u0026#34; console.log(typeof Symbol(\u0026#34;ShadowKylin\u0026#34;)) //\u0026#34;symbol\u0026#34; console.log(typeof null); //\u0026#34;object\u0026#34; typeofå¯¹äºåŸå§‹å€¼å¾ˆæœ‰ç”¨ï¼Œä½†ä¸èƒ½æœ‰æ•ˆåŒºåˆ†æ•°ç»„ã€å¯¹è±¡ã€‚\ninstanceofç”¨äºæ£€æŸ¥å¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç±»çš„å®ä¾‹ï¼Œæ¢è¨€ä¹‹ï¼Œæ˜¯å¦æ˜¯æŸä¸ªæ„é€ å‡½æ•°çš„å®ä¾‹ï¼Œå†æ¢è¨€ä¹‹ï¼Œæ˜¯å¦åœ¨åŸå‹é“¾ä¸Šç»§æ‰¿è‡ªè¯¥æ„é€ å‡½æ•°çš„åŸå‹ã€‚å¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼š\n1 2 3 4 5 class Person {} const person=new Person() console.log(person instanceof Person)\t//true console.log(person instanceof Object)\t//trueï¼ŒObjectæ˜¯æ‰€æœ‰å¯¹è±¡çš„åŸºç±» é‚£å°±è¦æƒ³äº†ï¼Œèƒ½ä¸èƒ½ç”¨typeofåˆ¤æ–­å®ä¾‹ï¼Œæˆ–è€…ç”¨instanceofåˆ¤æ–­ç±»å‹å‘¢ï¼Ÿå½“ç„¶éƒ½ä¸èƒ½äº†ã€‚å®ä¾‹æ˜¯å¯¹è±¡ï¼Œå¯¹è±¡ç±»å‹å°±æ˜¯objectï¼›instanceofè¦æ±‚å·¦å€¼ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥åªèƒ½åˆ¤æ–­å¯¹è±¡ï¼Œ1 instanceof Numberç»“æœæ˜¯falseã€‚\n","date":"2023-10-10T00:00:00Z","permalink":"http://localhost:1313/p/javascripttypeof%E5%92%8Cinstanceof/","title":"ã€JavaScriptã€‘typeofå’Œinstanceof"},{"content":"å¼•è¨€ æµ…æ‹·è´ã€æ·±æ‹·è´æ˜¯å¯¹å¼•ç”¨ç±»å‹è€Œè¨€çš„ã€‚\nå¼•ç”¨ç±»å‹çš„å˜é‡å¯¹åº”ä¸€ä¸ªæ ˆåŒºåœ°å€ï¼Œè¿™ä¸ªæ ˆåŒºåœ°å€å¤„å­˜å‚¨çš„å€¼æ˜¯å­˜æ”¾çš„çœŸæ­£çš„æ•°æ®çš„å †åŒºåœ°å€ã€‚\nåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ä¹Ÿå¯¹åº”ä¸€ä¸ªæ ˆåŒºåœ°å€ï¼Œä½†æ˜¯è¯¥åœ°å€å­˜å‚¨çš„æ˜¯å…¶çœŸæ­£çš„å€¼ã€‚\nlet a = bå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\nlet obj2 = obj1å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\nJavaScriptçš„æ•°æ®ç±»å‹ï¼š\nä»€ä¹ˆæ˜¯æµ…æ‹·è´ï¼Ÿ æµ…æ‹·è´ï¼ˆshallow copyï¼‰åˆ›å»ºçš„æ–°å¯¹è±¡æ‹·è´çš„æ˜¯åŸå¯¹è±¡çš„å±æ€§çš„æ ˆåŒºåœ°å€ã€‚\nå›¾ä¸­åŒåå˜é‡çš„æ ˆåŒºåœ°å€ç›¸åŒï¼Œä¸åŒåå˜é‡çš„æ ˆåŒºåœ°å€ä¸åŒã€‚\naå’Œ_aã€bå’Œ_béƒ½æ˜¯å¤åˆ¶äº†åŸæ¥æ ˆåŒºåœ°å€çš„å€¼ï¼Œå¯¹_açš„ä¿®æ”¹ä¸ä¼šå½±å“aï¼Œå¯¹_bçš„ä¿®æ”¹å´ä¼šå½±å“bï¼Œå› ä¸ºå®ƒä»¬ç›¸å½“äºlet _b = bçš„å…³ç³»ã€‚\nä»€ä¹ˆæ˜¯æ·±æ‹·è´ï¼Ÿ æ·±æ‹·è´ï¼ˆdeep copyï¼‰æ‹·è´å¯¹è±¡çš„å †åŒºæ•°æ®ä¸ºæ–°å‰¯æœ¬ï¼Œå¦‚æ­¤æ–°æ—§å¯¹è±¡ä¸ä¼šäº’ç›¸å½±å“ã€‚\næµ…æ‹·è´çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ 1.JavaScriptä¸­å¯¹è±¡çš„åˆå¹¶ï¼ŒObject.assignæœ¬èº«æ˜¯æµ…æ‹·è´ã€‚\n1 2 3 4 5 6 7 const originalObject = {a:1,b:{c:1}} const shallowCopy = Object.assign({}, originalObject); console.log(shallowCopy === originalObject);//falseï¼Œæ¯”è¾ƒçš„æ˜¯æ ˆåŒºåœ°å€ shallowCopy.a = 2; shallowCopy.b.c = 2; console.log(originalObject.a);// 1 console.log(originalObject.b.c);// 2 ç¼ºé™·ï¼šObject.assignä¸ä¼šæ‹·è´ç»§æ‰¿å±æ€§ã€ä¸å¯æšä¸¾å±æ€§ã€‚\n2.å±•å¼€è¯­æ³•\n1 let newObj = {...obj} 3.æ•°ç»„çš„cancatæ–¹æ³•\n1 const newArr = oldArr.concat([]) 4.æ•°ç»„çš„sliceæ–¹æ³•\n1 const newArr = oldArr.slice(start[,end]); 5.æµ…æ‹·è´ç»†è‡´ç‚¹çœ‹ï¼Œæ˜¯å…ˆåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œç„¶åå°†åŸå¯¹è±¡çš„å±æ€§ç›´æ¥å¤åˆ¶åˆ°æ–°å¯¹è±¡ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥è‡ªå·±å†™ä¸€ä¸ªæµ…æ‹·è´å‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 function shallowCopy(obj) { if (obj === null || typeof obj !== \u0026#34;object\u0026#34;) return obj; const newObj = new obj.constructor(); for (let key of Reflect.ownKeys(obj)) { newObj[key] = obj[key]; } return newObj; } // Object.prototype.d = 1; const obj1 = { a: 1, b: { c: 1 } }; const obj2 = shallowCopy(obj1); obj2.a = 2; obj2.b.c = 2; 6.lodashåº“çš„æµ…æ‹·è´æ–¹æ³•\nå¦‚ä½•å®ç°æ·±æ‹·è´ï¼Ÿ 1.JSON.stringify()ä¸JSON.parse()\n1 2 3 4 function deepClone(obj){ if(obj === null || typeof obj !== \u0026#39;object\u0026#39;) return obj; return JSON.parse(JSON.stringify(obj)); } ç¼ºé™·ï¼š\nä¸¢å¤±functionã€undefinedã€Symbolè¿™å‡ ç§ç±»å‹çš„é”®å€¼å¯¹ NaNã€Infinityçš„å€¼ä¼šè½¬ä¸ºnull Dateä¼šå˜ä¸ºå­—ç¬¦ä¸² RegExpä¼šå˜æˆç©ºå¯¹è±¡ ä¸èƒ½æ‹·è´ä¸å¯æšä¸¾å±æ€§åŠåŸå‹é“¾ä¸Šçš„å±æ€§ ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨ 2.lodashåº“çš„æ·±æ‹·è´æ–¹æ³•\n3.æ‰‹åŠ¨å®ç°æ·±æ‹·è´å‡½æ•°åŸºç¡€ç‰ˆï¼š\n1 2 3 4 5 6 7 8 function deepClone(obj) { if(obj === null || typeof obj !== \u0026#39;object\u0026#39;) return obj; const newObj = new obj.constructor(); for (let key of Reflect.ownKeys(obj)) { newObj[key] = typeof obj[key] === \u0026#34;object\u0026#34; \u0026amp;\u0026amp; obj[key] !== null ? arguments.callee(obj[key]) : obj[key]; } return newObj; } const newObj = new obj.constructor()ç›¸æ¯”äºä½¿ç”¨{}ï¼Œä¿æŒäº†åŸå‹é“¾çš„ç»§æ‰¿ã€‚\nç¼ºé™·ï¼š\nä¸èƒ½å¤„ç†å¾ªç¯å¼•ç”¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´å †æ ˆæº¢å‡º å¯¹Arrayã€Dateã€RegExpã€Mapã€Setå¯¹è±¡çš„å¤„ç†ä¸å¥½ 4.æ‰‹åŠ¨å®ç°æ·±æ‹·è´å‡½æ•°è¿›é˜¶ç‰ˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 const deepClone = function (obj, hash = new WeakMap()) { if(obj === null || typeof obj !== \u0026#39;object\u0026#39;) return obj; // é˜²æ­¢å¾ªç¯å¼•ç”¨ if (hash.has(obj)) return hash.get(obj); // å¦‚æœå‚æ•°ä¸ºDate, RegExp, Set, Map, WeakMap, WeakSetç­‰å¼•ç”¨ç±»å‹ï¼Œåˆ™ç›´æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„å®ä¾‹ let type = [Date, RegExp, Set, Map, WeakMap, WeakSet]; if (type.includes(obj.constructor)) return new obj.constructor(obj); const newObj = new obj.constructor(); for (let key of Reflect.ownKeys(obj)) { newObj[key] = typeof obj[key] === \u0026#34;object\u0026#34; \u0026amp;\u0026amp; obj[key] !== null ? arguments.callee(obj[key]) : obj[key]; } // å“ˆå¸Œè¡¨è®¾å€¼ hash.set(obj, cloneObj); return cloneObj; }; å‚è€ƒèµ„æ–™ JavaScriptä¸­æµ…æ‹·è´å’Œæ·±æ‹·è´çš„åŒºåˆ«ä¸å®ç° JavaScriptæ·±æ‹·è´å’Œæµ…æ‹·è´çœ‹è¿™ç¯‡å°±å¤Ÿäº† å…³äºå †æ ˆçš„è®²è§£(æˆ‘è§è¿‡çš„æœ€ç»å…¸çš„) æ·±å…¥ç†è§£jsæ•°æ®ç±»å‹ä¸å †æ ˆå†…å­˜ jsä¸­æ·±æµ…æ‹·è´çš„å®ç°æ–¹å¼(å«å›¾è§£åŸç†) JavaScriptæ·±æ‹·è´çœ‹è¿™ç¯‡å°±è¡Œäº†ï¼ï¼ˆå®ç°å®Œç¾çš„ES6+ç‰ˆæœ¬ï¼‰ ã€JavaScriptã€‘arguments.calleeçš„ä½œç”¨åŠæ›¿æ¢æ–¹æ¡ˆ [javascriptæ ¸å¿ƒ-15]æ‰‹å†™å®Œç¾æ·±æ‹·è´ä»£ç å®ç°ğŸŒ JSä¸­JSONåºåˆ—åŒ–JSON.stringifyçš„å‘ç‚¹å’Œå¤„ç† Reflect.ownKeys() ","date":"2023-10-10T00:00:00Z","permalink":"http://localhost:1313/p/javascript%E7%90%86%E8%A7%A3%E5%AF%B9%E8%B1%A1/","title":"ã€JavaScriptã€‘ç†è§£å¯¹è±¡"},{"content":"å¼•è¨€ ç»„ä»¶é—´çš„å…³ç³»æœ‰çˆ¶å­å…³ç³»ã€å…„å¼Ÿå…³ç³»ã€ç¥–å­™å…³ç³»å’Œè¿œäº²å…³ç³»ã€‚\nä¸åŒçš„å…³ç³»é—´ï¼Œç»„ä»¶çš„é€šä¿¡æœ‰ä¸åŒçš„æ–¹å¼ã€‚\nä¸€ã€prop å’Œ $emit propå‘ä¸‹ä¼ é€’ï¼Œemitå‘ä¸Šä¼ é€’ã€‚\nçˆ¶ç»„ä»¶ä½¿ç”¨propå‘å­ç»„ä»¶ä¼ é€’ä¿¡æ¯ã€‚\nParentComponent.vue\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;ChildComponent msg=\u0026#34;Hello,this is the message passed from the parent component.\u0026#34;\u0026gt; \u0026lt;/ChildComponent\u0026gt; \u0026lt;ChildComponent :msg=\u0026#34;parentMsg\u0026#34;\u0026gt; \u0026lt;/ChildComponent\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import ChildComponent from \u0026#39;./ChildComponent.vue\u0026#39;; export default { data() { return { parentMsg: \u0026#39;Hello,this is the message passed from the parent component.\u0026#39; } }, components: { ChildComponent } } \u0026lt;/script\u0026gt; ChildComponent.vue\n1 2 3 4 5 6 7 8 9 10 11 12 \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;{{ msg }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { props: { msg: String } } \u0026lt;/script\u0026gt; å­ç»„ä»¶é€šè¿‡å®ä¾‹çš„äº‹ä»¶æ–¹æ³• $emit å‘çˆ¶ç»„ä»¶é€šä¿¡\n$emit è§¦å‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œå¹¶æ¥å—ä¸€ä¸ªå‚æ•°ä½œä¸ºæŠ›å‡ºå€¼ã€‚çˆ¶ç»„ä»¶é€šè¿‡ $event æˆ–å›è°ƒå‡½æ•°è·å–ä¼ é€’å€¼ã€‚\nParentComponent.vue\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;{{ msg }}\u0026lt;/p\u0026gt; \u0026lt;!-- \u0026lt;ChildComponent @custom-event=\u0026#34;handleCustomEvent\u0026#34;\u0026gt;\u0026lt;/ChildComponent\u0026gt; --\u0026gt; \u0026lt;!-- æˆ–è€… --\u0026gt; \u0026lt;ChildComponent @custom-event=\u0026#34;msg=$event\u0026#34;\u0026gt;\u0026lt;/ChildComponent\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import ChildComponent from \u0026#39;./ChildComponent.vue\u0026#39;; export default { data() { return { msg: \u0026#39;ç°åœ¨ä¸ºç©º\u0026#39; } }, components: { ChildComponent }, methods: { handleCustomEvent(msg) { this.msg = msg; } }, } \u0026lt;/script\u0026gt; ChildComponent.vue\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;button @click=\u0026#34;sendMsgToParent\u0026#34;\u0026gt;å‘é€æ¶ˆæ¯åˆ°çˆ¶ç»„ä»¶\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { data() { return { msg: \u0026#39;Hello,this is the message passed from child component.\u0026#39; } }, methods: { sendMsgToParent() { this.$emit(\u0026#39;custom-event\u0026#39;, this.msg); } } } \u0026lt;/script\u0026gt; ä¼˜å…ˆä½¿ç”¨ prop å’Œ äº‹ä»¶è¿›è¡Œçˆ¶å­ç»„ä»¶é—´çš„é€šä¿¡ã€‚\näºŒã€$parent å’Œ $children å­å®ä¾‹å¯ä»¥ç”¨ this.$parent è®¿é—®çˆ¶å®ä¾‹ï¼ŒåŒæ—¶å­å®ä¾‹è¢«æ¨å…¥çˆ¶å®ä¾‹çš„ $children æ•°ç»„ä¸­ã€‚\nParentComponent.vue\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h3\u0026gt;çˆ¶ç»„ä»¶\u0026lt;/h3\u0026gt; \u0026lt;p\u0026gt;æ¥è‡ªå­ç»„ä»¶ 1 çš„æ¶ˆæ¯:{{ msg1 }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;æ¥è‡ªå­ç»„ä»¶ 2 çš„æ¶ˆæ¯:{{ msg2 }}\u0026lt;/p\u0026gt; \u0026lt;button @click=\u0026#34;receiveMsgFromChildren\u0026#34;\u0026gt;æ¥æ”¶å­ç»„ä»¶çš„æ¶ˆæ¯\u0026lt;/button\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;button @click=\u0026#34;msg1= \u0026#39;ç°åœ¨ä¸ºç©º\u0026#39;;msg2=\u0026#39;ç°åœ¨ä¸ºç©º\u0026#39;\u0026#34;\u0026gt;æ¸…ç©º\u0026lt;/button\u0026gt; \u0026lt;ChildComponent1 /\u0026gt; \u0026lt;ChildComponent2 /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import ChildComponent1 from \u0026#39;./ChildComponent1.vue\u0026#39;; import ChildComponent2 from \u0026#39;./ChildComponent2.vue\u0026#39; export default { data() { return { msg1: \u0026#39;ç°åœ¨ä¸ºç©º\u0026#39;, msg2: \u0026#39;ç°åœ¨ä¸ºç©º\u0026#39; } }, components: { ChildComponent1, ChildComponent2 }, methods: { receiveMsgFromChildren() { this.msg1 = this.$children[0].msg; this.msg2 = this.$children[1].msg; } }, } \u0026lt;/script\u0026gt; ChildComponent1.vue\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h3\u0026gt;å­ç»„ä»¶1\u0026lt;/h3\u0026gt; \u0026lt;button @click=\u0026#34;sendMsgToParent\u0026#34;\u0026gt;å‘é€æ¶ˆæ¯ç»™çˆ¶ç»„ä»¶\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { data() { return { msg: \u0026#39;Hello,this is the message passed from child component1.\u0026#39; } }, methods: { sendMsgToParent() { this.$parent.msg1 = this.msg; } } } \u0026lt;/script\u0026gt; ChildComponent2.vue\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h3\u0026gt;å­ç»„ä»¶2\u0026lt;/h3\u0026gt; \u0026lt;button @click=\u0026#34;sendMsgToParent\u0026#34;\u0026gt;å‘é€æ¶ˆæ¯ç»™çˆ¶ç»„ä»¶\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { data() { return { msg: \u0026#39;Hello,this is the message passed from child component2.\u0026#39; } }, methods: { sendMsgToParent() { this.$parent.msg2 = this.msg; } } } \u0026lt;/script\u0026gt; ä¸‰ã€ä¾èµ–æ³¨å…¥ ä¾èµ–æ³¨å…¥è®¾ç½®ä¸¤ä¸ªé€‰é¡¹ï¼šprovide å’Œ inject\nprovide é€‰é¡¹å…è®¸æˆ‘ä»¬æä¾›ä¸€ç³»åˆ—æ•°æ®æˆ–æ–¹æ³•ã€‚ç„¶ååœ¨è®¾ç½®äº† provide é€‰é¡¹çš„ç»„ä»¶çš„æ‰€æœ‰åä»£ç»„ä»¶é‡Œéƒ½å¯ä»¥é€šè¿‡ inject é€‰é¡¹è·å–è¿™äº›æ•°æ®æˆ–æ–¹æ³•ã€‚\nprovide é€‰é¡¹åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°ã€‚\n1 2 3 4 5 6 7 8 9 provide: { foo: \u0026#39;bar\u0026#39; } provide: { return { foo: \u0026#39;bar\u0026#39; } } inject é€‰é¡¹å¯ä»¥ä¸ºä»¥ä¸‹å€¼ï¼š\nä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå…¶å…ƒç´ å€¼ä¸º provide å±æ€§çš„ keyã€‚ ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„ key æ˜¯ç»‘å®šåœ¨æœ¬åœ°çš„ï¼Œå¯ä»¥ä¸ provide ä¸åŒï¼Œå¦‚æœè¦è®¾ç½®ä¸ºä¸åŒåçš„å±æ€§ï¼Œé‚£ä¹ˆå°±è¦ç»™è¯¥å±æ€§è®¾ç½® from å±æ€§æ¥è¯´æ˜å®ƒæ¥è‡ªå“ªä¸ª provide æä¾›çš„å±æ€§ï¼ŒåŒæ—¶ä½ å¯ä»¥ä¸ºå®ƒæä¾›é»˜è®¤å€¼ defaultã€‚ 1 2 3 4 5 6 7 8 inject: [\u0026#39;foo\u0026#39;] inject: { foo: { from: \u0026#39;bar\u0026#39; defaultï¼š \u0026#39;foo\u0026#39; } } å››ã€ref å’Œ $refs ref å±æ€§ä¸ºæ™®é€š DOM å…ƒç´ æˆ–å­ç»„ä»¶æŒ‡å®šå¼•ç”¨ï¼Œè¯¥å¼•ç”¨ä¼šè¢«æ³¨å†Œåˆ°çˆ¶ç»„ä»¶çš„ $refs å¯¹è±¡ä¸Šã€‚\n1 2 3 \u0026lt;div ref=\u0026#34;div\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;child-component ref=\u0026#34;child\u0026#34; /\u0026gt; ä½¿ç”¨\n1 2 3 vm.$refs.div vm.$refs.child å¦‚æœä½ å°è¯•åœ¨ created æˆ– mounted é’©å­ä¸­è®¿é—® refï¼Œé€šå¸¸ä¼šå¾—åˆ° undefinedã€‚å› ä¸º ref æœ¬èº«æ˜¯ä½œä¸ºæ¸²æŸ“ç»“æœè¢«åˆ›å»ºçš„ï¼Œåœ¨åˆå§‹æ¸²æŸ“ï¼ˆbeforeUpdateä¹‹å‰ï¼‰çš„æ—¶å€™ä½ ä¸èƒ½è®¿é—®å®ƒä»¬ã€‚\näº”ã€äº‹ä»¶æ€»çº¿ ä½¿ç”¨äº‹ä»¶æ€»çº¿è¿›è¡Œç»„ä»¶é—´é€šä¿¡çš„æ­¥éª¤ï¼š\n1.åˆ›å»ºäº‹ä»¶æ€»çº¿\n1 2 3 // EventBus.js import Vue from \u0026#39;vue\u0026#39;; export const EventBus = new Vue(); 2.å¼•å…¥äº‹ä»¶æ€»çº¿\n1 import { EventBus } from \u0026#39;./EventBus.js\u0026#39;; 3.åœ¨å‘é€ç»„ä»¶ä¸­è§¦å‘äº‹ä»¶\n1 EventBus.$emit(\u0026#39;custom-event\u0026#39;,eventData); 4.åœ¨æ¥æ”¶ç»„ä»¶ä¸­ç›‘å¬äº‹ä»¶\n1 2 3 EventBus.$on(\u0026#39;custom-event\u0026#39;,(data)=\u0026gt;{ //å¤„ç† data }); 5.ç§»é™¤ç›‘å¬äº‹ä»¶\n1 EventBus.$off(\u0026#39;custom-event\u0026#39;)â€‹ å…­ã€$attrs ä¸ $listeners $attrsåŒ…å«äº†çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ‰€æœ‰æ²¡æœ‰åœ¨å­ç»„ä»¶ props ä¸­å£°æ˜çš„å±æ€§ï¼ˆé™¤äº†classå’Œstyleï¼‰ã€‚å½“å­ç»„ä»¶æ²¡æœ‰å£°æ˜ä»»ä½•propsæ—¶ï¼Œ$attrsä¸­ä¼šåŒ…å«æ‰€æœ‰çˆ¶ç»„ä»¶ä¼ é€’çš„å±æ€§ï¼ˆé™¤äº†classå’Œstyleï¼‰ï¼Œè¿™åœ¨åˆ›å»ºé«˜çº§åˆ«çš„é€šç”¨ç»„ä»¶æ—¶éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºä½ æ— éœ€çŸ¥é“çˆ¶ç»„ä»¶ä¼šä¼ é€’å“ªäº›å±æ€§ã€‚\nä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹æ¥è¯´æ˜$attrsçš„ç”¨æ³•ï¼š\nå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸ºMyButtonçš„å­ç»„ä»¶ï¼Œå®ƒå¯ä»¥æ¥æ”¶labelå±æ€§ï¼Œä½†åŒæ—¶ä¹Ÿå¸Œæœ›å…è®¸çˆ¶ç»„ä»¶ä¼ é€’ä»»æ„é¢å¤–çš„HTMLå±æ€§ç»™æŒ‰é’®å…ƒç´ ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨$attrsæ¥å®ç°è¿™ä¸€ç‚¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 \u0026lt;template\u0026gt; \u0026lt;button v-bind=\u0026#34;$attrs\u0026#34;\u0026gt; {{ label }} \u0026lt;/button\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { props: { label: String, }, }; \u0026lt;/script\u0026gt; åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼ŒMyButtonç»„ä»¶åªå£°æ˜äº†ä¸€ä¸ªåä¸ºlabelçš„propï¼Œä½†å®ƒä½¿ç”¨v-bind=\u0026quot;$attrs\u0026quot;å°†æ‰€æœ‰çˆ¶ç»„ä»¶ä¼ é€’çš„å±æ€§ç»‘å®šåˆ°æŒ‰é’®å…ƒç´ ä¸Šã€‚è¿™æ„å‘³ç€ï¼Œçˆ¶ç»„ä»¶å¯ä»¥åƒè¿™æ ·ä½¿ç”¨MyButtonï¼š\n1 \u0026lt;MyButton label=\u0026#34;Click me\u0026#34; class=\u0026#34;btn btn-primary\u0026#34; id=\u0026#34;my-button\u0026#34; @click.native=\u0026#34;handleClick\u0026#34; /\u0026gt; åœ¨è¿™é‡Œï¼Œclasså’Œidå±æ€§ä¼šè¢«ä¼ é€’åˆ°\u0026lt;button\u0026gt;å…ƒç´ ï¼Œè€Œlabelä¼šè¢«è§£æä¸º\u0026quot;Click me\u0026quot;ï¼ŒåŒæ—¶@clickäº‹ä»¶ä¹Ÿä¼šæ­£å¸¸å·¥ä½œã€‚\n$listeners åŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­çš„ (ä¸å« .native ä¿®é¥°å™¨çš„) v-on äº‹ä»¶ç›‘å¬å™¨ã€‚å®ƒå¯ä»¥é€šè¿‡ v-on=\u0026quot;$listeners\u0026quot; ä¼ å…¥å†…éƒ¨ç»„ä»¶â€”â€”åœ¨åˆ›å»ºæ›´é«˜å±‚æ¬¡çš„ç»„ä»¶æ—¶éå¸¸æœ‰ç”¨ã€‚\nParentComponent.vue\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;MyButton label=\u0026#34;Click me\u0026#34; class=\u0026#34;btn btn-primary\u0026#34; id=\u0026#34;my-button\u0026#34; @click=\u0026#34;handleClick\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import MyButton from \u0026#39;./MyButton.vue\u0026#39; export default { components: { MyButton }, methods: { handleClick() { console.log(\u0026#39;ç‚¹å‡»äº†1æ¬¡\u0026#39;) } } }; \u0026lt;/script\u0026gt; MyButton.vue\n1 2 3 4 5 6 7 8 9 10 11 12 13 \u0026lt;template\u0026gt; \u0026lt;button v-bind=\u0026#34;$attrs\u0026#34; v-on=\u0026#34;$listeners\u0026#34;\u0026gt; {{ label }} \u0026lt;/button\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { props: { label: String, }, }; \u0026lt;/script\u0026gt; ä¸ƒã€Vuex ä»¥åä¸“é—¨å­¦ä¹ ï¼Œåœ¨æ­¤ä¸åšä»‹ç»å…ˆã€‚\nå…«ã€æµè§ˆå™¨å®¢æˆ·ç«¯å­˜å‚¨ MDN-å®¢æˆ·ç«¯å­˜å‚¨\nå‚è€ƒèµ„æ–™ ","date":"2023-09-17T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E7%BB%84%E4%BB%B6%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F/","title":"ã€Vue 2ã€‘ç»„ä»¶é—´çš„é€šä¿¡æ–¹å¼"},{"content":"ECMA-262å°†å¯¹è±¡å®šä¹‰ä¸ºä¸€ç»„å±æ€§çš„æ— åºé›†åˆã€‚\n1 å†…éƒ¨å±æ€§æè¿° 1.1 æ•°æ®å±æ€§ [[Configurable]]ï¼šå¯é…ç½®æ€§ï¼Œç›´æ¥å®šä¹‰åœ¨å¯¹è±¡çš„å±æ€§è¯¥ç‰¹æ€§é»˜è®¤ä¸º trueï¼Œè¡¨ç¤ºå¯ä»¥å¯¹å±æ€§è¿›è¡Œåˆ é™¤ã€ä¿®æ”¹ç­‰æ“ä½œã€‚ [[Enumerable]]ï¼šå¯æšä¸¾æ€§ï¼Œç›´æ¥å®šä¹‰åœ¨å¯¹è±¡çš„å±æ€§è¯¥ç‰¹æ€§é»˜è®¤ä¸º trueï¼Œå®ƒå†³å®šäº†æˆ‘ä»¬æ˜¯å¦å¯ä»¥é€šè¿‡for-inå¾ªç¯éå†å¯¹è±¡çš„å±æ€§ã€‚ [[Writable]]ï¼šå¯å†™æ€§ï¼Œç›´æ¥å®šä¹‰åœ¨å¯¹è±¡çš„å±æ€§è¯¥ç‰¹æ€§é»˜è®¤ä¸º trueï¼Œè¡¨ç¤ºå±æ€§çš„å€¼æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹ã€‚ [[Value]]ï¼šå±æ€§çš„å®é™…æ•°æ®å€¼ï¼Œé»˜è®¤ä¸º undefinedã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Object.definePropertyæ¥å®šä¹‰æ•°æ®å±æ€§ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 let student1 = { name: \u0026#34;student1\u0026#34; }; Object.defineProperty(student1, \u0026#34;sex\u0026#34;, { configurable: false, enumerable: false, writable: false, value: \u0026#34;male\u0026#34;, }); //æµ‹è¯•å¯é…ç½®æ€§ delete student1.sex; console.log(student1.sex); console.log(); //æµ‹è¯•å¯æšä¸¾æ€§ for (const key in student1) { console.log(key + \u0026#34; \u0026#34;); } console.log(); //æµ‹è¯•å¯å†™æ€§ student1.sex = \u0026#34;female\u0026#34;; console.log(student1.sex); è¾“å‡ºï¼š\n1 2 3 4 5 male name male é™¤äº†å±æ€§configurableå±æ€§ä¸ºfalseçš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥å¤šæ¬¡è°ƒç”¨definePropertyã€‚\nå¦‚æœè°ƒç”¨äº† defineProperty ä½†ä¸æŒ‡å®š configurableã€enumerableã€writableçš„å€¼ï¼Œåˆ™å®ƒä»¬é»˜è®¤è¢«è®¾ä¸º falseã€‚\n1.2 è®¿é—®å™¨å±æ€§ [[Configurable]]ï¼šè¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä¿®æ”¹ã€‚ç›´æ¥å®šä¹‰åœ¨å¯¹è±¡çš„å±æ€§è¯¥ç‰¹æ€§é»˜è®¤ä¸ºtrueã€‚ [[Enumberable]]ï¼šè¡¨ç¤ºå±æ€§æ˜¯å¦å¯æšä¸¾ã€‚ç›´æ¥å®šä¹‰åœ¨å¯¹è±¡çš„å±æ€§è¯¥ç‰¹æ€§é»˜è®¤ä¸ºtrueã€‚ [[Get]]ï¼šè·å–å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚é»˜è®¤ä¸ºundefinedã€‚ [[Set]]ï¼šè®¾ç½®å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚é»˜è®¤ä¸ºundefinedã€‚ åŒæ ·æˆ‘ä»¬ä½¿ç”¨Object.definePropertyæ¥å®šä¹‰è®¿é—®å™¨å±æ€§ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 let person = { firstName: \u0026#34;John\u0026#34;, lastName: \u0026#34;Doe\u0026#34;, }; Object.defineProperty(person, \u0026#39;fullName\u0026#39;, { get() { return this.firstName + \u0026#34; \u0026#34; + this.lastName; }, set(value) { const parts = value.split(\u0026#34; \u0026#34;); this.firstName = parts[0]; this.lastName = parts[1]; } }); console.log(person.fullName); person.fullName = \u0026#34;Jane Smith\u0026#34;; console.log(person.firstName); console.log(person.lastName); è¾“å‡ºï¼š\n1 2 3 John Doe Jane Smith è®¿é—®å™¨å±æ€§å’Œæ•°æ®å±æ€§çš„ä¸åŒä¹‹å¤„åœ¨äºï¼šæ•°æ®å±æ€§å…³æ³¨äºæ•°æ®çš„å€¼ä¸å¯å†™æ€§ï¼Œè®¿é—®å™¨å±æ€§å…³æ³¨è·å–å’Œè®¾ç½®æ•°æ®æ—¶è¿›è¡Œçš„æ“ä½œã€‚\n2 å®šä¹‰å¤šä¸ªå±æ€§ å¯ä»¥ä½¿ç”¨Object.definePropertiesä¸€æ¬¡æ€§å®šä¹‰å¤šä¸ªå±æ€§ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 let person={}; Object.defineProperties(person,{ name:{ value: \u0026#39;Jane\u0026#39; }, age:{ get(){ return this.age; }, set(value){ this.age=value; } } }); 3 è¯»å–å±æ€§ç‰¹æ€§ ä½¿ç”¨Object.getOwnPropertyDescriptorè¯»å–å±æ€§çš„å±æ€§æè¿°ç¬¦ã€‚\nä½¿ç”¨ä¸Šé¢ä¸€èŠ‚ä¸­å®šä¹‰å¥½çš„personå¯¹è±¡ã€‚\n1 2 3 4 5 6 7 8 9 10 let descriptor1=Object.getOwnPropertyDescriptor(person,\u0026#39;name\u0026#39;); console.log(\u0026#39;descriptor1.configurableï¼š\u0026#39;+descriptor1.configurable); console.log(\u0026#39;descriptor1.enumerableï¼š\u0026#39;+descriptor1.enumerable); console.log(\u0026#39;descriptor1.writableï¼š\u0026#39;+descriptor1.writable); console.log(\u0026#39;descriptor1.valueï¼š\u0026#39;+descriptor1.value); let descriptor2=Object.getOwnPropertyDescriptor(person,\u0026#39;age\u0026#39;); console.log(\u0026#39;descriptor2.configurableï¼š\u0026#39;+descriptor2.configurable); console.log(\u0026#39;descriptor2.enumerableï¼š\u0026#39;+descriptor2.enumerable); console.log(\u0026#39;descriptor2.getï¼š\u0026#39;+descriptor2.get); console.log(\u0026#39;descriptor2.setï¼š\u0026#39;+descriptor2.set); è¿è¡Œç»“æœï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 descriptor1.configurableï¼šfalse descriptor1.enumerableï¼šfalse descriptor1.writableï¼šfalse descriptor1.valueï¼šJane descriptor2.configurableï¼šfalse descriptor2.enumerableï¼šfalse descriptor2.getï¼šget() { return this.age; } descriptor2.setï¼šset(value) { this.age = value; } æ³¨æ„åˆ°æ²¡æœ‰è®¾ç½®çš„configurableã€enumerableã€writableéƒ½è¢«è®¾ç½®ä¸ºfalseã€‚\n4 åˆå¹¶å¯¹è±¡ åˆå¹¶å¯¹è±¡å³å°†ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸Šï¼Œè¿™ä¹Ÿè¢«ç§°ä¸ºæ··å…¥ï¼ˆmixinï¼‰ã€‚å­¦è¿‡Vueçš„çŸ¥é“ï¼ŒVueé‡Œé¢ä¹Ÿæœ‰ä¸ªæ··å…¥çš„æ¦‚å¿µï¼ŒVue2 æ··å…¥ã€‚\nES6æä¾›Object.assign()æ–¹æ³•æ¥åˆå¹¶å¯¹è±¡ã€‚\nè¯¥æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡çš„å¯æšä¸¾å’Œè‡ªæœ‰å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸Šã€‚\nå¯æšä¸¾åˆ¤æ–­ï¼šObject.propertyIsEnumerable()ã€‚ è‡ªæœ‰å±æ€§åˆ¤æ–­ï¼šObject.hasOwnProperty()ã€‚ å¤åˆ¶çš„å…·ä½“æ“ä½œæ˜¯è°ƒç”¨æºå¯¹è±¡çš„getè·å–å±æ€§ï¼Œå†è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„setå±æ€§ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 const target = { _a:\u0026#39;\u0026#39;, // set a(val) { // console.log(\u0026#34;è°ƒç”¨targetå±æ€§açš„set\u0026#34;); // this._a = val; // } }; Object.defineProperty(target, \u0026#39;a\u0026#39;, { set(val) { console.log(\u0026#39;è°ƒç”¨targetå±æ€§açš„set\u0026#39;); this._a = val; }, }); const source1 = { // get a() { // console.log(\u0026#34;è°ƒç”¨source1å±æ€§açš„get\u0026#34;); // return \u0026#34;a\u0026#34;; // } }; Object.defineProperty(source1, \u0026#34;a\u0026#34;, { get() { console.log(\u0026#34;è°ƒç”¨source1å±æ€§açš„get\u0026#34;); return \u0026#34;a\u0026#34;; }, enumerable: true }); const source2 = { b: \u0026#39;b\u0026#39; }; Object.assign(target, source1, source2); console.log(target); åœ¨å¯¹è±¡å­—é¢é‡ä¸­å®šä¹‰çš„å±æ€§çš„æœªè®¾ç½®çš„æ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§éƒ½ä¸ºé»˜è®¤å€¼ï¼Œè€Œåœ¨Object.definePropertyä¸­å®šä¹‰çš„å±æ€§çš„æœªè®¾ç½®çš„ç‰¹æ€§è¦ä¹ˆä¸ºfalseï¼Œè¦ä¹ˆä¸ºundefinedã€‚\nä¸Šé¢æˆ‘ä»¬ç»™source1çš„è®¿é—®å™¨å±æ€§aè®¾ç½®enumerable: trueå°±æ˜¯è¿™ä¸ªåŸå› ï¼Œä¸ç„¶æ— æ³•å¤åˆ¶aå±æ€§ã€‚\nè¿è¡Œç»“æœï¼š\n1 2 3 è°ƒç”¨source1å±æ€§açš„get è°ƒç”¨targetå±æ€§açš„set { _a: \u0026#39;a\u0026#39;, b: \u0026#39;b\u0026#39; } Object.assignè¿˜æœ‰ä»¥ä¸‹æ³¨æ„çš„åœ°æ–¹ï¼š\né‡åˆ°åŒåçš„å±æ€§ï¼Œåé¢çš„ä¼šè¦†ç›–å‰é¢çš„ã€‚\nObject.assignæ˜¯æµ…å¤åˆ¶ï¼Œå³åªå¤åˆ¶å¯¹è±¡å†…éƒ¨å…ƒç´ çš„å¼•ç”¨ã€‚\n1 2 3 4 const originalObject={a:1} const anotherShallowCopy = Object.assign({}, originalObject); console.log(anotherShallowCopy === originalObject);//false console.log(anotherShallowCopy.a === originalObject.a);//true åœ¨å¤åˆ¶è¿‡ç¨‹å‡ºç°é”™è¯¯ï¼ŒObject.assignä¸ä¼šå›æ»šåˆ°åˆå§‹çŠ¶æ€ã€‚\n5 ä¸¥æ ¼ç›¸ç­‰åˆ¤æ–­ å¤§å¤šæ•°æƒ…å†µæˆ‘ä»¬å¯ä»¥ä½¿ç”¨===æ¥åˆ¤æ–­ä¸¥æ ¼ç›¸ç­‰ï¼Œä½†ä»¥ä¸‹çš„ç‰¹æ®Šè¾¹ç•Œæƒ…å†µå´ä¸å°½äººæ„ï¼š\n1 2 3 4 console.log(+0 === -0); //true console.log(+0 === 0); //true console.log(-0 === 0); //true console.log(NaN === NaN); //false å…¶ä¸­NaNè¡¨ç¤ºNot a Numberï¼Œå¯ä»¥ä½¿ç”¨å…¨å±€å‡½æ•°isNaNæ£€æŸ¥ã€‚\nES6æä¾›äº†Object.isæ¥åº”å¯¹ä¸Šè¿°æ‰€æœ‰æƒ…å†µã€‚\n1 Object.is(v1,v2); ä½¿ç”¨é€’å½’+Object.is+å‰©ä½™å‚æ•°æ¯”è¾ƒå¤šä¸ªå€¼çš„ç›¸ç­‰æ€§ï¼š\n1 2 3 function areValuesEqual(a,...values){ return Object.is(a,values[0])\u0026amp;\u0026amp;(values.length\u0026lt;2||areValuesEqual(...values)); } æˆ–è€…ä½¿ç”¨everyï¼š\n1 2 3 function areValuesEqual(a, ...values) { return values.every(value =\u0026gt; Object.is(a, value)); } 6 å¢å¼ºçš„å¯¹è±¡è¯­æ³• 6.1 å±æ€§å€¼çš„ç®€å†™ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 const name = \u0026#34;John\u0026#34;; const age = 30; // ä½¿ç”¨å±æ€§å€¼ç®€å†™åˆ›å»ºå¯¹è±¡ const person = { name, age, sayHello() { console.log(`Hello, my name is ${this.name}.`); } }; console.log(person); // è¾“å‡º { name: \u0026#39;John\u0026#39;, age: 30 } person.sayHello(); // è¾“å‡º \u0026#34;Hello, my name is John.\u0026#34; 6.2 å¯è®¡ç®—å±æ€§ å¯è®¡ç®—å±æ€§å…è®¸ä½ åœ¨å®šä¹‰å¯¹è±¡æ—¶åœ¨æ–¹æ‹¬å·å†…ä½¿ç”¨è¡¨è¾¾å¼æ¥å®šä¹‰å¯¹è±¡åã€‚\n1 2 3 4 5 6 7 8 9 const methodSuffix = \u0026#34;Hello\u0026#34;; const dynamicObject = { [\u0026#34;say\u0026#34; + methodSuffix]() { console.log(\u0026#34;Hello, World!\u0026#34;); } }; dynamicObject.sayHello(); // è¾“å‡º \u0026#34;Hello, World!\u0026#34; 6.3 ç®€å†™å±æ€§å 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 let key=\u0026#39;Age\u0026#39;; let person={ _name: \u0026#39;Jane\u0026#39;, _age: \u0026#39;18\u0026#39;, get name(){ return this._name; }, set name(val){ this._name=val; }, sayHello() { console.log(`Hello, my name is ${this._name}.`); }, [\u0026#39;say\u0026#39;+key](){ console.log(`Hello, my age is ${this._age}.`); } }; 7 å¯¹è±¡è§£æ„ å¯¹è±¡è§£æ„æŒ‡å¯ä»¥ä½¿ç”¨ä¸å¯¹è±¡åŒ¹é…çš„ç»“æ„æ¥å®ç°å¯¹è±¡å±æ€§èµ‹å€¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 let person={ name: \u0026#39;Jane\u0026#39;, age: 18 }; //åˆ«å let {name:personName,age:personAge}=person; //å±æ€§ç®€å†™ let {name,age}=person; //æ²¡æœ‰åŒ¹é…çš„å±æ€§è¢«èµ‹å€¼ä¸ºundefined let {name,age,height}=person; //è§£æ„æ—¶èµ‹å€¼ let {name,age,height=180}=person; è§£æ„çš„æœ¬è´¨æ˜¯ä½¿ç”¨ToObjectå‡½æ•°å°†å…ƒæ•°æ®è½¬ä¸ºå¯¹è±¡ã€‚\nå› æ­¤ï¼Œnullå’Œundefinedä¸èƒ½è¢«è§£æ„ã€‚\nå¦‚æœç»™äº‹å…ˆå£°æ˜å¥½çš„å˜é‡èµ‹å€¼ï¼Œåˆ™è§£æ„è¡¨è¾¾å¼æ•´ä¸ªéœ€è¦åŒ…è£¹åœ¨ä¸€å¯¹æ‹¬å·é‡Œã€‚\n1ï¼‰åµŒå¥—è§£æ„\n1 let {outer:{inter}}=obj; 2ï¼‰éƒ¨åˆ†è§£æ„\nè§£æ„åƒæˆ‘ä»¬çš„å¯¹è±¡åˆå¹¶ä¸€æ ·ï¼Œæ˜¯å°½åŠ›è€Œä¸ºçš„è¡Œä¸ºï¼Œä¸€æ—¦è§£æ„è¿‡ç¨‹å‘ç”Ÿé”™è¯¯ï¼Œè¿‡ç¨‹ç»ˆæ­¢ä¸”æ— æ³•å›æ»šï¼Œä¹Ÿå°±æ˜¯åªè§£æ„äº†éƒ¨åˆ†ã€‚\n3ï¼‰å¯¹è±¡è§£æ„ä¸ºå‡½æ•°å‚æ•°\n1 2 3 4 5 6 7 function sum([a, b]) { return a + b; } const numbers = [3, 5]; console.log(sum(numbers)); // è¾“å‡º 8 ","date":"2023-09-16T00:00:00Z","permalink":"http://localhost:1313/p/javascript%E7%90%86%E8%A7%A3%E5%AF%B9%E8%B1%A1/","title":"ã€JavaScriptã€‘ç†è§£å¯¹è±¡"},{"content":"æµ®åŠ¨çš„è®¾è®¡åˆè¡· 1 float: left/right/both; æµ®åŠ¨æ˜¯ç½‘é¡µå¸ƒå±€æœ€å¤è€çš„æ–¹å¼ã€‚\næµ®åŠ¨ä¸€å¼€å§‹å¹¶ä¸æ˜¯ä¸ºäº†ç½‘é¡µå¸ƒå±€è€Œè®¾è®¡ï¼Œå®ƒçš„åˆè¡·æ˜¯å°†ä¸€ä¸ªå…ƒç´ æ‹‰åˆ°ä¸€ä¾§ï¼Œè¿™æ ·æ–‡æ¡£æµå°±èƒ½å¤ŸåŒ…å›´å®ƒã€‚\nå¸¸è§çš„ç”¨é€”æ˜¯æ–‡æœ¬ç¯ç»•å›¾ç‰‡ï¼š\næµ®åŠ¨å…ƒç´ ä¼šè¢«ç§»å‡ºæ­£å¸¸æ–‡æ¡£æµï¼Œå¹¶è¢«æ‹‰åˆ°å®¹å™¨è¾¹ç¼˜ã€‚\næ¸…é™¤æµ®åŠ¨çš„åŸå› åŠæ–¹æ³• æµ®åŠ¨å…ƒç´ çš„é«˜åº¦ä¸ä¼šè¿½åŠ åˆ°çˆ¶å…ƒç´ ä¸Šã€‚\nå¦‚æœæµ®åŠ¨çš„å…ƒç´ æ¯”å®¹å™¨é«˜ï¼Œé‚£ä¹ˆå°±å¯èƒ½å‘ç”Ÿå®¹å™¨æŠ˜å ç°è±¡ï¼š\nè¿™æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦æ¸…é™¤æµ®åŠ¨ã€‚\næ¸…é™¤æµ®åŠ¨ä¸å¤ªä¼˜é›…çš„æ–¹å¼ï¼šåœ¨å®¹å™¨æœ«å°¾æ·»åŠ ä¸€ä¸ªç©º divï¼Œè®¾ç½® clear: bothï¼Œæ¸…é™¤ä¸¤è¾¹æµ®åŠ¨ï¼Œä½¿å¾—å®¹å™¨ä¼šå‘ä¸‹æ‰©å±•åŒ…å«å®ƒã€‚\n1 \u0026lt;div style=\u0026#34;clear: both;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; æ—¢ç„¶æ˜¯æ·»åŠ ä¸€ä¸ª div å…ƒç´ ï¼Œä¸å¦‚ä½¿ç”¨ä¼ªå…ƒç´  ::after æ¥å®ç°ã€‚\n1 2 3 4 5 .clearfix::after{ display: block; content: \u0026#34; \u0026#34;; clear: both; } è¿™ä¸ª clearfix ç±»æ˜¯æ·»åŠ åˆ°åŒ…å«æµ®åŠ¨å…ƒç´ çš„å…ƒç´ ä¸Šï¼Œè€Œä¸æ˜¯æµ®åŠ¨å…ƒç´ æœ¬èº«ã€‚\nä½¿ç”¨ display: block çš„åŸå› ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œä¼ªå…ƒç´ æ˜¯å†…è”å…ƒç´ ï¼Œè€Œä¸æ˜¯å—çº§å…ƒç´ ã€‚ä¸ºäº†ç¡®ä¿ä¼ªå…ƒç´ å æ®ä¸€æ•´è¡Œå¹¶ä¸”åœ¨æµ®åŠ¨å…ƒç´ ä¹‹åæ¢è¡Œï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶è®¾ç½®ä¸ºå—çº§å…ƒç´ ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œclear å±æ€§åªå¯¹å—çº§å…ƒç´ ç”Ÿæ•ˆã€‚\nè®¾ç½® content: \u0026quot; \u0026quot; çš„åŸå› ï¼šè§£å†³ä¸€äº›æ—§ç‰ˆæµè§ˆå™¨çš„ Bugã€‚\næ¸…é™¤æµ®åŠ¨åçš„å¦ä¸€ä¸ªé—®é¢˜ï¼šæµ®åŠ¨å…ƒç´ çš„å¤–è¾¹è·ä¸ä¼šæŠ˜å åˆ°æ¸…é™¤æµ®åŠ¨åçš„å®¹å™¨å¤–éƒ¨ï¼Œä½†æ˜¯éæµ®åŠ¨å…ƒç´ ä¼šã€‚\nå¯¹æ­¤ï¼Œè§£å†³è¯¥é—®é¢˜çš„clearfixçš„ä¿®æ”¹ç‰ˆå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 .clearfix::after, .clearfix::before{ display: table; content: \u0026#34; \u0026#34;; } .clearfix::after{ clear: both; } ä¸ºä»€ä¹ˆä½¿ç”¨ display:table è€Œä¸æ˜¯ display: block ï¼šå¤–è¾¹è·æ— æ³•é€šè¿‡å•å…ƒæ ¼å…ƒç´ æŠ˜å ã€‚\næµ®åŠ¨é™·é˜±ï¼šæµè§ˆå™¨ä¼šå°†æµ®åŠ¨å…ƒç´ å°½å¯èƒ½åœ°æ”¾åœ¨é ä¸Šçš„åœ°æ–¹ã€‚\nå¦‚æœä¼—å¤šçš„æµ®åŠ¨å…ƒç´ é«˜åº¦ä¸ä¸€è‡´ï¼Œæœ€åå¯¼è‡´å¸ƒå±€ä¼šåƒå˜ä¸‡åŒ–ã€‚å“ªæ€•æ˜¯ 1px çš„é«˜åº¦å·®è·ä¹Ÿä¼šå¯¼è‡´æµ®åŠ¨é™·é˜±ã€‚\nè§£å†³æ–¹æ³•ï¼šç»™æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå…ƒç´ æ¸…é™¤å·¦æµ®åŠ¨ã€‚\nå‡è®¾æ¯è¡Œæœ‰ m ä¸ªå…ƒç´ ï¼š\n1 2 3 .floatElement::nth-child(mn+1){ clear: left } æµ®åŠ¨å¸ƒå±€ç¤ºä¾‹è§£æï¼šå¤è¯—æ¬£èµ åˆå§‹æºä»£ç å¦‚ä¸‹ï¼š\nindex.html\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;header\u0026gt; \u0026lt;h1\u0026gt;å¤è¯—æ¬£èµ\u0026lt;/h1\u0026gt; \u0026lt;/header\u0026gt; \u0026lt;main class=\u0026#34;main clearfix\u0026#34;\u0026gt; \u0026lt;h3\u0026gt;äº”è¨€ç»å¥\u0026lt;/h3\u0026gt; \u0026lt;div\u0026gt; \u0026lt;div class=\u0026#34;media\u0026#34;\u0026gt; \u0026lt;img class=\u0026#34;media-image\u0026#34; src=\u0026#34;ç›¸æ€.png\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;media-body\u0026#34;\u0026gt; \u0026lt;h4\u0026gt;ç›¸æ€Â·ç‹ç»´\u0026lt;/h4\u0026gt; \u0026lt;p\u0026gt; çº¢è±†ç”Ÿå—å›½ï¼Œæ˜¥æ¥å‘å‡ æã€‚ æ„¿å›å¤šé‡‡æ’·ï¼Œæ­¤ç‰©æœ€ç›¸æ€ã€‚ \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;media\u0026#34;\u0026gt; \u0026lt;img class=\u0026#34;media-image\u0026#34; src=\u0026#34;å¬ç­.png\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;media-body\u0026#34;\u0026gt; \u0026lt;h4\u0026gt;å¬ç­Â·æç«¯\u0026lt;/h4\u0026gt; \u0026lt;p\u0026gt; é¸£ç­é‡‘ç²ŸæŸ±ï¼Œç´ æ‰‹ç‰æˆ¿å‰ã€‚ æ¬²å¾—å‘¨éƒé¡¾ï¼Œæ—¶æ—¶è¯¯æ‹‚å¼¦ã€‚ \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;media\u0026#34;\u0026gt; \u0026lt;img class=\u0026#34;media-image\u0026#34; src=\u0026#34;æ±Ÿé›ª.png\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;media-body\u0026#34;\u0026gt; \u0026lt;h4\u0026gt;æ±Ÿé›ªÂ·æŸ³å®—å…ƒ\u0026lt;/h4\u0026gt; \u0026lt;p\u0026gt; åƒå±±é¸Ÿé£ç»ï¼Œä¸‡å¾„äººè¸ªç­ã€‚ å­¤èˆŸè“‘ç¬ ç¿ï¼Œç‹¬é’“å¯’æ±Ÿé›ªã€‚ \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;media\u0026#34;\u0026gt; \u0026lt;img class=\u0026#34;media-image\u0026#34; src=\u0026#34;æ˜¥æ™“.png\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;media-body\u0026#34;\u0026gt; \u0026lt;h4\u0026gt;æ˜¥æ™“Â·å­Ÿæµ©ç„¶\u0026lt;/h4\u0026gt; \u0026lt;p\u0026gt; æ˜¥çœ ä¸è§‰æ™“ï¼Œå¤„å¤„é—»å•¼é¸Ÿã€‚ å¤œæ¥é£é›¨å£°ï¼ŒèŠ±è½çŸ¥å¤šå°‘ã€‚ \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/main\u0026gt; \u0026lt;/div\u0026gt; style.css\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 :root { box-sizing: border-box; /* ä¿®æ”¹ç›’æ¨¡å‹ */ } *, ::before, ::after { box-sizing: inherit; /* ç»§æ‰¿ box-sizing */ } body { background-color: aliceblue; font-family: Arial, Helvetica, sans-serif; } /* çŒ«å¤´é¹°é€‰æ‹©å™¨ */ body * + *{ margin-top: 1.5em; } header{ padding: 1em 2em; background-color: antiquewhite; border-radius: .5em; margin-bottom: 2em; } .main{ padding: 0 1.5em; background-color: white; border-radius: .5em; } .container{ max-width: 800px; /* è‡ªåŠ¨é€‚é…å®½åº¦ */ margin: 0 auto; /* åŒå®¹å™¨æ¨¡å¼ æ°´å¹³å±…ä¸­ */ } .media{ float: left; margin: 0 1.5em 1.5em 0; /* é‡ç½® margin */ width: calc(50% - 1.5em); /* ä»å®½åº¦é‡Œå‡å» 1.5em */ padding: 1.5em; background-color:rgb(238, 245, 247); border-radius: .5em; } .media-image{ width: 60px; height: 60px; } /* æ¸…é™¤æµ®åŠ¨ */ /* .clearfix::after{ display: block; content: \u0026#34; \u0026#34;; clear: both; } */ /* æ¸…é™¤æµ®åŠ¨ä¿®æ”¹ç‰ˆ */ .clearfix::after, .clearfix::before{ display: table; content: \u0026#34; \u0026#34;; } .clearfix::after{ clear: both; } /* è§£å†³æµ®åŠ¨é™·é˜± */ .media:nth-child(odd){ clear: left; } æ•ˆæœå›¾ï¼š\nå®ç°å›¾ç‰‡è¢«æ–‡å­—ç¯ç»• 1 2 3 4 5 6 7 8 9 10 11 12 13 .media-image{ width: 100px; height: 100px; float: left; /* å·¦æµ®åŠ¨ */ } .media-body{ margin-top: 0; /* è¦†ç›–çŒ«å¤´é¹°é€‰æ‹©å™¨ */ } .media-body h4{ margin-top: 0; /* è¦†ç›–ç”¨æˆ·ä»£ç†æ ·å¼è¡¨ */ } æ•ˆæœï¼š\nå®ç°å›¾ç‰‡åœ¨å·¦æ–‡å­—åœ¨å³ å¦‚ä¸Šï¼Œå›¾ç‰‡è¢«åŒ…å«åœ¨äº†ç›¸é‚»çš„åŒçº§å…ƒç´  media-body ä¸­ã€‚\nå¦‚æœæƒ³å®ç°å›¾ç‰‡åœ¨å·¦æ–‡å­—åœ¨å³ï¼Œå¯ä»¥ä¸ºæ–‡å­—åˆ›å»ºä¸€ä¸ªå—çº§æ ¼å¼ä¸Šä¸‹æ–‡ï¼ˆblock formatting contextï¼ŒBFCï¼‰ã€‚\nBFC å°†å†…éƒ¨ä¸å¤–éƒ¨éš”ç»å¼€ï¼Œå†…å¤–äº’ä¸å½±å“ã€‚\nåˆ›å»º BFC çš„æ–¹å¼ï¼š\nfloat ä¸ä¸º noneã€‚ overflow ä¸ä¸º visibleã€‚ display ä¸º inline-blockã€table-cellã€table-captionã€flexã€inline-flexã€gridã€inline-gridã€‚ position ä¸º absolute æˆ– fixedã€‚ ç½‘é¡µçš„æ ¹å…ƒç´ å°±æ˜¯ä¸€ä¸ªé¡¶çº§çš„ BFCã€‚\nCSS ä¿®æ”¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 .media-image{ width: 60px; height: 60px; float: left; margin-right: 1.5em; /* å›¾ç‰‡ä¸æ–‡å­—é—´å¢åŠ ä¸€å®šé—´è· */ } .media-body{ margin-top: 0; /* è¦†ç›–çŒ«å¤´é¹°é€‰æ‹©å™¨ */ overflow: auto; /* åˆ›å»º BFC */ } æ•ˆæœå›¾ï¼š\næ³¨æ„ï¼šä½¿ç”¨æµ®åŠ¨æˆ– display: inline-blockåˆ›å»ºBFCçš„å…ƒç´ çš„å®½åº¦ä¼šå˜ä¸º 100% ã€‚\nåŸºäºæµ®åŠ¨å®ç°ç½‘æ ¼ç³»ç»Ÿ å¤§éƒ¨åˆ†çš„ CSS æ¡†æ¶éƒ½å®ç°äº†è‡ªå·±çš„ç½‘æ ¼ç³»ç»Ÿï¼šåœ¨ä¸€ä¸ªè¡Œå®¹å™¨å†…æ”¾ç½®è‹¥å¹²åˆ—å®¹å™¨ï¼Œåˆ—çš„å®½åº¦ç”±åˆ—å®¹å™¨çš„ç±»å†³å®šã€‚\n1 2 3 4 5 6 7 8 9 10 \u0026lt;div class=\u0026#34;row\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;column-1\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;column-1\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;column-1\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;column-1\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;column-1\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;column-1\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;column-3\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;column-3\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ä½¿ç”¨ç½‘æ ¼ç³»ç»Ÿå¯ä»¥æé«˜ä»£ç çš„å¯å¤ç”¨æ€§ã€‚\nç½‘æ ¼ç³»ç»Ÿä¸å‚ä¸è¡Œåˆ—å…ƒç´ çš„è§†è§‰æ ·å¼ï¼Œåªè´Ÿè´£è®¾ç½®å®½åº¦å’Œå®šä½ã€‚åœ¨è¡Œåˆ—å†…çš„å…ƒç´ å°±ä¸å¿…å†è€ƒè™‘å®½åº¦å’Œå®šä½äº†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 /* ç½‘æ ¼ç³»ç»Ÿ */ .row::after{ display: block; content: \u0026#34; \u0026#34;; clear: both; } [class*=\u0026#34;column-\u0026#34;]{ float: left; padding: 0 0.75em; /* å·¦å³è®¾ç½®å†…è¾¹è· */ margin-top: 0; /* å»æ‰é¡¶éƒ¨å¤–è¾¹è· */ } .column-1{ width: 8.333%; } .column-2{ width: 16.6667%; } .column-3{ width: 25%; } .column-4{ width: 33.3333%; } .column-5{ width: 41.6667%; } .column-6{ width: 50%; } .column-7{ width: 58.333%; } .column-8{ width: 66.6667%; } .column-9{ width: 75%; } .column-10{ width: 83.333%; } .column-11{ width: 91.6667%; } .column-12{ width:100%; } å®Œæ•´ CSSï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 :root { box-sizing: border-box; /* ä¿®æ”¹ç›’æ¨¡å‹ */ } *, ::before, ::after { box-sizing: inherit; /* ç»§æ‰¿ box-sizing */ } body { background-color: aliceblue; font-family: Arial, Helvetica, sans-serif; } /* çŒ«å¤´é¹°é€‰æ‹©å™¨ */ body * + *{ margin-top: 1.5em; } header{ padding: 1em 2em; background-color: antiquewhite; border-radius: .5em; margin-bottom: 2em; } .main{ padding: 0 1.5em 1.5em; background-color: white; border-radius: .5em; } .container{ max-width: 800px; /* è‡ªåŠ¨é€‚é…å®½åº¦ */ margin: 0 auto; /* åŒå®¹å™¨æ¨¡å¼ æ°´å¹³å±…ä¸­ */ } /* åª’ä½“å¯¹è±¡çš„æ ·å¼ */ .media{ padding: 1.5em; background-color:rgb(238, 245, 247); border-radius: .5em; } .media-image{ width: 60px; height: 60px; float: left; margin-right: 1.5em; } .media-body{ margin-top: 0; /* è¦†ç›–çŒ«å¤´é¹°é€‰æ‹©å™¨ */ overflow: auto; /* åˆ›å»º BFC */ } .media-body h4{ margin-top: 0; /* è¦†ç›–ç”¨æˆ·ä»£ç†æ ·å¼è¡¨ */ } /* æ¸…é™¤æµ®åŠ¨ */ /* .clearfix::after{ display: block; content: \u0026#34; \u0026#34;; clear: both; } */ /* æ¸…é™¤æµ®åŠ¨ä¿®æ”¹ç‰ˆ */ .clearfix::after, .clearfix::before{ display: table; content: \u0026#34; \u0026#34;; } .clearfix::after{ clear: both; } /* ç½‘æ ¼ç³»ç»Ÿ */ .row::after{ display: block; content: \u0026#34; \u0026#34;; clear: both; } [class*=\u0026#34;column-\u0026#34;]{ float: left; padding: 0 0.75em; /* å·¦å³è®¾ç½®å†…è¾¹è· */ margin-top: 0; /* å»æ‰é¡¶éƒ¨å¤–è¾¹è· */ } .column-1{ width: 8.333%; } .column-2{ width: 16.6667%; } .column-3{ width: 25%; } .column-4{ width: 33.3333%; } .column-5{ width: 41.6667%; } .column-6{ width: 50%; } .column-7{ width: 58.333%; } .column-8{ width: 66.6667%; } .column-9{ width: 75%; } .column-10{ width: 83.333%; } .column-11{ width: 91.6667%; } .column-12{ width:100%; } æ•ˆæœå›¾å¦‚ä¸‹ï¼š\nä¸å‰é¢çš„ç›¸æ¯”ï¼Œè¿™ä¸ªå¯¼è‡´äº†å†…å®¹å‡ºç°äº†é”™ä½ï¼Œæ²¡æœ‰å¯¹é½æ ‡é¢˜ã€‚\nä½¿ç”¨è´Ÿ margin æ‹‰ä¼¸è¡Œå…ƒç´ è§£å†³è¯¥é—®é¢˜ï¼š\n1 2 3 4 5 6 7 8 9 /* ç½‘æ ¼ç³»ç»Ÿ */ .row{ margin-left: -0.75em; margin-right: -0.75em; } ... ... æ•ˆæœå›¾ï¼š\næœ€ç»ˆä»£ç ã€‚\n","date":"2023-09-15T00:00:00Z","permalink":"http://localhost:1313/p/css%E6%B5%AE%E5%8A%A8%E5%B8%83%E5%B1%80/","title":"ã€CSSã€‘æµ®åŠ¨å¸ƒå±€"},{"content":"å‰è¨€ Vue æä¾›äº†å¤šç§æ–¹å¼æ¥å®ç°è¿‡æ¸¡æ•ˆæœã€‚\nåœ¨CSSè¿‡æ¸¡å’ŒåŠ¨ç”»ä¸­è‡ªåŠ¨åº”ç”¨class é…åˆCSSåŠ¨ç”»åº“ åœ¨è¿‡æ¸¡é’©å­å‡½æ•°ä¸­ä½¿ç”¨JavaScriptæ“ä½œDOM é…åˆJavaScriptåŠ¨ç”»åº“ å•å…ƒç´ /ç»„ä»¶çš„è¿‡æ¸¡ å°†å…ƒç´ æˆ–ç»„ä»¶æ”¾åœ¨\u0026lt;transition\u0026gt;ä¸­å¯ä»¥åœ¨ä¸‹åˆ—æƒ…å½¢ä¸­è§¦å‘è¿‡æ¸¡æ•ˆæœï¼š\nä½¿ç”¨äº†v-if ä½¿ç”¨äº†v-show ä½¿ç”¨äº†åŠ¨æ€ç»„ä»¶ ç»„ä»¶æ ¹èŠ‚ç‚¹ å¦‚æœæ²¡æœ‰æ‰¾åˆ°JavaScriptè¿‡æ¸¡é’©å­å’ŒCSSè¿‡æ¸¡/åŠ¨ç”»ï¼ŒDOMæ“ä½œåœ¨ä¸‹ä¸€å¸§ä¸­ç«‹å³æ‰§è¡Œã€‚\nè¿‡æ¸¡çš„ç±»å Vueæä¾›äº†6ä¸ªå¯ä»¥è‡ªåŠ¨ç”Ÿæˆçš„CSSç±»åï¼Œå¦‚ä¸‹å›¾ã€‚\nå¯ä»¥è‡ªåŠ¨ç”Ÿæˆçš„ç±»åæ˜¯æŒ‡ç»™transitionç»„ä»¶çš„nameå±æ€§æŒ‡å®šä¸€ä¸ªå€¼ï¼Œå‡è®¾æ˜¯fadeï¼Œé‚£ä¹ˆè¯¥nameå°†è‡ªåŠ¨æ‰©å±•ç”Ÿæˆ .fade-enterã€.fade-enter-activeã€.fade-enter-toã€.fade-leaveã€.fade-leave-activeã€.fade-leave-toç­‰ä¸Šè¿°6ä¸ªç±»ï¼Œå¹¶åº”ç”¨åœ¨transitionç»„ä»¶é‡Œçš„è¿‡æ¸¡å…ƒç´ æˆ–ç»„ä»¶ä¸Šã€‚\nç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 \u0026lt;style\u0026gt; .fade-enter { opacity: 0; transform: translateY(-20px); } .fade-enter-active { transition: all 0.3s ease; } .fade-enter-to { opacity: 1; transform: translateY(0); } .fade-leave { opacity: 1; } .fade-leave-active { transition: opacity 0.5s ease; } .fade-leave-to { opacity: 0; } \u0026lt;/style\u0026gt; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;showElement=!showElement\u0026#34;\u0026gt;æ˜¾ç¤º/éšè—å…ƒç´ \u0026lt;/button\u0026gt; \u0026lt;transition name=\u0026#34;fade\u0026#34;\u0026gt; \u0026lt;div v-if=\u0026#34;showElement\u0026#34;\u0026gt; ä½ å¥½ \u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { showElement: false }, }); \u0026lt;/script\u0026gt; è‡ªå®šä¹‰è¿‡æ¸¡ç±»å å¦‚æœæƒ³ç»“åˆä½¿ç”¨animate.cssåŠ¨ç”»åº“ï¼Œå¯ä»¥åœ¨transitionç»„ä»¶ä½¿ç”¨ä»¥ä¸‹propsæ¥æŒ‡å®šç±»åï¼š\nenter-class enter-active-class enter-to-class leave-class leave-active-class leave-to-class ç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;showElement=!showElement\u0026#34;\u0026gt;æ˜¾ç¤º/éšè—å…ƒç´ \u0026lt;/button\u0026gt; \u0026lt;transition enter-active-class=\u0026#34;animated fadeInLeft\u0026#34; leave-active-class=\u0026#34;animated fadeOut\u0026#34;\u0026gt; \u0026lt;div v-if=\u0026#34;showElement\u0026#34;\u0026gt; ä½ å¥½ \u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { showElement: false }, }); \u0026lt;/script\u0026gt; Animate åŠ¨ç”»æ¼”ç¤º\næŒ‡å®šè¦ç›‘å¬çš„äº‹ä»¶ç±»å‹ é€šè¿‡è®¾ç½®transitionç»„ä»¶çš„typeå±æ€§æ¥æŒ‡å®šè¦ç›‘å¬çš„è¿‡æ¸¡äº‹ä»¶ç±»å‹ï¼ˆtransitionend å’Œ animationendï¼‰ã€‚\ntypeå€¼å¯ä»¥æ˜¯transitionæˆ–animationã€‚\nç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue 2 è¿‡æ¸¡ Demo\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;link href=\u0026#34;https://cdn.jsdelivr.net/npm/animate.css@3.5.1\u0026#34; rel=\u0026#34;stylesheet\u0026#34; type=\u0026#34;text/css\u0026#34;\u0026gt; \u0026lt;style\u0026gt; .fade-enter { opacity: 0; transform: translateY(-20px); } .fade-enter-active { transition: all 0.3s ease; } .fade-enter-to { opacity: 1; transform: translateY(0); } .fade-leave { opacity: 1; } .fade-leave-active { transition: opacity 0.5s ease; } .fade-leave-to { opacity: 0; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;toggleElement\u0026#34;\u0026gt;Toggle Element\u0026lt;/button\u0026gt; \u0026lt;transition name=\u0026#34;fade\u0026#34; type=\u0026#34;transition\u0026#34; \u0026gt; \u0026lt;div v-if=\u0026#34;showElement\u0026#34; key=\u0026#34;element\u0026#34;\u0026gt;Hello, Vue!\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; \u0026lt;transition name=\u0026#34;bounce\u0026#34; enter-active-class=\u0026#34;animated bounceIn\u0026#34; leave-active-class=\u0026#34;animated bounceOut\u0026#34; type=\u0026#34;animation\u0026#34; \u0026gt; \u0026lt;div v-if=\u0026#34;showElement\u0026#34; key=\u0026#34;element\u0026#34;\u0026gt;Hello, vue!\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { showElement: false }, methods: { toggleElement() { this.showElement = !this.showElement; }, }, }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æŒ‡å®šè¿‡æ¸¡æŒç»­æ—¶é—´ é»˜è®¤æƒ…å†µä¸‹ï¼ŒVueä¼šç­‰å¾…è¿‡æ¸¡æ‰€åœ¨æ ¹å…ƒç´ çš„ç¬¬ä¸€ä¸ªtransitionendæˆ–animationendäº‹ä»¶ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨ transitionç»„ä»¶ä¸Šçš„duration propå®šåˆ¶ä¸€ä¸ªæ˜¾ç¤ºçš„è¿‡æ¸¡æŒç»­æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ã€‚\n1 2 3 \u0026lt;transition :duration=\u0026#34;1000\u0026#34;\u0026gt;...\u0026lt;/transition\u0026gt; \u0026lt;transition :duration=\u0026#34;{ enter: 500, leave: 800 }\u0026#34;\u0026gt;...\u0026lt;/transition\u0026gt; transitionç»„ä»¶ä¸Šçš„JavaScripté’©å­å‡½æ•° å…±8ä¸ªï¼š\nbefore-enter enter after-enter enter-cancelled before-leave leave after-leave leave-cancelled æ³¨æ„ç‚¹ï¼š\nåªç”¨JavaScriptè¿‡æ¸¡æ—¶ï¼Œåœ¨leaveå’Œenterä¸­å¿…é¡»ä½¿ç”¨doneå‚æ•°æ¥å‘Šè¯‰Vueä½•æ—¶è¿‡æ¸¡å·²ç»å®Œæˆã€‚ æ¨èå¯¹äºä»…ä½¿ç”¨JavaScriptè¿‡æ¸¡çš„å…ƒç´ æ·»åŠ v-bind:css=\u0026quot;false\u0026quot;ï¼ŒVueä¼šè·³è¿‡CSSçš„æ£€æµ‹ã€‚è¿™ä¹Ÿå¯ä»¥é¿å…è¿‡æ¸¡è¿‡ç¨‹ä¸­CSSçš„å½±å“ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue 2 è¿‡æ¸¡ Demo\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;link href=\u0026#34;https://cdn.jsdelivr.net/npm/animate.css@3.5.1\u0026#34; rel=\u0026#34;stylesheet\u0026#34; type=\u0026#34;text/css\u0026#34;\u0026gt; \u0026lt;!-- Velocity å’Œ jQuery.animate çš„å·¥ä½œæ–¹å¼ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨æ¥å®ç° JavaScript åŠ¨ç”»çš„ä¸€ä¸ªå¾ˆæ£’çš„é€‰æ‹© --\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;toggleElement\u0026#34;\u0026gt;åˆ‡æ¢å…ƒç´ \u0026lt;/button\u0026gt; \u0026lt;transition name=\u0026#34;custom-transition\u0026#34; @before-enter=\u0026#34;beforeEnter\u0026#34; @enter=\u0026#34;enter\u0026#34; @leave=\u0026#34;leave\u0026#34;\u0026gt; \u0026lt;div v-if=\u0026#34;showElement\u0026#34; key=\u0026#34;element\u0026#34;\u0026gt;Hello, Vue!\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { showElement: false }, methods: { toggleElement() { this.showElement = !this.showElement; }, beforeEnter(el) { // åœ¨è¿›å…¥è¿‡æ¸¡å¼€å§‹ä¹‹å‰è°ƒç”¨ el.style.opacity = 0; }, enter(el, done) { // åœ¨è¿›å…¥è¿‡æ¸¡çš„ä¸»è¦é˜¶æ®µè°ƒç”¨ Velocity(el, { opacity: 1, translateY: \u0026#39;0px\u0026#39;,fontSize: \u0026#39;2em\u0026#39; }, { duration: 1000, complete: done }); Velocity(el, { fontSize: \u0026#39;1em\u0026#39; }, { complete: done }) }, leave(el, done) { // åœ¨ç¦»å¼€è¿‡æ¸¡çš„ä¸»è¦é˜¶æ®µè°ƒç”¨ Velocity(el, { opacity: 0, translateY: \u0026#39;20px\u0026#39; }, { duration: 1000, complete: done }); }, } }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; åˆå§‹æ¸²æŸ“çš„è¿‡æ¸¡ å¯ç”¨åˆå§‹æ¸²æŸ“çš„è¿‡æ¸¡ï¼š\n1 2 3 4 5 6 7 8 9 10 11 \u0026lt;transition appear appear-class=\u0026#34;\u0026#34; appear-active-class=\u0026#34;\u0026#34; appear-to-class=\u0026#34;\u0026#34; v-on:before-appear=\u0026#34;\u0026#34; v-on:appear=\u0026#34;\u0026#34; v-on:after-appear=\u0026#34;\u0026#34; v-on:appear-cancelled=\u0026#34;\u0026#34; \u0026gt; \u0026lt;/transition\u0026gt; å¤šä¸ªå…ƒç´ çš„è¿‡æ¸¡ å¦‚æœæƒ³å®ç°å¤šä¸ªåŸç”Ÿå…ƒç´ çš„åˆ‡æ¢è¿‡æ¸¡ï¼Œå¯ä»¥ä½¿ç”¨æ¡ä»¶æ¸²æŸ“çš„ç›¸å…³æŒ‡ä»¤ã€‚\nå¦‚æœåˆ‡æ¢çš„å…ƒç´ æ ‡ç­¾åç›¸åŒï¼Œæ¯”å¦‚éƒ½æ˜¯buttonï¼Œé‚£ä¹ˆæœ€å¥½ç»™å®ƒä»¬è®¾ç½®å”¯ä¸€çš„keyå±æ€§ï¼Œå¦åˆ™å¯èƒ½å‡ºç°è¿‡æ¸¡æ•ˆæœä¸ç”Ÿæ•ˆæˆ–æ²¡æŒ‰è®¾ç½®è¿‡æ¸¡çš„æƒ…å†µã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue 2 è¿‡æ¸¡ Demo\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;link href=\u0026#34;https://cdn.jsdelivr.net/npm/animate.css@3.5.1\u0026#34; rel=\u0026#34;stylesheet\u0026#34; type=\u0026#34;text/css\u0026#34;\u0026gt; \u0026lt;!-- Velocity å’Œ jQuery.animate çš„å·¥ä½œæ–¹å¼ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨æ¥å®ç° JavaScript åŠ¨ç”»çš„ä¸€ä¸ªå¾ˆæ£’çš„é€‰æ‹© --\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;toggleElement\u0026#34;\u0026gt;åˆ‡æ¢å…ƒç´ \u0026lt;/button\u0026gt; \u0026lt;transition @before-enter=\u0026#34;beforeEnter\u0026#34; @enter=\u0026#34;enter\u0026#34; @leave=\u0026#34;leave\u0026#34;\u0026gt; \u0026lt;div v-if=\u0026#34;showElement\u0026#34; key=\u0026#34;el1\u0026#34;\u0026gt;Hello, girls!\u0026lt;/div\u0026gt; \u0026lt;div v-else key=\u0026#34;el2\u0026#34;\u0026gt;Hello, boys!\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { showElement: false }, methods: { toggleElement() { this.showElement = !this.showElement; }, beforeEnter(el) { // åœ¨è¿›å…¥è¿‡æ¸¡å¼€å§‹ä¹‹å‰è°ƒç”¨ el.style.opacity = 0; }, enter(el, done) { // åœ¨è¿›å…¥è¿‡æ¸¡çš„ä¸»è¦é˜¶æ®µè°ƒç”¨ Velocity(el, { opacity: 1, translateY: \u0026#39;0px\u0026#39;,fontSize: \u0026#39;2em\u0026#39; }, { duration: 1000, complete: done }); Velocity(el, { fontSize: \u0026#39;1em\u0026#39; }, { complete: done }); }, leave(el, done) { // åœ¨ç¦»å¼€è¿‡æ¸¡çš„ä¸»è¦é˜¶æ®µè°ƒç”¨ Velocity(el, { opacity: 0, translateY: \u0026#39;20px\u0026#39; }, { duration: 1000, complete: done }); }, } }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ä¹Ÿå¯ä»¥ä½¿ç”¨ç»‘å®šåŠ¨æ€propertyçš„æ–¹å¼æ¥æ›¿ä»£ä½¿ç”¨äº†å¤šä¸ªv-ifçš„ç›¸åŒæ ‡ç­¾åå…ƒç´ ã€‚\n1 2 3 4 \u0026lt;transition\u0026gt; \u0026lt;div v-if=\u0026#34;show===\u0026#39;el1\u0026#39;\u0026#34; key=\u0026#34;el1\u0026#34;\u0026gt;el1\u0026lt;/div\u0026gt; \u0026lt;div v-if=\u0026#34;show===\u0026#39;el2\u0026#39;\u0026#34; key=\u0026#34;el2\u0026#34;\u0026gt;el2\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; æ›¿æ¢æˆ\n1 2 3 \u0026lt;transition\u0026gt; \u0026lt;div :key=\u0026#34;el\u0026#34;\u0026gt;el\u0026lt;/div\u0026gt; \u0026lt;/transition\u0026gt; è¿‡æ¸¡æ¨¡å¼ å¦‚ä¸Šå›¾ä¸­ï¼Œå‰ä¸€ä¸ªå…ƒç´ çš„è¿‡æ¸¡ç»“æŸæ—¶ï¼Œå¦ä¸€ä¸ªå…ƒç´ çš„è¿‡æ¸¡å¼€å§‹ï¼Œè¿™æœ‰æ—¶å€™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚\näºæ˜¯ï¼ŒVueæä¾›äº†è¿‡æ¸¡æ¨¡å¼ã€‚\n1 2 \u0026lt;transition name=\u0026#34;fade\u0026#34; mode=\u0026#34;out-in\u0026#34;\u0026gt; \u0026lt;/transition\u0026gt; modeå¯ä»¥ä¸ºä»¥ä¸‹å€¼ï¼š\nin-outï¼šæ–°å…ƒç´ å…ˆè¿‡æ¸¡è¿›å…¥ï¼Œæ—§å…ƒç´ åè¿‡æ¸¡ç¦»å¼€ã€‚ out-inï¼šæ—§å…ƒç´ å…ˆè¿‡æ¸¡ç¦»å¼€ï¼Œæ–°å…ƒç´ å†è¿‡æ¸¡è¿›å…¥ã€‚ So cool!\nå¤šä¸ªç»„ä»¶çš„è¿‡æ¸¡ å¤šä¸ªå…ƒç´ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨key attributeï¼Œå¯¹äºå¤šä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´ä¸ºç®€å•çš„is attributeï¼Œå³åŠ¨æ€ç»„ä»¶ã€‚\n1 2 3 \u0026lt;transition name=\u0026#34;component-fade\u0026#34; mode=\u0026#34;out-in\u0026#34;\u0026gt; \u0026lt;component v-bind:is=\u0026#34;view\u0026#34;\u0026gt;\u0026lt;/component\u0026gt; \u0026lt;/transition\u0026gt; åˆ—è¡¨è¿‡æ¸¡ å‰é¢æ‰€è®²éƒ½æ˜¯é’ˆå¯¹å•ä¸ªèŠ‚ç‚¹æˆ–è€…å¤šä¸ªèŠ‚ç‚¹ä¸­çš„ä¸€ä¸ªã€‚\nè€Œå¯¹äºæœ‰å¤šä¸ªèŠ‚ç‚¹çš„åˆ—è¡¨çš„æ¸²æŸ“ï¼Œæˆ‘ä»¬ä½¿ç”¨transition-groupç»„ä»¶ã€‚\ntransition-groupç»„ä»¶çš„ç‰¹ç‚¹ï¼š\nä¸transitionä¸åŒï¼Œå®ƒä»¥ä¸€ä¸ªçœŸå®çš„å…ƒç´ å­˜åœ¨ï¼Œé»˜è®¤ä¸ºspanï¼Œå¯ä»¥ä½¿ç”¨tag attributeä¿®æ”¹ã€‚ ä¸èƒ½ä½¿ç”¨è¿‡æ¸¡æ¨¡å¼ã€‚ åˆ—è¡¨å…ƒç´ éƒ½éœ€è¦key attributeã€‚ CSSè¿‡æ¸¡çš„ç±»ä¼šè‡ªåŠ¨åº”ç”¨åœ¨åˆ—è¡¨å†…éƒ¨å…ƒç´ ã€‚ åˆ—è¡¨çš„è¿›å…¥/ç¦»å¼€è¿‡æ¸¡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue 2 è¿‡æ¸¡ Demo\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;link href=\u0026#34;https://cdn.jsdelivr.net/npm/animate.css@3.5.1\u0026#34; rel=\u0026#34;stylesheet\u0026#34; type=\u0026#34;text/css\u0026#34;\u0026gt; \u0026lt;!-- Velocity å’Œ jQuery.animate çš„å·¥ä½œæ–¹å¼ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨æ¥å®ç° JavaScript åŠ¨ç”»çš„ä¸€ä¸ªå¾ˆæ£’çš„é€‰æ‹© --\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/style\u0026gt; \u0026lt;style\u0026gt; .list-enter-active, .list-leave-active { transition: opacity,transform 0.5s; } .list-enter, .list-leave-to { opacity: 0; transform: translateX(60px); } .list-item { list-style:decimal-leading-zero; margin: 5px; padding: 5px; background-color: #f0f0f0; border: 1px solid #ddd; border-radius: 5px; width: fit-content; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;addItem\u0026#34;\u0026gt;Add Item\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;removeItem\u0026#34;\u0026gt;Remove Item\u0026lt;/button\u0026gt; \u0026lt;transition-group name=\u0026#34;list\u0026#34; tag=\u0026#34;ul\u0026#34;\u0026gt; \u0026lt;li v-for=\u0026#34;item in items\u0026#34; :key=\u0026#34;item.id\u0026#34; class=\u0026#34;list-item\u0026#34;\u0026gt; {{item.text}} \u0026lt;/li\u0026gt; \u0026lt;/transition-group\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { items: [], nextItemId: 0 }, methods: { addItem() { let randomIndex=Math.floor(Math.random()*this.items.length); this.items.splice(randomIndex,0, { id: this.nextItemId++, text: `Item ${this.nextItemId}` }); }, removeItem() { let randomIndex = Math.floor(Math.random()*this.items.length); this.items.splice(randomIndex, 1); } }, }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; åˆ—è¡¨çš„æ’åºè¿‡æ¸¡ ä¸ä»…å¯ä»¥ç»™è¿›å…¥/ç¦»å¼€æ·»åŠ è¿‡æ¸¡ï¼Œå½“åˆ—è¡¨çš„å…ƒç´ ä½ç½®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¹Ÿå¯ä»¥äº§ç”Ÿè¿‡æ¸¡æ•ˆæœï¼Œé€šè¿‡move-classattributeè‡ªå®šä¹‰ç±»åæ¥å®ç°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨nameä½œä¸ºå‰ç¼€ã€‚\nä¾‹å¦‚å½“name=\u0026quot;list\u0026quot;æ—¶ï¼š\n1 2 3 .list-move { transition: transform 1s; } è¿™ä¸ªå¯ä»¥è§£å†³åˆ—è¡¨è¿‡æ¸¡ä¸å¤Ÿå¹³æ»‘çš„é—®é¢˜ã€‚\nå¦‚æœæƒ³ç»™æ‰€æœ‰çš„å˜åŠ¨éƒ½æ·»åŠ è¿‡æ¸¡åŠ¨ç”»ï¼Œé‚£ä¹ˆå¯ä»¥æŒ‰ä»¥ä¸‹æ–¹æ³•åšï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue 2 è¿‡æ¸¡ Demo\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;link href=\u0026#34;https://cdn.jsdelivr.net/npm/animate.css@3.5.1\u0026#34; rel=\u0026#34;stylesheet\u0026#34; type=\u0026#34;text/css\u0026#34;\u0026gt; \u0026lt;!-- Velocity å’Œ jQuery.animate çš„å·¥ä½œæ–¹å¼ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨æ¥å®ç° JavaScript åŠ¨ç”»çš„ä¸€ä¸ªå¾ˆæ£’çš„é€‰æ‹© --\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/style\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.14.1/lodash.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; .list-enter, .list-leave-to { opacity: 0; transform: translateX(30px); } .list-leave-active{ position: absolute; } .list-item { transition: all 1s; list-style: none; margin: 5px; padding: 5px; background-color: #f0f0f0; border: 1px solid #ddd; border-radius: 5px; width: fit-content; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;addItem\u0026#34;\u0026gt;Add Item\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;removeItem\u0026#34;\u0026gt;Remove Item\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;shuffleItems\u0026#34;\u0026gt;Shuffle Items\u0026lt;/button\u0026gt; \u0026lt;transition-group name=\u0026#34;list\u0026#34; tag=\u0026#34;ul\u0026#34;\u0026gt; \u0026lt;li v-for=\u0026#34;item in items\u0026#34; :key=\u0026#34;item.id\u0026#34; class=\u0026#34;list-item\u0026#34;\u0026gt; {{item.text}} \u0026lt;/li\u0026gt; \u0026lt;/transition-group\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { items: [], nextItemId: 0 }, methods: { addItem() { let randomIndex = Math.floor(Math.random() * this.items.length); this.items.splice(randomIndex, 0, { id: this.nextItemId++, text: `Item ${this.nextItemId}` }); }, removeItem() { let randomIndex = Math.floor(Math.random() * this.items.length); this.items.splice(randomIndex, 1); }, shuffleItems() { this.items = _.shuffle(this.items); } }, }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; è¿™è¢«å«åšFLIPè¿‡æ¸¡ï¼Œä½¿ç”¨è¿™ç§è¿‡æ¸¡æ–¹å¼çš„å…ƒç´ ä¸èƒ½è®¾ç½®ä¸ºdisplay:inlineã€‚\nåˆ—è¡¨çš„äº¤é”™è¿‡æ¸¡ é€šè¿‡ HTML çš„dataå±æ€§ä¸ JavaScript è¿›è¡Œé€šä¿¡æ¥å®ç°äº¤é”™æ’åºã€‚\n1 2 3 4 \u0026lt;li v-for=\u0026#34;(item, index) in computedList\u0026#34; v-bind:key=\u0026#34;item.msg\u0026#34; v-bind:data-index=\u0026#34;index\u0026#34; \u0026gt;{{ item.msg }}\u0026lt;/li\u0026gt; 1 2 3 4 5 6 7 8 9 10 enter: function (el, done) { var delay = el.dataset.index * 150; // é€šè¿‡ data-index è·å–å…ƒç´ çš„ç´¢å¼•ï¼Œç„¶åè®¡ç®—å»¶è¿Ÿæ—¶é—´ setTimeout(function () { Velocity( el, { opacity: 1, height: \u0026#39;1.6em\u0026#39; }, // ä½¿ç”¨ Velocity.js åº“æ¥åº”ç”¨ CSS å±æ€§çš„åŠ¨ç”»æ•ˆæœ { complete: done } // åŠ¨ç”»å®Œæˆåè°ƒç”¨ done å›è°ƒå‡½æ•°æ¥é€šçŸ¥ Vue.js è¿‡æ¸¡å®Œæˆ ); }, delay); }, æ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸åŒçš„å»¶è¿Ÿï¼Œä»¥å®ç°äº¤é”™çš„è¿‡æ¸¡æ•ˆæœã€‚\nå¯å¤ç”¨çš„è¿‡æ¸¡ ä½¿ç”¨template ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 Vue.component(\u0026#39;my-special-transition\u0026#39;, { template: \u0026#39;\\ \u0026lt;transition\\ name=\u0026#34;reusable-transition\u0026#34;\\ mode=\u0026#34;out-in\u0026#34;\\ v-on:before-enter=\u0026#34;beforeEnter\u0026#34;\\ v-on:after-enter=\u0026#34;afterEnter\u0026#34;\\ \u0026gt;\\ \u0026lt;slot\u0026gt;\u0026lt;/slot\u0026gt;\\ \u0026lt;/transition\u0026gt;\\ \u0026#39;, methods: { beforeEnter: function (el) { // ... }, afterEnter: function (el) { // ... } } }) ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 Vue.component(\u0026#39;reusable-transition\u0026#39;, { functional: true, render: function (createElement, context) { var data = { props: { name: \u0026#39;reusable-transition\u0026#39;, mode: \u0026#39;out-in\u0026#39; }, on: { beforeEnter: function (el) { // ... }, afterEnter: function (el) { // ... } } } return createElement(\u0026#39;transition\u0026#39;, data, context.children) } }) ä½¿ç”¨å•æ–‡ä»¶ç»„ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 \u0026lt;template\u0026gt; \u0026lt;transition name=\u0026#34;fade\u0026#34;\u0026gt; \u0026lt;slot\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/transition\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { name: \u0026#39;ReusableTransition\u0026#39;, }; \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; /* åœ¨è¿™é‡Œå®šä¹‰è¿‡æ¸¡çš„ CSS ç±»åå’Œæ ·å¼ */ .fade-enter-active, .fade-leave-active { transition: opacity 0.5s; } .fade-enter, .fade-leave-to /* .fade-leave-active åœ¨ç‰ˆæœ¬ 2.1.8 ä¸­å¯ç”¨ */ { opacity: 0; } \u0026lt;/style\u0026gt; æ€»ä¹‹ï¼Œå¯å¤ç”¨è¿‡æ¸¡å°±æ˜¯ä»¥transitionæˆ–transition-groupä½œä¸ºæ ¹å…ƒç´ ã€‚\nåŠ¨æ€è¿‡æ¸¡ æ‰€æœ‰è¿‡æ¸¡attributeéƒ½å¯ä»¥åŠ¨æ€ç»‘å®šï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä¸åŒçš„è¿‡æ¸¡æ•ˆæœã€‚\nè€Œä¸ä»…ä»…æ”¹å˜è¿‡æ¸¡attributeå¯ä»¥è¿›è¡ŒåŠ¨æ€è¿‡æ¸¡ï¼Œåœ¨event hooksé‡Œæ”¹å˜ç»„ä»¶ä¸Šä¸‹æ–‡çš„æ•°æ®ä¹Ÿå¯ä»¥ã€‚\nä¸‹é¢æ˜¯ç»‘å®šnameå±æ€§è¾¾åˆ°çš„åŠ¨æ€è¿‡æ¸¡æ•ˆæœã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 \u0026lt;style\u0026gt; .default-enter, .default-leave-to { opacity: 0; transform: translateX(30px); } .slide-enter, .slide-leave-to { transform: translateY(30px); opacity: 0; } .default-leave-active, .slide-leave-active{ position: absolute; } .list-item { transition: all 1s; } \u0026lt;/style\u0026gt; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input v-model=\u0026#34;newTodo\u0026#34; @keyup.enter=\u0026#34;addTodo\u0026#34; placeholder=\u0026#34;æ·»åŠ æ–°ä»»åŠ¡\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;toggleTransition\u0026#34;\u0026gt;åˆ‡æ¢è¿‡æ¸¡æ–¹å¼\u0026lt;/button\u0026gt; \u0026lt;transition-group :name=\u0026#34;dynamicTransitionName\u0026#34; tag=\u0026#34;ul\u0026#34;\u0026gt; \u0026lt;li v-for=\u0026#34;todo in todos\u0026#34; :key=\u0026#34;todo.id\u0026#34; class=\u0026#34;list-item\u0026#34;\u0026gt; {{todo.text}} \u0026lt;button @click=\u0026#34;removeTodo(index)\u0026#34;\u0026gt;åˆ é™¤\u0026lt;/button\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/transition-group\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { dynamicTransitionName: \u0026#39;default\u0026#39;, newTodo: \u0026#39;\u0026#39;, todos: [], nextID: 0 }, methods: { addTodo() { if (this.newTodo.trim() !== \u0026#39;\u0026#39;) { this.todos.push({id:this.nextID++, text: this.newTodo }); this.newTodo = \u0026#39;\u0026#39;; } }, removeTodo(index) { this.todos.splice(index, 1); }, toggleTransition(){ this.dynamicTransitionName=this.dynamicTransitionName===\u0026#39;default\u0026#39;?\u0026#39;slide\u0026#39;:\u0026#39;default\u0026#39;; } }, }); \u0026lt;/script\u0026gt; å‚è€ƒèµ„æ–™ è¿›å…¥/ç¦»å¼€ \u0026amp; åˆ—è¡¨è¿‡æ¸¡ ","date":"2023-09-12T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E8%BF%87%E6%B8%A1/","title":"ã€Vue 2ã€‘è¿‡æ¸¡"},{"content":"","date":"2023-09-11T00:00:00Z","permalink":"http://localhost:1313/p/javascript%E7%BB%A7%E6%89%BF/","title":"ã€JavaScriptã€‘ç»§æ‰¿"},{"content":"This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\nHeadings The following HTML \u0026lt;h1\u0026gt;â€”\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution Tiam, ad mint andaepu dandae nostion secatur sequo quae. Note that you can use Markdown syntax within a blockquote.\nBlockquote with attribution Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\nâ€” Rob Pike1\nTables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports supports them out-of-the-box.\nName Age Bob 27 Alice 23 Inline Markdown within tables Italics Bold Code italics bold code A B C D E F Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ultricies, sapien non euismod aliquam, dui ligula tincidunt odio, at accumsan nulla sapien eget ex. Proin eleifend dictum ipsum, non euismod ipsum pulvinar et. Vivamus sollicitudin, quam in pulvinar aliquam, metus elit pretium purus Proin sit amet velit nec enim imperdiet vehicula. Ut bibendum vestibulum quam, eu egestas turpis gravida nec Sed scelerisque nec turpis vel viverra. Vivamus vitae pretium sapien Code Blocks Code block with backticks 1 2 3 4 5 6 7 8 9 10 \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces \u0026lt;!doctype html\u0026gt;\r\u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt;\r\u0026lt;head\u0026gt;\r\u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt;\r\u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt;\r\u0026lt;/head\u0026gt;\r\u0026lt;body\u0026gt;\r\u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt;\r\u0026lt;/body\u0026gt;\r\u0026lt;/html\u0026gt;\rDiff code block 1 2 3 4 5 [dependencies.bevy] git = \u0026#34;https://github.com/bevyengine/bevy\u0026#34; rev = \u0026#34;11f52b8c72fc3a568e8bb4a4cd1f3eb025ac2e13\u0026#34; - features = [\u0026#34;dynamic\u0026#34;] + features = [\u0026#34;jpeg\u0026#34;, \u0026#34;dynamic\u0026#34;] One line code block 1 \u0026lt;p\u0026gt;A paragraph\u0026lt;/p\u0026gt; List Types Ordered List First item Second item Third item Unordered List List item Another item And another item Nested list Fruit Apple Orange Banana Dairy Milk Cheese Other Elements â€” abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL + ALT + Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nThe above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2023-09-07T00:00:00Z","permalink":"http://localhost:1313/p/markdown-syntax-guide/","title":"Markdown Syntax Guide"},{"content":"æ¡ä»¶æ¸²æŸ“ç›¸å…³çš„æŒ‡ä»¤æœ‰å“ªäº›ï¼Ÿ\nv-ifã€v-elseã€v-else-if v-show v-if çš„ä½œç”¨\n1 \u0026lt;div v-if=\u0026#34;expression\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; v-if æ ¹æ®è¡¨è¾¾å¼ expression è¿”å›çš„å€¼æ˜¯å¦ä¸º truthy æ¥å†³å®šå…¶å†…å®¹æ˜¯å¦è¢«æ¸²æŸ“ã€‚\nVueè¿˜å®ç°äº† v-else å’Œ v-else-ifï¼š\n1 2 3 \u0026lt;div v-if=\u0026#34;expression1\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div v-else-if=\u0026#34;expression2\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div v-else\u0026gt;\u0026lt;/div\u0026gt; æ³¨æ„ï¼Œv-else-if é¡»ç´§è·Ÿåœ¨ v-if åï¼Œv-elseé¡»ç´§è·Ÿåœ¨ v-if æˆ– v-else-if åã€‚\nå¦‚æœæƒ³ä½¿ç”¨ v-if æ§åˆ¶å¤šä¸ªå…ƒç´ çš„æ¸²æŸ“ï¼Œå¯ä»¥ä½¿ç”¨ \u0026lt;template\u0026gt; å…ƒç´ ï¼Œå› ä¸ºå®ƒä¸ä¼šè¢«åŒ…å«åœ¨æ¸²æŸ“ç»“æœå†…ã€‚\nv-if ç›¸å…³æºç \né¦–å…ˆæ˜¯ src\\compiler\\parser\\index.ts ï¼š\nå¤„ç† HTML å…ƒç´ ä¸Šçš„ if ç³»åˆ—æŒ‡ä»¤ï¼Œè·å–å®ƒä»¬çš„è¡¨è¾¾å¼ exp ,å¦‚æœæ˜¯ v-if æŒ‡ä»¤çš„è¯ï¼Œè¿˜è¦å°†å…¶æ·»åŠ åˆ°å®ƒçš„ ifConditions æ•°ç»„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 function processIf(el) { const exp = getAndRemoveAttr(el, \u0026#39;v-if\u0026#39;) if (exp) { el.if = exp addIfCondition(el, { exp: exp, block: el }) } else { if (getAndRemoveAttr(el, \u0026#39;v-else\u0026#39;) != null) { el.else = true } const elseif = getAndRemoveAttr(el, \u0026#39;v-else-if\u0026#39;) if (elseif) { el.elseif = elseif } } } getAndRemoveAttr ä»å…ƒç´ ä¸­ç§»é™¤æŸä¸ª attr ï¼Œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 // note: this only removes the attr from the Array (attrsList) so that it // doesn\u0026#39;t get processed by processAttrs. // By default it does NOT remove it from the map (attrsMap) because the map is // needed during codegen. export function getAndRemoveAttr( el: ASTElement, name: string, removeFromMap?: boolean ): string | undefined { let val if ((val = el.attrsMap[name]) != null) { const list = el.attrsList for (let i = 0, l = list.length; i \u0026lt; l; i++) { if (list[i].name === name) { list.splice(i, 1) break } } } if (removeFromMap) { delete el.attrsMap[name] } return val } ä»¥åçœ‹æ‡‚äº†å…¶ä»–æºç å†å›æ¥è¡¥å……ğŸ˜‰\nv-if å’Œ v-forä¸€èµ·ä½¿ç”¨æ—¶çš„æ³¨æ„ç‚¹\nå½“ v-if å’Œ v-for ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œç¡®å®å­˜åœ¨ä¸€ä¸ªä¼˜å…ˆçº§å…³ç³»ï¼šv-for å…·æœ‰æ¯” v-if æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚è¿™æ„å‘³ç€ v-for æŒ‡ä»¤å°†é¦–å…ˆå¯¹æ•°æ®è¿›è¡Œè¿­ä»£ï¼Œç„¶ååœ¨æ¯ä¸ªè¿­ä»£é¡¹ä¸Šåº”ç”¨ v-if æ¡ä»¶ã€‚\nå› æ­¤ï¼Œå¦‚æœä½ çš„æœ¬æ„æ˜¯å…ˆè¿›è¡Œ v-if çš„åˆ¤æ–­ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨å¾ªç¯å¤–å¥—ä¸ª \u0026lt;template\u0026gt; å…ƒç´ ï¼ŒæŠŠ v-if å†™åœ¨ \u0026lt;template\u0026gt; å…ƒç´ ä¸Šã€‚\nä½¿ç”¨ key attribute é˜»æ­¢å…ƒç´ å¤ç”¨\nå½“ç»„ä»¶éœ€è¦è¿›è¡Œé‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼ŒVue é€šè¿‡ diff ç®—æ³•çŸ¥é“å“ªäº›å…ƒç´ å¯ä»¥å¤ç”¨ä»¥æé«˜æ¸²æŸ“æ•ˆç‡ã€‚\nä½†æ˜¯æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åˆ‡æ¢ä¸€ä¸ªå…¨æ–°çš„å­å…ƒç´ ï¼Œå°±æ¯”å¦‚æˆ‘ä»¬å‰æ–‡ä»‹ç»çš„ v-if ç³»åˆ—æŒ‡ä»¤ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input v-if=\u0026#34;flag\u0026#34; placeholder=\u0026#34;input1\u0026#34;\u0026gt; \u0026lt;input v-else placeholder=\u0026#34;input2\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;toggleFlag\u0026#34;\u0026gt;Toggle\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data:{ flag: true }, methods:{ toggleFlag(){ this.flag=!this.flag; } } }); \u0026lt;/script\u0026gt; ä¸Šé¢çš„ç»“æœæ˜¯åˆ‡æ¢ input æ—¶ä¼šä¿ç•™åŸæ¥çš„è¾“å…¥æ•°æ®ï¼š\nå¦‚æœä½ æœ‰é˜»æ­¢è¿™æ ·å¤ç”¨çš„éœ€æ±‚ï¼Œé‚£ä¹ˆå¯ä»¥ç»™å…ƒç´ æ·»åŠ ä¸€ä¸ªå”¯ä¸€çš„ key ã€‚\n1 2 \u0026lt;input v-if=\u0026#34;flag\u0026#34; placeholder=\u0026#34;input1\u0026#34; key=\u0026#34;input1\u0026#34;\u0026gt; \u0026lt;input v-else placeholder=\u0026#34;input2\u0026#34; key=\u0026#34;input2\u0026#34;\u0026gt; v-show çš„ä½œç”¨\nv-show çš„ç”¨é€”å’Œ v-if æŒ‡ä»¤ä¸€æ ·ï¼Œéƒ½æ˜¯ç”¨äºæ ¹æ®æ¡ä»¶æ˜¾ç¤ºå…ƒç´ ã€‚\nçŒ®ä¸Š v-show æºç \nsrc\\platforms\\web\\runtime\\directives\\show.ts\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 import VNode from \u0026#39;core/vdom/vnode\u0026#39; import type { VNodeDirective, VNodeWithData } from \u0026#39;types/vnode\u0026#39; import { enter, leave } from \u0026#39;web/runtime/modules/transition\u0026#39; // recursively search for possible transition defined inside the component root function locateNode(vnode: VNode | VNodeWithData): VNodeWithData { // @ts-expect-error return vnode.componentInstance \u0026amp;\u0026amp; (!vnode.data || !vnode.data.transition) ? locateNode(vnode.componentInstance._vnode!) : vnode } export default { bind(el: any, { value }: VNodeDirective, vnode: VNodeWithData) { vnode = locateNode(vnode) const transition = vnode.data \u0026amp;\u0026amp; vnode.data.transition const originalDisplay = (el.__vOriginalDisplay = el.style.display === \u0026#39;none\u0026#39; ? \u0026#39;\u0026#39; : el.style.display) if (value \u0026amp;\u0026amp; transition) { vnode.data.show = true enter(vnode, () =\u0026gt; { el.style.display = originalDisplay }) } else { el.style.display = value ? originalDisplay : \u0026#39;none\u0026#39; } }, update(el: any, { value, oldValue }: VNodeDirective, vnode: VNodeWithData) { /* istanbul ignore if */ if (!value === !oldValue) return vnode = locateNode(vnode) const transition = vnode.data \u0026amp;\u0026amp; vnode.data.transition if (transition) { vnode.data.show = true if (value) { enter(vnode, () =\u0026gt; { el.style.display = el.__vOriginalDisplay }) } else { leave(vnode, () =\u0026gt; { el.style.display = \u0026#39;none\u0026#39; }) } } else { el.style.display = value ? el.__vOriginalDisplay : \u0026#39;none\u0026#39; } }, unbind( el: any, binding: VNodeDirective, vnode: VNodeWithData, oldVnode: VNodeWithData, isDestroy: boolean ) { if (!isDestroy) { el.style.display = el.__vOriginalDisplay } } } locateNode å‡½æ•°é€’å½’å¯»æ‰¾å½“å‰ vnode å¤–å±‚å…·æœ‰ transition å±æ€§çš„ vnodeã€‚\næœ€åä½¿ç”¨ export default å¯¼å‡ºäº†ä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤çš„é…ç½®ã€‚\nè¯¥è‡ªå®šä¹‰æŒ‡ä»¤çš„bindå‡½æ•°çš„æµç¨‹åˆ†æï¼š\né¦–å…ˆæ‰¾å¯»å¤–å±‚å…·æœ‰ transtion å±æ€§çš„ vnodeï¼Œ\n1 vnode = locateNode(vnode) ä¿å­˜å…¶ transition å±æ€§å€¼ï¼ˆå¦‚æœä¸å­˜åœ¨ä¸ºfalseï¼‰ï¼Œ\n1 const transition = vnode.data \u0026amp;\u0026amp; vnode.data.transition ä¿å­˜å…¶åŸå§‹çš„ displayå±æ€§ï¼Œå¦‚æœæœ¬æ¥ el.style.display çš„å€¼å°±ä¸º noneï¼Œé‚£ä¹ˆ originalDisplay ä¸º ç©ºå­—ç¬¦ä¸²''ï¼Œ\n1 2 const originalDisplay = (el.__vOriginalDisplay = el.style.display === \u0026#39;none\u0026#39; ? \u0026#39;\u0026#39; : el.style.display) åˆ¤æ–­æŒ‡ä»¤çš„ç»‘å®šè¡¨è¾¾å¼çš„å€¼åŠæ˜¯å¦æ˜¯è¿‡æ¸¡ç»„ä»¶ï¼Œ\nå¦‚æœç»‘å®šå€¼ä¸ºçœŸå€¼ä¸”æ˜¯è¿‡æ¸¡ç»„ä»¶ï¼Œåˆ™è°ƒç”¨ enter å‡½æ•°è¿›å…¥è¿‡æ¸¡åŠ¨ç”»ï¼›\nå¦‚æœç»‘å®šå€¼ä¸ºå‡å€¼ï¼Œè®¾ç½®å…ƒç´ çš„ display å±æ€§ä¸º noneï¼›\nå¦‚æœç»‘å®šå€¼æ˜¯çœŸå€¼ä½†ä¸æ˜¯è¿‡æ¸¡ç»„ä»¶ï¼Œè®¾ç½®å…ƒç´ çš„ display å±æ€§ä¸º originalDisplayï¼Œ\n1 2 3 4 5 6 7 8 if (value \u0026amp;\u0026amp; transition) { vnode.data.show = true enter(vnode, () =\u0026gt; { el.style.display = originalDisplay }) } else { el.style.display = value ? originalDisplay : \u0026#39;none\u0026#39; } æ‰€ä»¥ï¼Œè¯´è¿™ä¹ˆå¤šï¼Œv-show çš„æœ¬è´¨ä¸Šæ˜¯é€šè¿‡ å…ƒç´ çš„ display attribute æ¥æ§åˆ¶å…¶æ˜¾ç¤ºã€‚\nv-show å’Œ v-if çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ\nv-show æœ¬è´¨ä¸Šæ˜¯åˆ‡æ¢å…ƒç´ çš„ CSS å±æ€§ display æ§åˆ¶å…ƒç´ çš„å¯è§æ€§ã€‚\nv-if æ˜¯ç›´æ¥åˆ›å»ºæˆ–é”€æ¯DOMã€‚\nå› æ­¤ï¼Œé¢‘ç¹åˆ‡æ¢å…ƒç´ ä½¿ç”¨ v-showï¼Œå¦åˆ™ä½¿ç”¨ v-ifã€‚\n","date":"2023-09-05T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93/","title":"ã€Vue 2ã€‘æ¡ä»¶æ¸²æŸ“"},{"content":"1 nextTickçš„ç”¨å¤„ vm.$netTickçš„ä½œç”¨æ˜¯å°†å›è°ƒå»¶è¿Ÿåˆ°ä¸‹æ¬¡DOMæ›´æ–°å‘¨æœŸä¹‹åæ‰§è¡Œã€‚\nå®ƒæ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚\nå…¶å®ï¼Œåœ¨æˆ‘ä»¬æ›´æ–°æ•°æ®çŠ¶æ€åï¼Œæ˜¯ä¸ä¼šç«‹é©¬æ¸²æŸ“çš„ï¼Œä½ ä¸èƒ½å³åˆ»è·å–åˆ°æ–°çš„DOMï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Async Update Example\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; .font-color{ color: red; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div ref=\u0026#34;textBox1\u0026#34;\u0026gt;{{text}}\u0026lt;/div\u0026gt; \u0026lt;button @click=\u0026#34;changeText\u0026#34;\u0026gt;æ”¹å˜æ–‡æœ¬\u0026lt;/button\u0026gt; \u0026lt;div ref=\u0026#34;textBox2\u0026#34; :class=\u0026#34;{\u0026#39;font-color\u0026#39;: true}\u0026#34;\u0026gt;null\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { text: \u0026#34;Today is a cloudy day.\u0026#34; }, methods: { changeText() { this.text = this.text === \u0026#34;Today is a sunny day.\u0026#34; ? \u0026#34;Today is a cloudy day.\u0026#34; : \u0026#34;Today is a sunny day.\u0026#34;; this.$refs.textBox2.innerHTML = this.$refs.textBox1.innerHTML; } } }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨nextTickæ–¹æ³•ï¼š\n1 2 3 4 5 6 7 changeText(){ this.text=this.text=== \u0026#34;Today is a sunny day.\u0026#34;? \u0026#34;Today is a cloudy day.\u0026#34;: \u0026#34;Today is a sunny day.\u0026#34;; this.$nextTick(function(){ this.$refs.textBox2.innerHTML = this.$refs.textBox1.innerHTML; }); } å¦‚æœæ²¡æœ‰æä¾›å›è°ƒä¸”åœ¨æ”¯æŒ Promise çš„ç¯å¢ƒä¸­ï¼Œåˆ™è¿”å›ä¸€ä¸ª Promiseã€‚\n1 2 3 4 5 6 7 8 changeText(){ this.text=this.text=== \u0026#34;Today is a sunny day.\u0026#34;? \u0026#34;Today is a cloudy day.\u0026#34;: \u0026#34;Today is a sunny day.\u0026#34;; _this=this; this.$nextTick().then(function(){ _this.$refs.textBox2.innerHTML = _this.$refs.textBox1.innerHTML; }); } æµ‹è¯•ä¸­æˆ‘ä»¬å‘ç°ä¸Šé¢ä»£ç ä¸­thençš„å›è°ƒå‚æ•°é‡Œçš„thisæŒ‡å‘äº†windowï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å¤–é¢ä½¿ç”¨_thisã€‚\n2 å¼‚æ­¥æ›´æ–°æœºåˆ¶ Vueä¾¦æµ‹åˆ°æ•°æ®å˜åŒ–æ—¶ä¼šé€šçŸ¥åˆ°å¯¹åº”ä¾èµ–ç®¡ç†å™¨é‡Œçš„æ‰€æœ‰Watcherï¼Œç„¶åè™šæ‹ŸDOMä¼šå¯¹æ•´ä¸ªç»„ä»¶è¿›è¡Œå·®å¼‚æ¯”è¾ƒæ¥æ›´æ–°DOMï¼ŒVueè¿›è¡Œé‡æ–°æ¸²æŸ“ã€‚\nå¦‚æœæˆ‘åœ¨ä¸€ä¸ªå¾ªç¯ä¸­ä¸åœæ”¹å˜ä¸€ä¸ªæ•°æ®å±æ€§ï¼Œé‚£å¯¹åº”çš„Watcherå°±ä¼šæ”¶åˆ°å¤šä»½é€šçŸ¥ï¼Œæ˜¯ä¸æ˜¯è¦è¿›è¡Œå¤šæ¬¡æ¸²æŸ“å‘¢ï¼Ÿ\næ˜æ˜¾ä¸ä¼šï¼ŒVue.jsä¼šå°†æ”¶åˆ°çš„watcherå®ä¾‹æ·»åŠ åˆ°å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—ä¸­ï¼Œä¸”ä¸ä¼šé‡å¤æ·»åŠ åŒä¸€ä¸ªwatcherï¼Œç„¶åç­‰åˆ°ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯ï¼Œä¸€æ¬¡æ€§æ¸…ç©ºé˜Ÿåˆ—é‡Œçš„æ‰€æœ‰watcherå¹¶è®©å®ƒä»¬è§¦å‘æ¸²æŸ“ã€‚\n3 äº‹ä»¶å¾ªç¯ 3.1 ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ å‰é¢æåˆ°çš„äº‹ä»¶å¾ªç¯åˆæ˜¯ä»€ä¹ˆï¼Ÿ\næˆ‘ä»¬çŸ¥é“ï¼ŒJavaScriptæ˜¯ä¸€é—¨å•çº¿ç¨‹ä¸”éé˜»å¡çš„è¯­è¨€ã€‚\nå•çº¿ç¨‹æ„å‘³ç€ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œä¹Ÿå«åšä¸»çº¿ç¨‹ã€‚\néé˜»å¡æ„å‘³ç€é‡åˆ°å¼‚æ­¥ä»»åŠ¡ï¼ˆæ¯”å¦‚ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å–ã€å®šæ—¶å™¨ç­‰ï¼‰æ—¶ï¼ŒJavaScriptä¼šå°†è¿™äº›å¼‚æ­¥ä»»åŠ¡æŒ‚èµ·ï¼Œç»§ç»­æ‰§è¡Œåé¢çš„ä»£ç ã€‚å½“å¼‚æ­¥ä»»åŠ¡å¤„ç†å®Œæ¯•åï¼Œæ ¹æ®ä¸€å®šçš„è§„åˆ™ï¼ˆé€šå¸¸æ˜¯å›è°ƒå‡½æ•°æˆ–Promiseï¼‰æ¥å¤„ç†æ“ä½œçš„ç»“æœã€‚\næŒ‚èµ·ï¼ˆpendingï¼‰æ˜¯æŒ‡å°†å¼‚æ­¥ä»»åŠ¡æ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—é‡Œï¼Œç§°ä¸ºäº‹ä»¶é˜Ÿåˆ—ã€‚\nè€Œå¼‚æ­¥ä»»åŠ¡å¯ä»¥åˆ†ä¸ºå¾®ä»»åŠ¡å’Œå®ä»»åŠ¡ã€‚\nå¾®ä»»åŠ¡æ”¾åœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå®ä»»åŠ¡æ”¾åœ¨å®ä»»åŠ¡é˜Ÿåˆ—ã€‚\nå½“ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆçš„ä»»åŠ¡éƒ½æ‰§è¡Œå®Œåï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œå¾®ä»»åŠ¡çš„å›è°ƒäº‹ä»¶ï¼Œç›´åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œå†æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä»ä¸­é€‰å‡ºä¸€ä¸ªäº‹ä»¶ï¼Œå°†å…¶å›è°ƒåŠ å…¥æ‰§è¡Œæ ˆï¼Œé‡å¤ä¸Šè¿°æ­¥éª¤ã€‚\nè¿™ä¹Ÿå°±æ˜¯äº‹ä»¶å¾ªç¯ã€‚\n3.1 å¸¸è§å¾®ä»»åŠ¡ 1ï¼‰Promiseçš„thenã€catchå’Œfinally\nå½“ä¸€ä¸ªPromiseçš„çŠ¶æ€ä»pendingå˜ä¸ºfulfilledæˆ–rejectæ—¶ï¼Œä¸ä¹‹ç›¸å…³çš„thenæˆ–catchå›è°ƒå°±ä¼šè¢«æ·»åŠ åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 console.log(\u0026#34;å¼€å§‹\u0026#34;); // åˆ›å»ºä¸€ä¸ªPromiseå¯¹è±¡ const myPromise = new Promise((resolve, reject) =\u0026gt; { console.log(\u0026#34;Promiseä¸­çš„åŒæ­¥ä»£ç \u0026#34;); resolve(\u0026#34;PromiseæˆåŠŸ\u0026#34;); // æ¨¡æ‹ŸæˆåŠŸæƒ…å†µ }); // æ·»åŠ thenã€catchå’Œfinallyå›è°ƒ myPromise .then((result) =\u0026gt; { console.log(\u0026#34;thenå›è°ƒæ‰§è¡Œ:\u0026#34;, result); }) .catch((error) =\u0026gt; { console.error(\u0026#34;catchå›è°ƒæ‰§è¡Œ:\u0026#34;, error); }) .finally(() =\u0026gt; { console.log(\u0026#34;finallyå›è°ƒæ‰§è¡Œ\u0026#34;); }); console.log(\u0026#34;Promiseåçš„åŒæ­¥ä»£ç \u0026#34;); // æ¨¡æ‹Ÿå®ä»»åŠ¡ setTimeout(() =\u0026gt; { console.log(\u0026#34;å®ä»»åŠ¡å›è°ƒæ‰§è¡Œ\u0026#34;); }, 0); console.log(\u0026#34;ç»“æŸ\u0026#34;); è¾“å‡º\n1 2 3 4 5 6 7 å¼€å§‹ Promiseä¸­çš„åŒæ­¥ä»£ç  Promiseåçš„åŒæ­¥ä»£ç  ç»“æŸ thenå›è°ƒæ‰§è¡Œ: PromiseæˆåŠŸ finallyå›è°ƒæ‰§è¡Œ å®ä»»åŠ¡å›è°ƒæ‰§è¡Œ 2ï¼‰async/await\nawaitåé¢çš„è¡¨è¾¾å¼ä¼šç”Ÿæˆä¸€ä¸ªå¾®ä»»åŠ¡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 console.log(\u0026#34;å¼€å§‹\u0026#34;); // æ¨¡æ‹Ÿä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªPromise async function fetchData() { console.log(\u0026#34;å¼‚æ­¥å‡½æ•°å†…éƒ¨çš„åŒæ­¥ä»£ç \u0026#34;); return \u0026#34;PromiseæˆåŠŸ\u0026#34;; // æ¨¡æ‹ŸæˆåŠŸæƒ…å†µ } // ä½¿ç”¨async/awaitæ¥å¤„ç†å¼‚æ­¥æ“ä½œ async function processData() { try { const result = await fetchData(); // ç­‰å¾…Promiseè§£å†³ console.log(\u0026#34;æˆåŠŸ:\u0026#34;, result); } catch (error) { console.error(\u0026#34;å¤±è´¥:\u0026#34;, error); } finally { console.log(\u0026#34;finallyå›è°ƒæ‰§è¡Œ\u0026#34;); } } // è°ƒç”¨asyncå‡½æ•° processData(); console.log(\u0026#34;å¼‚æ­¥å‡½æ•°åçš„åŒæ­¥ä»£ç \u0026#34;); // æ¨¡æ‹Ÿå®ä»»åŠ¡ setTimeout(() =\u0026gt; { console.log(\u0026#34;å®ä»»åŠ¡å›è°ƒæ‰§è¡Œ\u0026#34;); }, 0); console.log(\u0026#34;ç»“æŸ\u0026#34;); è¾“å‡º\n1 2 3 4 5 6 7 å¼€å§‹ å¼‚æ­¥å‡½æ•°å†…éƒ¨çš„åŒæ­¥ä»£ç  å¼‚æ­¥å‡½æ•°åçš„åŒæ­¥ä»£ç  ç»“æŸ æˆåŠŸ: PromiseæˆåŠŸ finallyå›è°ƒæ‰§è¡Œ å®ä»»åŠ¡å›è°ƒæ‰§è¡Œ 3ï¼‰MutationObserverå›è°ƒ\nMutationObserveræ˜¯ä¸€ä¸ªç›‘è§†DOMæ ‘å˜åŒ–çš„APIã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;MutationObserverç¤ºä¾‹\u0026lt;/title\u0026gt; \u0026lt;style\u0026gt; .text{ color: red; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;target\u0026#34;\u0026gt; \u0026lt;p\u0026gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; // é€‰æ‹©è¦ç›‘è§†çš„ç›®æ ‡å…ƒç´  const target = document.getElementById(\u0026#39;target\u0026#39;); // åˆ›å»ºä¸€ä¸ªMutationObserverå®ä¾‹ï¼Œä¼ å…¥å›è°ƒå‡½æ•° const observer = new MutationObserver(function (mutationsList, observer) { // éå†å˜åŒ–åˆ—è¡¨ä¸­çš„æ¯ä¸ªMutationRecord for (let mutation of mutationsList) { if (mutation.type === \u0026#39;childList\u0026#39;) { // å­èŠ‚ç‚¹å˜åŒ– console.log(\u0026#39;å­èŠ‚ç‚¹å˜åŒ–ï¼š\u0026#39;, mutation.addedNodes, mutation.removedNodes); } else if (mutation.type === \u0026#39;attributes\u0026#39;) { // å±æ€§å˜åŒ– console.log(\u0026#39;å±æ€§å˜åŒ–ï¼š\u0026#39;, mutation.target.className, mutation.oldValue); } } }); // é…ç½®MutationObserveré€‰é¡¹ï¼Œç›‘è§†å­èŠ‚ç‚¹å˜åŒ– const config = { childList: true, attributes: true, subtree: true, characterData: true }; // å¼€å§‹è§‚å¯Ÿç›®æ ‡å…ƒç´  observer.observe(target, config); // åœ¨ä¸€æ®µæ—¶é—´åï¼Œä¿®æ”¹ç›®æ ‡å…ƒç´ ï¼Œè§‚å¯Ÿå˜åŒ– setTimeout(function () { target.innerHTML = \u0026#39;\u0026lt;p\u0026gt;è¿™æ˜¯ä¸€ä¸ªæ–°çš„æ®µè½ã€‚\u0026lt;/p\u0026gt;\u0026#39;; }, 1000); // å±æ€§å˜åŒ– setTimeout(function () { target.classList.add(\u0026#39;text\u0026#39;) }, 2000); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 4ï¼‰process.nextTick\nnode.jsä¸­è¿›ç¨‹ç›¸å…³çš„å¯¹è±¡\n1 2 3 4 5 console.log(\u0026#39;è¿™æ˜¯ç¬¬ä¸€ä¸ªä»»åŠ¡\u0026#39;); process.nextTick(function() { console.log(\u0026#39;è¿™æ˜¯ä¸‹ä¸€ä¸ªå¾®ä»»åŠ¡\u0026#39;); }); console.log(\u0026#39;è¿™æ˜¯ç¬¬äºŒä¸ªä»»åŠ¡\u0026#39;); 5ï¼‰queueMicrotask\nè¿™æ˜¯ä¸€ä¸ªECMAScript 2020å¼•å…¥çš„æ–¹æ³•ã€‚\n1 2 3 queueMicrotask(function() { // è¿™æ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡ }); 3.2 å¸¸è§å®ä»»åŠ¡ 1ï¼‰å®šæ—¶å™¨ä»»åŠ¡ï¼Œå¦‚setTimeoutæˆ–setInterval\n2ï¼‰ç½‘ç»œè¯·æ±‚ã€‚\n1 2 3 4 5 6 7 8 const xhr = new XMLHttpRequest(); xhr.open(\u0026#39;GET\u0026#39;, \u0026#39;https://example.com/api/data\u0026#39;, true); xhr.onreadystatechange = function() { if (xhr.readyState === 4 \u0026amp;\u0026amp; xhr.status === 200) { console.log(\u0026#39;ç½‘ç»œè¯·æ±‚å®Œæˆ\u0026#39;); } }; xhr.send(); 3ï¼‰DOMæ“ä½œï¼Œå¯¹DOMå…ƒç´ è¿›è¡Œæ“ä½œï¼Œä¾‹å¦‚æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹å…ƒç´ ã€‚\nDOMæ“ä½œå¯èƒ½ä¼šå¯¼è‡´é¡µé¢çš„é‡æ–°æ¸²æŸ“å’Œé‡æ’ï¼ˆreflowï¼‰ï¼Œè¿™äº›æ“ä½œæ˜¯æ˜‚è´µçš„ï¼Œéœ€è¦æ¶ˆè€—è¾ƒå¤šçš„è®¡ç®—èµ„æºï¼Œå› æ­¤å®ƒä»¬é€šå¸¸è¢«è§†ä¸ºå®ä»»åŠ¡ï¼Œè€Œä¸æ˜¯å¾®ä»»åŠ¡ã€‚\nä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨ requestAnimationFrame æˆ–å…¶ä»–å¾®ä»»åŠ¡æœºåˆ¶æ¥ä¼˜åŒ–DOMæ“ä½œçš„æ€§èƒ½ã€‚\n4ï¼‰æ–‡ä»¶æ“ä½œ\n1 2 3 4 5 const fs = require(\u0026#39;fs\u0026#39;); fs.readFile(\u0026#39;example.txt\u0026#39;, \u0026#39;utf8\u0026#39;, function(err, data) { if (err) throw err; console.log(\u0026#39;è¯»å–æ–‡ä»¶å®Œæˆ\u0026#39;); }); 4 nextTickæºç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 import { noop } from \u0026#39;shared/util\u0026#39; import { handleError } from \u0026#39;./error\u0026#39; import { isIE, isIOS, isNative } from \u0026#39;./env\u0026#39; //æŒ‡ç¤ºæ˜¯å¦æ­£åœ¨ä½¿ç”¨å¾®ä»»åŠ¡æ¥å¤„ç†å¼‚æ­¥æ“ä½œ export let isUsingMicroTask = false //å­˜å‚¨å¾…æ‰§è¡Œçš„å›è°ƒå‡½æ•° const callbacks: Array\u0026lt;Function\u0026gt; = [] //æ˜¯å¦æœ‰å¾…æ‰§è¡Œçš„å›è°ƒ let pending = false //ç”¨äºæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚å®ƒå°† callbacks æ•°ç»„ä¸­çš„å›è°ƒå‡½æ•°ä¾æ¬¡æ‰§è¡Œï¼Œå¹¶åœ¨æ‰§è¡Œåæ¸…ç©º callbacks æ•°ç»„ function flushCallbacks() { pending = false const copies = callbacks.slice(0) callbacks.length = 0 for (let i = 0; i \u0026lt; copies.length; i++) { copies[i]() } } //æ ¹æ®ç¯å¢ƒé€‰æ‹©ä½¿ç”¨å¾®ä»»åŠ¡æˆ–å®ä»»åŠ¡æ¥æ‰§è¡Œå›è°ƒå‡½æ•° let timerFunc //å¦‚æœæµè§ˆå™¨æ”¯æŒåŸç”Ÿçš„ Promiseï¼Œåˆ™ä½¿ç”¨ Promise æ¥å®ç°å¾®ä»»åŠ¡ã€‚ if (typeof Promise !== \u0026#39;undefined\u0026#39; \u0026amp;\u0026amp; isNative(Promise)) { const p = Promise.resolve() timerFunc = () =\u0026gt; { p.then(flushCallbacks) //åœ¨ iOS ä¸Šä½¿ç”¨ UIWebView æ—¶ï¼Œæ·»åŠ ä¸€ä¸ªç©ºçš„ setTimeout(noop) æ¥å¼ºåˆ¶åˆ·æ–°å¾®ä»»åŠ¡é˜Ÿåˆ— if (isIOS) setTimeout(noop) } isUsingMicroTask = true } else if ( !isIE \u0026amp;\u0026amp; typeof MutationObserver !== \u0026#39;undefined\u0026#39; \u0026amp;\u0026amp; (isNative(MutationObserver) || MutationObserver.toString() === \u0026#39;[object MutationObserverConstructor]\u0026#39;) ) {//å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒåŸç”Ÿ Promiseï¼Œä½†æ”¯æŒ MutationObserverï¼Œåˆ™ä½¿ç”¨ MutationObserver æ¥å®ç°å¾®ä»»åŠ¡ let counter = 1 const observer = new MutationObserver(flushCallbacks) const textNode = document.createTextNode(String(counter)) observer.observe(textNode, { characterData: true }) //è¿™ç§æƒ…å†µä¸‹ï¼ŒtimerFunc å°†è§‚å¯Ÿä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹çš„å­—ç¬¦æ•°æ®å˜åŒ–æ¥è§¦å‘å›è°ƒå‡½æ•°çš„æ‰§è¡Œ timerFunc = () =\u0026gt; { counter = (counter + 1) % 2 textNode.data = String(counter) } isUsingMicroTask = true } else if (typeof setImmediate !== \u0026#39;undefined\u0026#39; \u0026amp;\u0026amp; isNative(setImmediate)) { timerFunc = () =\u0026gt; { setImmediate(flushCallbacks) } } else { timerFunc = () =\u0026gt; { setTimeout(flushCallbacks, 0) } } ","date":"2023-09-03T00:00:00Z","permalink":"http://localhost:1313/p/vue-2nexttick%E6%96%B9%E6%B3%95%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/","title":"ã€Vue 2ã€‘nextTickæ–¹æ³•ã€å¼‚æ­¥æ›´æ–°ã€äº‹ä»¶å¾ªç¯"},{"content":"1 å‰è¨€ æ°´å¹³å±…ä¸­ã€å‚ç›´å±…ä¸­æ˜¯å‰ç«¯é¢è¯•ç™¾é—®ä¸åŒçš„é—®é¢˜ã€‚\nå…¶å®ç°æ–¹æ¡ˆä¹Ÿæ˜¯å¤šç§å¤šæ ·ï¼Œå¸¸å«äººå¤´æ˜çœ¼èŠ±ã€‚\næ°´å¹³æ–¹å‘å¯ä»¥è®¤ä¸ºæ˜¯å†…è”æ–¹å‘ï¼Œå‚ç›´æ–¹å‘è®¤ä¸ºæ˜¯å—çº§æ–¹å‘ã€‚\nä¸‹é¢ä»‹ç»ä¸€äº›å¸¸è§çš„æ–¹æ³•ã€‚\n1 2 3 \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;innerText\u0026#34;\u0026gt;Hello,World!\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; 2 å†…è”å…ƒç´ çš„æ°´å¹³å‚ç›´å±…ä¸­ é¦–å…ˆï¼Œå¸¸è§å†…è”å…ƒç´ æœ‰ï¼šaã€spanã€emã€bã€strongã€iã€buttonã€‚\n2.1 ä½¿ç”¨å¼¹æ€§å¸ƒå±€ ä½¿ç”¨dispaly: flexå°†çˆ¶çº§å®¹å™¨è®¾ç½®ä¸ºå¼¹æ€§å¸ƒå±€ï¼ˆFlexboxï¼‰ï¼Œç„¶åå¯ä»¥é€šè¿‡justify-content: centeræ§åˆ¶æ°´å¹³å±…ä¸­ï¼Œä½¿ç”¨align-items: centeræ§åˆ¶å‚ç›´å±…ä¸­ã€‚\n1 2 3 4 5 6 7 8 9 10 .container { height: 100px; width: 200px; background-color: cadetblue; display: flex; /* æ°´å¹³å±…ä¸­ */ justify-content: center; /* å‚ç›´å±…ä¸­ */ align-items: center; } 2.2 ä½¿ç”¨ç½‘æ ¼å¸ƒå±€ ä½¿ç”¨dispaly: gridå°†çˆ¶çº§å®¹å™¨è®¾ç½®ä¸ºç½‘æ ¼å¸ƒå±€ï¼ˆGridï¼‰ï¼Œç„¶åå¯ä»¥é€šè¿‡place-items: center;æ§åˆ¶æ°´å¹³å‚ç›´å±…ä¸­ã€‚\n1 2 3 4 5 6 7 .container { height: 100px; width: 200px; background-color: antiquewhite; display: grid; place-items: center; } place-itemsæ˜¯align-itemsã€justify-itemsçš„ç®€å†™ã€‚\n2.3 ä½¿ç”¨text-alignå’Œline-hight è®¾ç½®çˆ¶çº§å®¹å™¨çš„text-align: centerå®ç°æ–‡æœ¬æ°´å¹³å±…ä¸­å¯¹é½ï¼Œå…³é”®çš„ä¸€æ­¥è®¾ç½®è¡Œé«˜line-heightä¸ºå®¹å™¨çš„é«˜åº¦å³å¯å®ç°æ–‡æœ¬å‚ç›´å±…ä¸­ã€‚\nä¸ºä»€ä¹ˆè®¾ç½®è¡Œé«˜line-heightä¸ºå®¹å™¨çš„é«˜åº¦å°±èƒ½å®ç°æ–‡æœ¬å‚ç›´å±…ä¸­ï¼Ÿ\nå› ä¸ºæ–‡æœ¬çš„åŸºçº¿ä½äºè¡Œé«˜çš„ä¸­é—´ï¼ŒåŸºçº¿ä¹Ÿæ˜¯æ–‡æœ¬çš„ä¸­çº¿ï¼Œè®¾ç½®è¡Œé«˜ç­‰äºé«˜åº¦åï¼Œæ–‡å­—å°±å‚ç›´å±…ä¸­äº†ã€‚\n1 2 3 4 5 6 7 8 9 .container { height: 100px; width: 200px; background-color: antiquewhite; /* æ°´å¹³å±…ä¸­ */ text-align: center; /* å‚ç›´å±…ä¸­ï¼Œè¡Œé«˜ç­‰äºé«˜åº¦ */ line-height: 100px; } 2.4 ä½¿ç”¨text-alignå’Œdisplay: table-cell å°†å…ƒç´ è®¾ç½®ä¸ºè¡¨æ ¼å•å…ƒæ ¼ï¼Œå†ä½¿ç”¨vertical-align: centerå®ç°å‚ç›´å±…ä¸­ã€‚\n1 2 3 4 5 6 7 8 9 10 .container { height: 100px; width: 200px; background-color: antiquewhite; display: table-cell; /* æ°´å¹³å±…ä¸­ */ text-align: center; /* å‚ç›´å±…ä¸­ */ vertical-align: middle; } 3 å—çº§å…ƒç´ çš„æ°´å¹³å‚ç›´å±…ä¸­ å¸¸è§å—çº§å…ƒç´ æœ‰ï¼šh1-h6ã€pã€divã€ulã€olã€liç­‰ã€‚\n1 2 3 \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;innerText\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; å‰é¢ä»‹ç»çš„å†…è”å…ƒç´ çš„æ°´å¹³å‚ç›´å±…ä¸­æ–¹æ³•ä¹Ÿé€‚ç”¨äºå—çº§å…ƒç´ ã€‚ä¸‹é¢å°±ä¸å†é‡å¤ä»‹ç»ã€‚\n3.1 ç»å¯¹å®šä½+margin: auto é¦–å…ˆï¼Œè®¾ç½®çˆ¶å…ƒç´ ä¸ºç›¸å¯¹å®šä½ã€‚\nä¸ºä»€ä¹ˆè¦è®¾ç½®çˆ¶å…ƒç´ ä¸ºç›¸å¯¹å®šä½ï¼Ÿ\nåˆ›å»ºä¸€ä¸ªæä¾›ç»™å­å…ƒç´ çš„å®šä½åæ ‡ç³»ï¼Œä½¿å¾—å­å…ƒç´ åœ¨è¯¥åæ ‡ç³»å†…å®šä½ã€‚ ç»å¯¹å®šä½çš„å…ƒç´ ä¼šè„±ç¦»æ­£å¸¸æ–‡æ¡£æµï¼Œå¹¶ç›¸å¯¹äºæœ€è¿‘çš„å·²å®šä½ç»„ä»¶è¿›è¡Œå®šä½ã€‚ margin: autoè®¡ç®—å±…ä¸­ä½ç½®ä¾èµ–äºå¤–éƒ¨çš„ç›¸å¯¹å®šä½çš„çˆ¶å…ƒç´ ã€‚ è®¾ç½®å­å…ƒç´ ä¸ºç»å¯¹å®šä½ï¼Œå…¶topã€leftã€rightã€bottomçš„å€¼è®¾ä¸º0ï¼Œmarginä¸ºautoå³å¯è®©å­å…ƒç´ è‡ªåŠ¨è°ƒæ•´å››å‘¨è·ç¦»ä¸€æ ·å®ç°æ°´å¹³å‚ç›´å±…ä¸­ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 .container { height: 100px; width: 200px; background-color: cadetblue; position: relative; } .innerText { background-color: black; position: absolute; top: 0; left: 0; bottom: 0; right: 0; width: 50px; height: 50px; /* æ°´å¹³å‚ç›´å±…ä¸­ */ margin: auto; } 3.2 ç»å¯¹å®šä½+è´Ÿmargin é™¤äº†è‡ªåŠ¨è®¡ç®—ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ ¹æ®é•¿å®½æ‰‹åŠ¨æŒ‡å®šå…ƒç´ ç§»åŠ¨è·ç¦»ã€‚\nä½¿ç”¨è´Ÿmarginå€¼å®ç°å…ƒç´ çš„å¹³ç§»ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 .container { height: 100px; width: 200px; background-color: cadetblue; position: relative; } .innerText { width: 50px; height: 50px; background-color: black; position: absolute; top: 50%; left: 50%; margin: -25px 0 0 -25px; } 3.3 ç»å¯¹å®šä½+transform ä½¿ç”¨transformå®ç°å…ƒç´ çš„å¹³ç§»ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 .container { height: 100px; width: 200px; background-color: cadetblue; position: relative; } .innerText { width: 50px; height: 50px; background-color: black; position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); } ","date":"2023-09-02T00:00:00Z","permalink":"http://localhost:1313/p/css%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD%E6%96%B9%E6%A1%88/","title":"ã€CSSã€‘æ°´å¹³å‚ç›´å±…ä¸­æ–¹æ¡ˆ"},{"content":"1 å‰è¨€ CSSè¿‡æ¸¡(transition)å¯ä»¥åœ¨ä¸€ä¸ªå…ƒç´ åˆ‡æ¢åˆ°å¦ä¸€ç§çŠ¶æ€æ—¶ä¸ºå…¶å®šä¹‰å¹³æ»‘çš„è¿‡æ¸¡æ•ˆæœã€‚\nä¾‹å¦‚ï¼Œç”¨æˆ·é¼ æ ‡æ‚¬åœåœ¨æŒ‰é’®ä¸Šæ—¶ï¼ŒæŒ‰é’®é¢œè‰²å¹³æ»‘çš„ä»ä¸€ä¸ªé¢œè‰²è¿‡æ¸¡åˆ°å¦ä¸€ä¸ªé¢œè‰²ã€‚\n1 2 3 4 .btn:hover{ background-color: red; color: black; } é»˜è®¤æ‚¬åœæ•ˆæœ\næ·»åŠ è¿‡æ¸¡æ•ˆæœ\n1 2 3 4 .btn{ transition-duration: 0.8s; transition-timing-function: ease; } transitionæ˜¯transition-propertyã€transition-durationã€transition-timing-functionã€transition-delayçš„ç®€å†™å±æ€§ã€‚\nä¸‹é¢æ¥ä¸€ä¸€ä»‹ç»è¿™äº›å±æ€§ã€‚\n2 transition-property è¿™ä¸ªå±æ€§æŒ‡å®šåº”ç”¨è¿‡æ¸¡æ•ˆæœçš„å±æ€§åã€‚\nå®ƒæœ‰ä»¥ä¸‹å–å€¼ï¼š\nallï¼šé»˜è®¤å€¼ï¼Œè¡¨ç¤ºè¿‡æ¸¡æ•ˆæœåº”ç”¨åˆ°æ‰€æœ‰å¯è¿‡æ¸¡çš„å±æ€§ä¸Šã€‚ noneï¼šæ²¡æœ‰è¿‡æ¸¡åŠ¨ç”»ã€‚ \u0026lt;property-name\u0026gt;ï¼šæŒ‡å®šåº”ç”¨è¿‡æ¸¡æ•ˆæœçš„å±æ€§åï¼Œä½ å¯ä»¥æŒ‡å®šå¤šä¸ªå€¼ï¼Œä½¿ç”¨é€—å·åˆ†éš”ã€‚ initialï¼šé‡ç½®ä¸ºåˆå§‹å€¼ã€‚ unetï¼šé‡ç½®ä¸ºé»˜è®¤å€¼ã€‚ 3 transition-duration è¿‡æ¸¡å‘¨æœŸï¼Œè¿‡æ¸¡æ•ˆæœçš„æŒç»­æ—¶é—´ã€‚\né»˜è®¤å€¼ä¸º0sï¼Œå³æ²¡æœ‰è¿‡æ¸¡æ•ˆæœã€‚\nå±æ€§å€¼ä»¥ç§’æˆ–æ¯«ç§’ä¸ºå•ä½ï¼Œåƒtransition-propertyä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥è®¾ç½®å¤šä¸ªå€¼ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨å¯¹åº”transition-propertyæŒ‡å®šçš„å±æ€§åã€‚\nå¦‚æœæ—¶é—´å‘¨æœŸæ•°å°äºè¿‡æ¸¡å±æ€§æ•°ï¼Œé‚£ä¹ˆå‘¨æœŸæ•°ä¼šé‡å¤åº”ç”¨ï¼›å¦‚æœæ—¶é—´å‘¨æœŸæ•°å¤§äºè¿‡æ¸¡å±æ€§æ•°ï¼Œé‚£ä¹ˆæ—¶é—´å‘¨æœŸæ•°å¤šä½™çš„éƒ¨åˆ†è¢«å¿½ç•¥ã€‚\n4 transition-timing-function è¿‡æ¸¡æ•ˆæœçš„æ—¶é—´å‡½æ•°ï¼Œå†³å®šäº†åŠ¨ç”»å˜åŒ–é€Ÿåº¦ã€‚\nä¸‹é¢æ˜¯å®ƒçš„å±æ€§å€¼ä»‹ç»ã€‚\n1ï¼‰ease\né»˜è®¤å€¼ã€‚\nè¿‡æ¸¡åœ¨å¼€å§‹æ—¶é€Ÿåº¦è¾ƒæ…¢ï¼Œä¸­é—´æ—¶åŠ é€Ÿï¼Œç»“æŸæ—¶å‡é€Ÿã€‚\n2ï¼‰ease-in\nè¿‡æ¸¡å¼€å§‹æ—¶é€Ÿåº¦è¾ƒæ…¢ï¼Œç„¶åé€æ¸åŠ é€Ÿã€‚\n3ï¼‰ease-out\nå¼€å§‹æ—¶é€Ÿåº¦è¾ƒå¿«ï¼Œç„¶åé€æ¸å‡é€Ÿã€‚\n4ï¼‰ease-in-out\nè¿‡æ¸¡å¼€å§‹å’Œç»“æŸæ—¶é€Ÿåº¦è¾ƒæ…¢ï¼Œä¸­é—´æ—¶é€Ÿåº¦è¾ƒå¿«ã€‚ç›¸æ¯”äºeaseæ›´åŠ å¹³æ»‘ã€‚\n5ï¼‰linear\nè¿‡æ¸¡é€Ÿåº¦æ’å®šï¼Œæ²¡æœ‰åŠ é€Ÿæˆ–å‡é€Ÿï¼Œå‘ˆçº¿æ€§å˜åŒ–ã€‚\n6ï¼‰step-start\nåœ¨è¿‡æ¸¡çš„å¼€å§‹æ—¶ç«‹å³è·³åˆ°ç»“æŸçŠ¶æ€ã€‚\n7ï¼‰step-end\nåœ¨è¿‡æ¸¡çš„ç»“æŸæ—¶ç«‹å³è·³å›å¼€å§‹çŠ¶æ€ã€‚\n8ï¼‰stepså‡½æ•°\nä¾‹å¦‚steps(4,jump-end)è¡¨ç¤ºå°†è¿‡æ¸¡åˆ’åˆ†ä¸º4æ­¥ï¼Œæ¯ä¸€æ­¥ç»“æŸæ—¶ç«‹å³è·³åˆ°ç»“æŸçŠ¶æ€ã€‚\nç¬¬äºŒä¸ªå‚æ•°æœ‰ä»¥ä¸‹å€¼ï¼š\njump-startï¼šåœ¨æ¯ä¸€æ­¥å¼€å§‹æ—¶ç«‹å³è·³åˆ°ç»“æŸçŠ¶æ€ã€‚ jump-endï¼šåœ¨æ¯ä¸€æ­¥ç»“æŸæ—¶ç«‹å³è·³åˆ°ç»“æŸçŠ¶æ€ã€‚ jump-noneï¼šæ²¡æœ‰è·³è·ƒï¼Œè¿‡æ¸¡æ•ˆæœå¹³æ»‘è¿›è¡Œã€‚ jump-bothï¼šåœ¨æ¯ä¸€æ­¥çš„å¼€å§‹å’Œç»“æŸæ—¶éƒ½ç«‹å³è·³åˆ°ç»“æŸçŠ¶æ€ã€‚ 9ï¼‰cubic-bezierå‡½æ•°\næ¥å—å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«å®šä¹‰äº†æ—¶é—´æ›²çº¿ä¸Šçš„ä¸¤ä¸ªæ§åˆ¶ç‚¹ã€‚\nè¿™å››ä¸ªå‚æ•°çš„å–å€¼èŒƒå›´æ˜¯ä»0åˆ°1ä¹‹é—´ã€‚\nè¿™å››ä¸ªå‚æ•°çš„ç»„åˆå†³å®šäº†è´å¡å°”æ›²çº¿çš„å½¢çŠ¶ï¼Œä»è€Œå½±å“äº†è¿‡æ¸¡æ•ˆæœçš„é€Ÿåº¦å’Œå˜åŒ–ã€‚\nä½ å¯ä»¥ä½¿ç”¨åœ¨çº¿çš„è´å¡å°”æ›²çº¿ç”Ÿæˆå™¨æ¥å¯è§†åŒ–å’Œè°ƒæ•´è¿™äº›å‚æ•°ã€‚\n5 transition-delay è¿‡æ¸¡ä¹‹å‰éœ€è¦ç­‰å¾…çš„æ—¶é—´ã€‚\n6 ç§»åŠ¨å°çƒDemo 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;ç§»åŠ¨å°çƒDemo\u0026lt;/title\u0026gt; \u0026lt;style\u0026gt; body { margin: 0; padding: 0; } .ball{ position: absolute; width: 50px; height: 50px; border-radius: 50px; background-color: red; transition:all 7s ease; } .move { transform: translateX(300px); /* å°†å°çƒå‘å³ç§»åŠ¨ */ } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;button id=\u0026#34;animateButton\u0026#34;\u0026gt;ç§»åŠ¨\u0026lt;/button\u0026gt; \u0026lt;div class=\u0026#34;ball\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; const animateButton = document.getElementById(\u0026#34;animateButton\u0026#34;); const ball = document.querySelector(\u0026#34;.ball\u0026#34;); animateButton.addEventListener(\u0026#34;click\u0026#34;, () =\u0026gt; { ball.classList.toggle(\u0026#34;move\u0026#34;); }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ","date":"2023-09-01T00:00:00Z","permalink":"http://localhost:1313/p/csstransition/","title":"ã€CSSã€‘transition"},{"content":"JavaScript æ‰§è¡Œä¸Šä¸‹æ–‡ æ‰§è¡Œä¸Šä¸‹æ–‡å†³å®šäº†å˜é‡å’Œå‡½æ•°å¯ä»¥è®¿é—®å“ªäº›æ•°æ®ï¼Œå³ä»£ç æ‰§è¡Œçš„ç¯å¢ƒã€‚\nä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡å°±å¯¹åº”ä¸€ä¸ªä»…åå°å¯è®¿é—®çš„å˜é‡å¯¹è±¡ï¼Œå…¶ä¸­ä¿å­˜æœ‰è¯¥ä¸Šä¸‹æ–‡çš„å±€éƒ¨å˜é‡ã€å‚æ•°å’Œå‡½æ•°å£°æ˜ã€‚\næ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡éƒ½æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œå½“ä»£ç æ‰§è¡Œå®Œæˆåï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ä¼šè¢«é”€æ¯ã€‚\næœ€å¤–å±‚çš„ä¸Šä¸‹æ–‡ç§°ä¸ºå…¨å±€ä¸Šä¸‹æ–‡ã€‚å®¿ä¸»ç¯å¢ƒä¸åŒï¼Œå…¨å±€ä¸Šä¸‹æ–‡çš„å…³è”å¯¹è±¡å°±ä¸åŒã€‚åœ¨æµè§ˆå™¨ä¸­ï¼Œå…¨å±€ä¸Šä¸‹æ–‡å°±æ˜¯windowå¯¹è±¡ã€‚\næ³¨æ„windowåæ²¡æœ‰sã€‚\né™¤äº† window å¯¹è±¡è‡ªå¸¦çš„å±æ€§å¤–ï¼Œä½¿ç”¨varå®šä¹‰çš„å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½ä¼šæˆä¸ºå…¶å±æ€§ã€‚\nvarå…·æœ‰å‡½æ•°ä½œç”¨åŸŸï¼Œletå’Œconstå…·æœ‰å—çº§ä½œç”¨åŸŸã€‚\n1 2 3 4 5 6 7 var a1=1; function func(){ var a2=2; } console.log(a1); //è¾“å‡º1 console.log(typeof a2 === \u0026#34;undefined\u0026#34;); //è¾“å‡ºtrue console.log(window.a1); //è¾“å‡º1 window.a1ä¹Ÿå¯ä»¥å†™æˆwindow['a1']ã€‚\nä¸€èˆ¬çš„ä¸Šä¸‹æ–‡åœ¨å…¶ä»£ç æ‰§è¡Œå®Œåå°±é”€æ¯ï¼Œè€Œå…¨å±€ä¸Šä¸‹æ–‡æ˜¯åœ¨ç¨‹åºé€€å‡ºæ—¶æ‰è¢«é”€æ¯ã€‚\næ‰§è¡Œä¸Šä¸‹æ–‡ä¼šæŒ‰ç…§å‡½æ•°çš„è°ƒç”¨é¡ºåºå½¢æˆä¸€ä¸ªå †æ ˆï¼Œç§°ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆã€‚\nå½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ä½äºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆçš„é¡¶ç«¯ï¼Œå½“å®ƒæ‰§è¡Œå®Œåä¼šè¢«å¼¹å‡ºï¼Œç¨‹åºçš„æ§åˆ¶æƒå°±äº¤ç»™ä¹‹å‰çš„ä¸Šä¸‹æ–‡ã€‚\næˆ‘ä»¬ç”¨åˆ°çš„ã€è§åˆ°çš„thisæŒ‡é’ˆæŒ‡å‘çš„å°±æ˜¯è¿™ä¸ªå½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…¶å€¼å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚\nä½œç”¨åŸŸé“¾ ä½œç”¨åŸŸé“¾ï¼ˆscope chainï¼‰å†³å®šäº†å˜é‡å’Œå‡½æ•°çš„è®¿é—®æƒé™å’Œé¡ºåºï¼Œè¿™ä¸ªé“¾çš„æœ€å‰ç«¯æ˜¯å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ã€‚\nä½œç”¨åŸŸé“¾çš„å…ˆåé¡ºåºå°±æ˜¯å†…å¤–é¡ºåºï¼Œå†…éƒ¨æ‰§è¡Œä¸Šä¸‹æ–‡åŒ…å«äº†å¤–éƒ¨æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ¢å¥è¯è¯´ï¼Œå†…éƒ¨æ‰§è¡Œä¸Šä¸‹æ–‡å¯ä»¥è®¿é—®å¤–éƒ¨æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚\næˆ‘ä»¬è®¿é—®å˜é‡å’Œå‡½æ•°çš„é¡ºåºå°±æ˜¯ä»ä½œç”¨åŸŸé“¾çš„å‰é¢å¾€åé¢æ‰¾ã€‚\nçœ‹ä¸ªä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 const a4=4; var a5=5; const func1 = function (a3) { const a2=2; function func2() { const a1=1; return function func3(){ console.log(a1+a2+a3+a4+a5); } }; return func2(); }; const result=func1(3); result(); [[Scopes]]è®°å½•çš„æ˜¯å˜é‡çš„çˆ¶ä½œç”¨åŸŸé“¾ï¼Œå¯ä»¥çœ‹åˆ°resultå¹¶æ²¡æœ‰func3çš„ä¸Šä¸‹æ–‡ã€‚\nä½œç”¨åŸŸé“¾å¢å¼º æœ‰ä¸¤ä¸ªå½±å“ä½œç”¨åŸŸé“¾çš„è¡Œä¸ºï¼šwithå’Œtry/catchçš„catchå—ã€‚\nä½¿ç”¨withå°†æŒ‡å®šå¯¹è±¡çš„ä½œç”¨åŸŸæ¨å…¥ä¸Šä¸‹æ–‡æ ˆï¼š\n1 2 3 4 5 6 7 let person={ name:\u0026#39;Carl\u0026#39;, age:22 } with(person){ console.log(name+\u0026#34;\u0026#39;s age is \u0026#34;+age); } try/catchè¯­å¥çš„catchå—æ˜¯ä¸€ä¸ªå•ç‹¬çš„ä¸Šä¸‹æ–‡ï¼Œæ•è·çš„é”™è¯¯ä¿¡æ¯è¢«æ·»åŠ åˆ°catchå—çš„å˜é‡å¯¹è±¡ä¸Šï¼Œäºæ˜¯åªèƒ½åœ¨catchå—è®¿é—®è¯¥é”™è¯¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 try { // å¯èƒ½ä¼šå¼•å‘å¼‚å¸¸çš„ä»£ç  const result = someFunction(); } catch (error) { // æ•è·å¼‚å¸¸å¹¶å¤„ç† console.error(\u0026#34;An error occurred:\u0026#34;, error.name, error.message); // åœ¨ catch å—å†…éƒ¨å¯ä»¥å®šä¹‰å±€éƒ¨å˜é‡ const errorCode = 500; console.log(\u0026#34;Error code:\u0026#34;, errorCode); } // åœ¨è¿™é‡Œæ— æ³•è®¿é—® error å’Œ errorCode console.log(error); // æŠ›å‡º ReferenceError console.log(errorCode); // æŠ›å‡º ReferenceError ","date":"2023-08-29T00:00:00Z","permalink":"http://localhost:1313/p/javascript%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE/","title":"ã€JavaScriptã€‘æ‰§è¡Œä¸Šä¸‹æ–‡ä¸ä½œç”¨åŸŸé“¾"},{"content":"for in for in è¯­å¥ä»¥ä»»æ„é¡ºåºéå†ä¸€ä¸ªå¯¹è±¡çš„é™¤Symbolä»¥å¤–çš„å¯æšä¸¾å±æ€§ã€‚\nä¸€ä¸ªå±æ€§å¯ä¸å¯æšä¸¾æ˜¯ç”±å®ƒçš„å†…éƒ¨å±æ€§[[Enumerable]]å†³å®šçš„ã€‚\nè·å–å¯¹è±¡å…ƒç´ çš„å±æ€§æè¿°ï¼š\n1 Object.getOwnPropertyDescriptor(obj,prop); è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å±æ€§ï¼š\nconfigurableï¼šæ˜¯å¦å¯é…ç½® enumerableï¼šæ˜¯å¦å¯æšä¸¾ valueï¼šå±æ€§å€¼ writableï¼šæ˜¯å¦å¯å†™ 1 2 3 4 5 6 const obj = {a:1,b:2,c:3}; const propDesc = Object.getOwnPropertyDescriptor(obj,\u0026#39;a\u0026#39;); for(const prop in propDesc){ console.log(prop); } console.log(proDesc.enumerable); è¾“å‡ºï¼š\n1 2 3 4 5 value writable enumerable configurable true å®é™…ä¸Šfor inéå†çš„æ˜¯é”®åï¼Œè€Œä¸æ˜¯é”®å€¼ã€‚\nå› ä¸ºå¯¹è±¡çš„å±æ€§æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼Œæ‰€ä»¥for inè¯­å¥ä»¥ä»»æ„é¡ºåºéå†å¯¹è±¡çš„å±æ€§ã€‚\nfor inè¯­å¥ä¼šéå†å¯¹è±¡åŠå…¶åŸå‹é“¾ä¸Šçš„æ‰€æœ‰å¯æšä¸¾å±æ€§ã€‚\n1 2 3 4 5 6 7 const obj = {a:1,b:2,c:3}; const obj2 = Object.create(obj); obj2.d = 4; for(const prop in obj2){ console.log(prop); } //è¾“å‡ºï¼šd a b c for inè¯­å¥ä¼šéå†æ•°ç»„çš„ç´¢å¼•ï¼Œè€Œä¸æ˜¯æ•°ç»„å…ƒç´ ã€‚\n1 2 3 4 5 const arr = [1,2,3]; for(const index in arr){ console.log(index); } //è¾“å‡ºï¼š0 1 2 for of for ofè¯­å¥ç”¨äºéå†å¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ ã€‚\nå¯è¿­ä»£å¯¹è±¡åŒ…æ‹¬Arrayï¼ŒMapï¼ŒSetï¼ŒStringï¼ŒTypedArrayï¼Œargumentså¯¹è±¡ç­‰ç­‰ã€‚\nå…ƒç´ æŒ‡çš„æ˜¯æ•°ç»„çš„å€¼ï¼ŒMapçš„é”®å€¼å¯¹ï¼ŒSetçš„å€¼ï¼ŒStringçš„å­—ç¬¦ç­‰ç­‰ã€‚\nå¯è¿­ä»£å¯¹è±¡çš„åˆ¤æ–­ï¼š\n1 2 3 function isIterable(obj){ return obj!=null\u0026amp;\u0026amp;typeof obj[Symbol.iterator]===\u0026#39;function\u0026#39;; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 const arr = [1,2,3]; for(const value of arr){ console.log(value); } //è¾“å‡ºï¼š1 2 3 const map = new Map().set(\u0026#39;a\u0026#39;,1).set(\u0026#39;b\u0026#39;,2).set(\u0026#39;c\u0026#39;,3); for(const value of map){ console.log(value); } //è¾“å‡ºï¼š[\u0026#34;a\u0026#34;, 1] [\u0026#34;b\u0026#34;, 2] [\u0026#34;c\u0026#34;, 3] const set = new Set().add(1).add(2).add(3); for(const value of set){ console.log(value); } //è¾“å‡ºï¼š1 2 3 const str = \u0026#39;abc\u0026#39;; for(const value of str){ console.log(value); } //è¾“å‡ºï¼ša b c ","date":"2023-08-28T00:00:00Z","permalink":"http://localhost:1313/p/javascriptfor-in%E5%92%8Cfor-of%E8%AF%AD%E5%8F%A5/","title":"ã€JavaScriptã€‘for inå’Œfor ofè¯­å¥"},{"content":"JavaScriptçš„æ•°ç»„æ˜¯åŠ¨æ€çš„ï¼Œå…¶é•¿åº¦å¯ä»¥éšæ—¶æ”¹å˜ï¼Œè€Œä¸”å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®ã€‚\nlengthå±æ€§ æ•°ç»„çš„é•¿åº¦ï¼Œå¯ä»¥é€šè¿‡è¯¥å±æ€§æ”¹å˜æ•°ç»„çš„é•¿åº¦ã€‚\nç”¨é€”ï¼šarr.length-1â†’arrçš„æœ€åä¸€ä¸ªå…ƒç´ è¢«åˆ é™¤ã€‚\nåˆ›å»ºæ•°ç»„ å¸¸ç”¨åˆ›å»ºæ•°ç»„çš„æ–¹æ³•ï¼š\n1 2 3 4 5 6 let arr=new Array(19); //åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º19çš„æ•°ç»„ let arr=new Array(1,2,3); //åˆ›å»ºä¸€ä¸ªåŒ…å«1,2,3çš„æ•°ç»„ let arr=[1,2,3]; //åˆ›å»ºä¸€ä¸ªåŒ…å«1,2,3çš„æ•°ç»„ let arr=[]; //åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ let arr=[1,2,]; //æœ€åä¸€ä¸ªé€—å·ä¼šè¢«å¿½ç•¥ let arr=[1,,3]; //ä¸­é—´çš„ç©ºä½ä¼šè¢«å½“åšundefined ES6æ–°å¢äº†ä¸¤ä¸ªåˆ›å»ºæ•°ç»„çš„æ–¹æ³•ï¼šArray.from()å’ŒArray.of()ã€‚\nArray.from Array.from()å°†ä»¥ä¸‹ç±»å‹çš„å¯¹è±¡è½¬ä¸ºæ•°ç»„ï¼š\nç±»æ•°ç»„å¯¹è±¡ï¼Œå³å¯è¿­ä»£å¯¹è±¡ã€‚ æ‹¥æœ‰ä¸€ä¸ªlengthå±æ€§å’Œå¯ç´¢å¼•å…ƒç´ çš„å¯¹è±¡ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 //å­—ç¬¦ä¸²è½¬æ•°ç»„ console.log(Array.from(\u0026#34;Hello\u0026#34;)); //[\u0026#34;H\u0026#34;, \u0026#34;e\u0026#34;, \u0026#34;l\u0026#34;, \u0026#34;l\u0026#34;, \u0026#34;o\u0026#34;] //Mapå’ŒSetè½¬æ•°ç»„ let map=new Map().set(\u0026#34;a\u0026#34;,1).set(\u0026#34;b\u0026#34;,2); console.log(Array.from(map)); //[[\u0026#34;a\u0026#34;, 1], [\u0026#34;b\u0026#34;, 2]] let set=new Set().add(\u0026#34;a\u0026#34;).add(\u0026#34;b\u0026#34;); console.log(Array.from(set)); //[\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;] //æµ…å¤åˆ¶æ•°ç»„ let arr=[1,2,3]; console.log(Array.from(arr)); //[1, 2, 3] //å¯è¿­ä»£å¯¹è±¡è½¬æ•°ç»„ let iter={ *[Symbol.iterator](){ yield 1; yield 2; yield 3; } } console.log(Array.from(iter)); //[1, 2, 3] //argumentså¯¹è±¡è½¬æ•°ç»„ function fn(){ console.log(Array.from(arguments)); } console.log(fn(1,2,3)); //[1, 2, 3] //å¸¦æœ‰lengthå±æ€§å’Œå¯ç´¢å¼•å…ƒç´ çš„å¯¹è±¡è½¬æ•°ç»„ let obj={ length:3, 0:1, 1:2, 2:3 } console.log(Array.from(obj)); //[1, 2, 3] Array.from()ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ˜ å°„å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥å¢å¼ºæ–°æ•°ç»„çš„å€¼ï¼Œè€Œæ— éœ€åƒArray().from().map()æ–¹æ³•é‚£æ ·å…ˆåˆ›å»ºä¸€ä¸ªä¸­é—´æ•°ç»„ã€‚\n1 2 let arr=[1,2,3]; console.log(Array.from(arr,x=\u0026gt;x*2)); //[2, 4, 6] Array.of Array.ofæ–¹æ³•å¯å°†ä¸€å‚æ•°æ•°ç»„è½¬ä¸ºæ•°ç»„ã€‚\n1 2 3 4 function fn() { console.log(Array.of(...arguments)); } fn(1, 2, 3); //[1, 2, 3] Array.of(5)ä¸Array(5)ä¼šäº§ç”Ÿä¸€æ ·çš„ç»“æœå—ï¼Ÿ\næ£€æµ‹æ•°ç»„ æ£€æµ‹æ•°ç»„çš„æ–¹æ³•ï¼š\n1 2 3 let arr=[1,2,3]; arr instanceof Array //true Array.isArray(arr) //true ä½¿ç”¨instanceofæ£€æµ‹æ•°ç»„çš„é—®é¢˜åœ¨äºï¼Œå¦‚æœæ•°ç»„æ˜¯åœ¨å¦ä¸€ä¸ªå…¨å±€æ‰§è¡Œç¯å¢ƒï¼ˆæ¯”å¦‚ä¸åŒçš„çª—å£æˆ–æ¡†æ¶ï¼‰ä¸­åˆ›å»ºçš„ï¼Œé‚£ä¹ˆinstanceofå°±ä¼šè¿”å›falseã€‚\nè®¾è®¡ä¸€ä¸ªDemoçœ‹çœ‹æƒ…å†µï¼š\nindex.htmlï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script\u0026gt; let iframe=document.createElement(\u0026#39;iframe\u0026#39;); iframe.src=\u0026#39;child-iframe.html\u0026#39;; iframe.onload=function(){ let arrInChild=iframe.contentWindow.arrInChild; console.log(arrInChild); console.log(arrInChild instanceof Array); console.log(Array.isArray(arrInChild)); } document.body.appendChild(iframe); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; child-iframe.htmlï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Child IFrame\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script\u0026gt; var arrInChild = [1, 2, 3, 4, 5]; \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; åœ¨æ§åˆ¶å°ä¸­å¯ä»¥çœ‹åˆ°ï¼š\narrChildæ˜¯åœ¨child-iframe.htmlä¸­å®šä¹‰çš„ï¼Œå°½ç®¡ä½¿ç”¨äº†varå£°æ˜ï¼Œinstanceofä¾ç„¶æ— æ³•æ£€æµ‹å…¶æ˜¯å¦æ˜¯æ•°ç»„ï¼Œè€Œä½¿ç”¨Array.isArrayåˆ™ç”Ÿæ•ˆã€‚\nå¦‚æœä½¿ç”¨letå£°æ˜arrInChildï¼Œåˆ™ä¼šæŠ¥é”™è¯´arrInChildæœªå®šä¹‰ã€‚\nè¿­ä»£å™¨æ–¹æ³• ES6æ–°å¢äº†ä¸‰ä¸ªè¿­ä»£å™¨æ–¹æ³•ï¼škeys()ã€values()å’Œentries()ã€‚\nkeys()ï¼šè¿”å›ä¸€ä¸ªåŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•é”®çš„è¿­ä»£å™¨ã€‚ values()ï¼šè¿”å›ä¸€ä¸ªåŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•å€¼çš„è¿­ä»£å™¨ã€‚ entries()ï¼šè¿”å›ä¸€ä¸ªåŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•é”®å€¼å¯¹çš„è¿­ä»£å™¨ã€‚ 1 2 3 4 5 6 7 8 9 let arr=[1,2,3]; console.log(arr.keys()); //[0, 1, 2] console.log(arr.values()); //[1, 2, 3] console.log(arr.entries()); //[[0, 1], [1, 2], [2, 3]] // for...ofå¾ªç¯+è§£æ„ for(let [index,value] of arr.entries()){ console.log(index,value); } å¤åˆ¶å’Œå¡«å……æ–¹æ³• ES6æ–°å¢äº†ä¸¤ä¸ªå¤åˆ¶å’Œå¡«å……æ–¹æ³•ï¼šcopyWithin()å’Œfill()ã€‚\n1.fill() ä½¿ç”¨æŒ‡å®šå€¼å¡«å……æ•°ç»„çš„æŒ‡å®šä½ç½®ã€‚\nfill(value,start,end)ï¼šå°†[start,end)çš„ä½ç½®æ›¿æ¢ä¸ºvalueã€‚\nå¦‚æœæ²¡æœ‰æŒ‡å®šstartå’Œendï¼Œé»˜è®¤å¡«å……æ‰€æœ‰ä½ç½®ã€‚ å¦‚æœåªæŒ‡å®šstartï¼Œåˆ™endä¸ºæ•°ç»„æœ«å°¾ã€‚ 1 2 3 4 5 6 7 8 9 10 let arr=[1,2,3]; arr.fill(5); console.log(arr); //[5, 5, 5] arr.fill(6,1); console.log(arr); //[5, 6, 6] arr.fill(7,1,2); console.log(arr); //[5, 7, 6] 2.copyWithin() ä»æ•°ç»„å†…éƒ¨å¤åˆ¶ä¸€æ®µå†…å®¹åˆ°æ•°ç»„å…¶ä»–ä½ç½®ï¼Œä¼šè¦†ç›–åŸæœ‰æˆå‘˜ã€‚\ncopyWithin(target,start,end)ï¼šå°†[start,end)ä½ç½®çš„å†…å®¹å¤åˆ¶åˆ°targetã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 let arr=[1,2,3,4,5]; //å°†æ•°ç»„ä¸­ç´¢å¼•ä»0å¼€å§‹çš„å…ƒç´ å¤åˆ¶åˆ°ç´¢å¼•ä»1å¼€å§‹çš„ä½ç½® arr.copyWithin(1); console.log(arr); //[1, 1, 2, 3, 4] //å°†æ•°ç»„ä¸­ç´¢å¼• [1,arr.length) çš„å…ƒç´ å¤åˆ¶åˆ°ç´¢å¼•ä»2å¼€å§‹çš„ä½ç½® arr.copyWithin(2,1); console.log(arr); //[1, 1, 1, 2, 3] //å°†æ•°ç»„ä¸­ç´¢å¼• [1,3) çš„å…ƒç´ å¤åˆ¶åˆ°ç´¢å¼•ä»2å¼€å§‹çš„ä½ç½® arr.copyWithin(2,1,3); console.log(arr); //[1, 1, 1, 1, 3] è½¬æ¢æ–¹æ³• toString()ï¼šå°†æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå…ƒç´ ç”¨é€—å·åˆ†éš”ã€‚å¯¹æ¯ä¸ªå…ƒç´ è°ƒç”¨toString()æ–¹æ³•ã€‚\ntoLocaleString()ï¼šå°†æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå…ƒç´ ç”¨é€—å·åˆ†éš”ï¼Œä½¿ç”¨æœ¬åœ°ç‰¹å®šçš„åˆ†éš”ç¬¦ã€‚å¯¹æ¯ä¸ªå…ƒç´ è°ƒç”¨toLocaleString()æ–¹æ³•ã€‚\nvalueOf()ï¼šè¿”å›æ•°ç»„æœ¬èº«ã€‚\njoin()ï¼šå°†æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå…ƒç´ ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦åˆ†éš”ã€‚\n1 2 3 4 5 6 let arr=[1,2,3]; console.log(arr.toString()); //1,2,3 console.log(arr.toLocaleString()); //1,2,3 console.log(arr.valueOf()); //[1, 2, 3] console.log(arr.join()); //1,2,3 console.log(arr.join(\u0026#39;-\u0026#39;)); //1-2-3 å¦‚æœæ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ æ˜¯nullæˆ–undefinedï¼Œé‚£ä¹ˆè¯¥å…ƒç´ åœ¨join()ã€toLocaleString()ã€toString()å’ŒvalueOf()æ–¹æ³•è¿”å›çš„ç»“æœä¸­ä»¥ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºã€‚\næ ˆæ–¹æ³• ECMAScriptæ•°ç»„æä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œå¯ä»¥è®©æ•°ç»„åƒæ ˆä¸€æ ·å·¥ä½œã€‚\npush()ï¼šå°†_ä¸€ä¸ªæˆ–å¤šä¸ª_å…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œè¿”å›æ•°ç»„çš„æ–°é•¿åº¦ã€‚ pop()ï¼šåˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›è¯¥å…ƒç´ ã€‚ 1 2 3 4 5 let arr=[1,2,3]; console.log(arr.push(4,5)); //5 console.log(arr); //[1, 2, 3, 4, 5] console.log(arr.pop()); //5 console.log(arr); //[1, 2, 3, 4] é˜Ÿåˆ—æ–¹æ³• ECMAScriptæ•°ç»„ä¹Ÿæä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œå¯ä»¥è®©æ•°ç»„åƒé˜Ÿåˆ—ä¸€æ ·å·¥ä½œã€‚\nshift()ï¼šåˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›è¯¥å…ƒç´ ã€‚\nunshift()ï¼šå°†_ä¸€ä¸ªæˆ–å¤šä¸ª_å…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„å¼€å¤´ï¼Œè¿”å›æ•°ç»„çš„æ–°é•¿åº¦ã€‚\n1 2 3 4 5 let arr=[1,2,3]; console.log(arr.shift()); //1 console.log(arr); //[2, 3] console.log(arr.unshift(4,5)); //4 console.log(arr); //[4, 5, 2, 3] æ’åºæ–¹æ³• æ•°ç»„æœ‰ä¸¤ä¸ªæ’åºæ–¹æ³•ï¼šreverse()å’Œsort()ã€‚\nreverse()ï¼šåè½¬æ•°ç»„çš„é¡ºåºã€‚\nsort()ï¼šæŒ‰å‡åºæ’åˆ—æ•°ç»„é¡¹â€”â€”å³æœ€å°çš„å€¼ä½äºæœ€å‰é¢ï¼Œæœ€å¤§çš„å€¼æ’åœ¨æœ€åé¢ã€‚æ¥å—ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œç”¨äºæŒ‡å®šæŒ‰ç…§ä»€ä¹ˆé¡ºåºæ’åˆ—ã€‚\n1 2 3 4 let arr=[1,2,3]; console.log(arr.reverse()); //[3, 2, 1] console.log(arr.sort()); //[1, 2, 3] console.log(arr.sort((a,b)=\u0026gt;b-a)); //[3, 2, 1] æ“ä½œæ–¹æ³• 1.concat() å…ˆåˆ›å»ºå½“å‰æ•°ç»„çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åå°†æ¥æ”¶åˆ°çš„å‚æ•°æ·»åŠ åˆ°è¿™ä¸ªå‰¯æœ¬çš„æœ«å°¾ï¼Œæœ€åè¿”å›æ–°æ„å»ºçš„æ•°ç»„ã€‚\n1 2 3 4 let arr=[1,2,3]; console.log(arr.concat(4,5)); //[1, 2, 3, 4, 5] console.log(arr.concat(4,[5,6])); //[1, 2, 3, 4, 5, 6] console.log(arr.concat([4,[5,6]])); //[1, 2, 3, 4, [5, 6]] concat()é»˜è®¤æ‰“å¹³ä¸€å±‚ã€‚\nè®¾ç½®Symbol.isConcatSpreadableä¸ºfalseå¯ä»¥é˜»æ­¢concat()æ‰“å¹³ã€‚\n1 2 3 4 let arr = [1, 2, 3]; let arr2 = [4, 5]; arr2[Symbol.isConcatSpreadable] = false; console.log(arr.concat(arr2)); //[1, 2, 3, [4, 5]] 2.slice() åŸºäºå½“å‰æ•°ç»„ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªé¡¹åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ã€‚æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šè¦è¿”å›é¡¹çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚è¿”å›é¡¹åŒ…æ‹¬èµ·å§‹ä½ç½®ï¼Œä½†ä¸åŒ…æ‹¬ç»“æŸä½ç½®ã€‚\n1 2 3 4 5 let arr=[1,2,3,4,5]; console.log(arr.slice(1)); //[2, 3, 4, 5] console.log(arr.slice(1,3)); //[2, 3] console.log(arr.slice(-2)); //[4, 5] console.log(arr.slice(-2,-1)); //[4] 3.splice() åˆ é™¤ã€æ’å…¥å’Œæ›¿æ¢æ•°ç»„çš„å…ƒç´ ï¼Œéå¸¸å¼ºå¤§ã€‚æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šè¦åˆ é™¤çš„ç¬¬ä¸€é¡¹çš„ä½ç½®ã€è¦åˆ é™¤çš„é¡¹æ•°å’Œè¦æ’å…¥çš„é¡¹ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªç”±åˆ é™¤é¡¹ç»„æˆçš„æ•°ç»„ã€‚\n1 2 3 4 5 6 7 let arr=[1,2,3,4,5]; console.log(arr.splice(1,2)); //[2, 3] console.log(arr); //[1, 4, 5] console.log(arr.splice(1,0,2,3)); //[] console.log(arr); //[1, 2, 3, 4, 5] console.log(arr.splice(1,2,6,7)); //[2, 3] console.log(arr); //[1, 6, 7, 4, 5] ä½ç½®æ–¹æ³• â… .æŒ‰ä¸¥æ ¼ç›¸ç­‰æœç´¢ ä¸¥æ ¼ç›¸ç­‰æœç´¢å³ä½¿ç”¨å…¨ç­‰ç¬¦===è¿›è¡Œæ¯”è¾ƒã€‚\nindexOf()ï¼šä»æ•°ç»„çš„å¼€å¤´ï¼ˆä½ç½®0ï¼‰å¼€å§‹å‘åæŸ¥æ‰¾ï¼Œè¿”å›è¦æŸ¥æ‰¾çš„é¡¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼›å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¿”å›-1ã€‚\nlastIndexOf()ï¼šä»æ•°ç»„çš„æœ«å°¾å¼€å§‹å‘å‰æŸ¥æ‰¾ï¼Œè¿”å›è¦æŸ¥æ‰¾çš„é¡¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼›å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¿”å›-1ã€‚\nincludes()ï¼šä»æ•°ç»„çš„å¼€å¤´ï¼ˆä½ç½®0ï¼‰å¼€å§‹å‘åæŸ¥æ‰¾ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ã€‚\n1 2 3 4 let arr=[1,2,3,4,5,4,3,2,1]; console.log(arr.indexOf(3)); //2 console.log(arr.lastIndexOf(3)); //6 console.log(arr.includes(3)); //true â…¡.æŒ‰å›è°ƒå‡½æ•°æœç´¢ find()ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªè¿”å›å€¼ä¸ºtrueçš„é¡¹ï¼Œç„¶åè¿”å›è¯¥é¡¹ã€‚å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¿”å›undefinedã€‚ findIndex()ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªè¿”å›å€¼ä¸ºtrueçš„é¡¹ï¼Œç„¶åè¿”å›è¯¥é¡¹çš„ç´¢å¼•ã€‚å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¿”å›-1ã€‚ 1 2 3 let arr=[1,2,3,4,5]; console.log(arr.find((value,index,arr)=\u0026gt;value\u0026gt;3)); //4 console.log(arr.findIndex((value,index,arr)=\u0026gt;value\u0026gt;3)); //3 è¿­ä»£æ–¹æ³• forEach()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ map()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœç»„æˆçš„æ•°ç»„ã€‚ filter()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›è¯¥å‡½æ•°ä¼šè¿”å›trueçš„é¡¹ç»„æˆçš„æ•°ç»„ã€‚ every()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å›trueï¼Œåˆ™è¿”å›trueã€‚ some()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹ä»»ä¸€é¡¹è¿”å›trueï¼Œåˆ™è¿”å›trueã€‚ ä»–ä»¬çš„å‚æ•°æ ¼å¼ä¸€è‡´ï¼šå›è°ƒå‡½æ•°ã€å¯é€‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¯¹è±¡ã€‚\nå›è°ƒå‡½æ•°æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šæ•°ç»„é¡¹çš„å€¼ã€è¯¥é¡¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®å’Œæ•°ç»„å¯¹è±¡æœ¬èº«ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 let arr=[1,2,3,4,5]; arr.forEach((value,index,arr)=\u0026gt;console.log(value,index,arr)); //1 0 [1, 2, 3, 4, 5] //2 1 [1, 2, 3, 4, 5] //3 2 [1, 2, 3, 4, 5] //4 3 [1, 2, 3, 4, 5] //5 4 [1, 2, 3, 4, 5] console.log(arr.map((value,index,arr)=\u0026gt;value*2)); //[2, 4, 6, 8, 10] console.log(arr.filter((value,index,arr)=\u0026gt;value\u0026gt;3)); //[4, 5] console.log(arr.every((value,index,arr)=\u0026gt;value\u0026gt;3)); //false console.log(arr.some((value,index,arr)=\u0026gt;value\u0026gt;3)); //true forEachå›è°ƒå‡½æ•°ä¸­çš„thisæŒ‡å‘æ˜¯ï¼Ÿå¦‚ä½•é€€å‡ºforEach?\n1 2 3 4 5 6 7 (function foo() { let arr = [1, 2, 3, 4, 5] arr.forEach((value, index, arr) =\u0026gt; { console.log(this) //window throw Error(\u0026#39;é€€å‡ºforEach\u0026#39;) }) }()) å½’å¹¶æ–¹æ³• å½’å¹¶æ–¹æ³•ï¼šreduce()å’ŒreduceRight()ã€‚\nreduce()ï¼šä»æ•°ç»„çš„ç¬¬ä¸€é¡¹å¼€å§‹ï¼Œé€ä¸ªéå†åˆ°æœ€åã€‚ reduceRight()ï¼šä»æ•°ç»„çš„æœ€åä¸€é¡¹å¼€å§‹ï¼Œé€ä¸ªéå†åˆ°ç¬¬ä¸€é¡¹ã€‚ è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªåœ¨æ¯ä¸€é¡¹ä¸Šè°ƒç”¨çš„å‡½æ•°å’Œï¼ˆå¯é€‰çš„ï¼‰ä½œä¸ºå½’å¹¶åŸºç¡€çš„åˆå§‹å€¼ã€‚\nä¼ ç»™reduce()å’ŒreduceRight()çš„å‡½æ•°æ¥æ”¶å››ä¸ªå‚æ•°ï¼šå‰ä¸€æ¬¡reduceçš„è¿”å›å€¼ã€å½“å‰å€¼ã€å½“å‰é¡¹çš„ç´¢å¼•å’Œæ•°ç»„å¯¹è±¡ã€‚è¿™ä¸ªå‡½æ•°è¿”å›çš„ä»»ä½•å€¼éƒ½ä¼šä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°è‡ªåŠ¨ä¼ ç»™ä¸‹ä¸€é¡¹ã€‚\n1 2 3 let arr=[1,2,3,4,5]; console.log(arr.reduce((prev,cur,index,arr)=\u0026gt;prev+cur)); //15 console.log(arr.reduce((prev,cur,index,arr)=\u0026gt;prev+cur,10)); //25 ","date":"2023-08-28T00:00:00Z","permalink":"http://localhost:1313/p/javascript%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/","title":"ã€JavaScriptã€‘æ•°ç»„æ–¹æ³•"},{"content":"Hugo theme Stack supports the creation of interactive image galleries using Markdown. It\u0026rsquo;s powered by PhotoSwipe and its syntax was inspired by Typlog.\nTo use this feature, the image must be in the same directory as the Markdown file, as it uses Hugo\u0026rsquo;s page bundle feature to read the dimensions of the image. External images are not supported.\nSyntax 1 ![Image 1](1.jpg) ![Image 2](2.jpg) Result Photo by mymind and Luke Chesser on Unsplash\n","date":"2023-08-26T00:00:00Z","image":"http://localhost:1313/p/image-gallery/2_hubce42636ecacc1a380b462f3110efcec_37455_120x120_fill_q75_box_smart1.jpg","permalink":"http://localhost:1313/p/image-gallery/","title":"Image gallery"},{"content":"For more details, check out the documentation.\nBilibili video Tencent video YouTube video Generic video file Your browser doesn't support HTML5 video. Here is a link to the video instead. Gist GitLab Quote Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nâ€• A famous person, The book they wrote Photo by Codioful on Unsplash\n","date":"2023-08-25T00:00:00Z","image":"http://localhost:1313/p/shortcodes/cover_huec3c3e34981507583e214021ad1b9a4b_12942_120x120_fill_q75_box_smart1.jpg","permalink":"http://localhost:1313/p/shortcodes/","title":"Shortcodes"},{"content":"backgroundå±æ€§ä¸ºå…ƒç´ æ·»åŠ èƒŒæ™¯æ•ˆæœã€‚\nå®ƒæ˜¯ä»¥ä¸‹å±æ€§çš„ç®€å†™ï¼ŒæŒ‰é¡ºåºä¸ºï¼š\nbackground-color background-image background-repeat background-position background-size background-origin background-clip background-attachment 1 2 3 .element { background: #ff0000 url(\u0026#39;background.jpg\u0026#39;) no-repeat top right / 200px 150px content-box border-box fixed; } ä»¥ä¸‹æ‰€æœ‰ç¤ºä¾‹ä¸­çš„èŠ±èŠ±.jpgå›¾ç‰‡çš„å¤§å°æ˜¯48Ã—48ã€‚\n1 background-color background-coloræŒ‡å®šå…ƒç´ çš„èƒŒæ™¯è‰²ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;CSS èƒŒæ™¯è‰² Demo\u0026lt;/title\u0026gt; \u0026lt;style\u0026gt; body { margin: 0; padding: 0; } .container { width: 200px; height: 200px; background-color: #f0f0f0; } .box { width: 100px; height: 100px; background-color: #f00; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 2 background-image 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;CSS èƒŒæ™¯å›¾ç‰‡ Demo\u0026lt;/title\u0026gt; \u0026lt;style\u0026gt; body { margin: 0; padding: 0; } .bg { width: 96px; height: 96px; background-image: url(\u0026#39;./èŠ±èŠ±.jpg\u0026#39;) } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div class=\u0026#34;bg\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; èƒŒæ™¯å›¾ç‰‡é»˜è®¤æ˜¯é‡å¤çš„ï¼ˆrepeatï¼‰ã€‚\n3 background-repeat å®ƒå…·æœ‰ä»¥ä¸‹å€¼ã€‚\n1ï¼‰é»˜è®¤å€¼repeat\nrepeatä¼šè£å‰ªé‡å¤å›¾ç‰‡è¶…å‡ºçš„éƒ¨åˆ†ã€‚\n1 2 3 4 5 .bg{ width: 120px; height: 96px; background-repeat:repeat; } 2ï¼‰space\nspaceæ˜¯æ— è£å‰ªçš„é‡å¤ã€‚\nå…¶é‡å¤åŸç†ï¼š\nå¦‚æœå›¾ç‰‡ä¸èƒ½åˆšå¥½æ”¾ä¸‹ï¼Œå‰©ä½™é•¿æˆ–å®½å°†å‡åŒ€åˆ†å¸ƒåœ¨å›¾ç‰‡ä¹‹é—´ã€‚ ç¬¬ä¸€å¼ å›¾ç‰‡ä¸€å®šä»å·¦ä¸Šæ–¹çš„é¡¶ç‚¹ä½ç½®å¼€å§‹æ’åˆ—ã€‚ å¦‚æœå›¾ç‰‡å¤§å°è¶…å‡ºå®¹å™¨å¤§å°ï¼Œé‚£ä¹ˆå°†è¢«è£å‰ªã€‚ 1 2 3 4 5 .bg{ width: 120px; height: 96px; background-repeat:space; } 1 2 3 4 5 .bg{ width: 160px; height: 96px; background-repeat:space; } 3ï¼‰round\nroundæ˜¯è‡ªé€‚åº”é‡å¤ï¼Œç›¸æ¯”è¾ƒäºspaceï¼Œå®ƒä¼šæ ¹æ®å…ƒç´ ä¸å›¾ç‰‡çš„å¤§å°å…³ç³»æ‹‰ä¼¸æˆ–ç¼©å°å›¾ç‰‡ã€‚\næ¯”å¦‚è¯´ï¼Œä¸€ä¸ªå›¾ç‰‡é•¿ä¸º$x$ï¼Œå…ƒç´ é•¿ä¸º$X$ï¼Œ$nx \\leq X \\leq mx$ï¼Œå¦‚æœ$X$æ›´é è¿‘$nx$ï¼Œé‚£ä¹ˆå›¾ç‰‡å°†è¢«æ”¾å¤§ï¼Œå¦‚æœ$X$æ›´é è¿‘$mx$ï¼Œé‚£ä¹ˆå›¾ç‰‡å°†è¢«ç¼©å°ã€‚\n4ï¼‰no-repeat\nno-repeatè®¾ç½®å›¾ç‰‡ä¸å…è®¸é‡å¤ã€‚\n4 background-position background-positionç”¨äºè®¾å®šå›¾ç‰‡çš„ä½ç½®ï¼Œå…¶å€¼ç±»å‹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 .bg{ /*å…³é”®å­—*/ background-position:top; background-position:bottom; background-position:center; background-position:left; background-position:right; /*ç™¾åˆ†æ¯”å€¼*/ background-position:50% 50%; /*é•¿åº¦å€¼*/ background-position:10cm 10cm; /*è¾¹ç•Œåç§»å€¼*/ background-position:top 10em left 10px; /*å…¨å±€å€¼*/ background-position:inherit; /*ç»§æ‰¿çˆ¶å…ƒç´ */ background-position:initial; /*è®¾ç½®ä¸ºåˆå§‹å€¼ï¼Œé»˜è®¤*/ background-position:revert; /*é‡ç½®ä¸ºæ ·å¼è¡¨ä¸­çš„å€¼*/ background-position:unset; /*é‡ç½®ä¸ºåˆå§‹å€¼ï¼Œå¦‚æœçˆ¶å…ƒç´ èƒŒæ™¯ä½ç½®æœ‰å®šä¹‰ï¼Œç»§æ‰¿çˆ¶å…ƒç´ çš„å€¼*/ } 5 background-size ç”¨äºæ§åˆ¶èƒŒæ™¯å›¾ç‰‡çš„å°ºå¯¸å’Œé€‚åº”æ–¹å¼ã€‚\nåˆå§‹å€¼ï¼šauto autoã€‚\nä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ background-size å€¼å’Œè§£é‡Šï¼š\nç¤ºä¾‹ä½¿ç”¨èƒŒæ™¯å›¾ç‰‡ï¼ˆ390x693 ï¼‰ï¼š\n1ï¼‰auto\né»˜è®¤å€¼ï¼ŒèƒŒæ™¯å›¾ç‰‡å¤§å°ä¿æŒåŸå§‹å°ºå¯¸ï¼Œä¸è¿›è¡Œç¼©æ”¾ã€‚\n2ï¼‰é•¿åº¦å€¼\nä½¿ç”¨æŒ‡å®šçš„é•¿åº¦å•ä½ï¼ˆå¦‚åƒç´ ï¼‰è®¾ç½®èƒŒæ™¯å›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ã€‚\nä¾‹å¦‚ï¼Œbackground-size: 200px 100px; å°†èƒŒæ™¯å›¾ç‰‡çš„å®½åº¦è®¾ç½®ä¸º 200 åƒç´ ï¼Œé«˜åº¦è®¾ç½®ä¸º 100 åƒç´ ã€‚\nå¦‚æœåªè®¾ç½®ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆè¯¥å€¼å°†ä½œä¸ºå®½åº¦ï¼Œé«˜åº¦è®¾ä¸ºautoã€‚\n3ï¼‰ç™¾åˆ†æ¯”\nä½¿ç”¨æŒ‡å®šçš„ç™¾åˆ†æ¯”å€¼è®¾ç½®èƒŒæ™¯å›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ã€‚\nç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹äºåŒ…å«å…ƒç´ çš„å®½åº¦å’Œé«˜åº¦è®¡ç®—çš„ã€‚\nä¾‹å¦‚ï¼Œbackground-size: 50% 75%; å°†èƒŒæ™¯å›¾ç‰‡çš„å®½åº¦è®¾ç½®ä¸ºå…ƒç´ å®½åº¦çš„ 50%ï¼Œé«˜åº¦è®¾ç½®ä¸ºå…ƒç´ é«˜åº¦çš„ 75%ã€‚\n4ï¼‰cover\nèƒŒæ™¯å›¾ç‰‡ä¼šå®Œå…¨è¦†ç›–æ•´ä¸ªå…ƒç´ ï¼Œå¯èƒ½ä¼šè£å‰ªéƒ¨åˆ†å›¾ç‰‡ã€‚\nèƒŒæ™¯å›¾ç‰‡ä¼šè¢«**ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œ**ä»¥é€‚åº”å…ƒç´ çš„è¾ƒå°ç»´åº¦ï¼Œç„¶åå°†å…¶ä½™éƒ¨åˆ†è£å‰ªæ‰ï¼Œä»¥ç¡®ä¿æ•´ä¸ªå…ƒç´ éƒ½è¢«è¦†ç›–ã€‚\nè¾ƒå°ç»´åº¦æ˜¯çœ‹ å…ƒç´ é•¿/å›¾ç‰‡é•¿ ä»¥åŠ å…ƒç´ å®½/å›¾ç‰‡å®½ çš„æ¯”å€¼å¤§å°ã€‚\n1 2 3 width: 390px; height: 500px; background-size:cover 5ï¼‰contain\nç¡®ä¿æ•´ä¸ªèƒŒæ™¯å›¾ç‰‡å®Œå…¨åŒ…å«åœ¨å…ƒç´ å†…ï¼Œä¸ä¼šè£å‰ªå›¾ç‰‡ã€‚\nèƒŒæ™¯å›¾ç‰‡ä¼šè¢«ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œä»¥é€‚åº”å…ƒç´ çš„è¾ƒå¤§ç»´åº¦ï¼Œä»¥ç¡®ä¿æ•´ä¸ªå›¾ç‰‡éƒ½å¯è§ï¼Œä¸ä¼šè¢«è£å‰ªã€‚\n1 2 3 width: 390px; height: 500px; background-size:contain 6 background-origin æŒ‡å®šèƒŒæ™¯å›¾ç‰‡çš„åŸç‚¹ä½ç½®åœ¨å“ªä¸ªåŒºåŸŸçš„å·¦ä¸Šè§’ã€‚\nè¯¥å±æ€§æœ‰ä»¥ä¸‹å€¼ï¼š\n1ï¼‰padding-boxï¼šé»˜è®¤å€¼ã€‚\n1 2 3 4 5 6 7 8 .bg { width: 48px; height: 48px; background-image: url(\u0026#39;./èŠ±èŠ±.png\u0026#39;); background-origin: padding-box; padding: 5px; border: 5px solid #b95353; } 2ï¼‰border-boxã€‚\n3ï¼‰content-boxã€‚\n7 background-clip background-clip è®¾ç½®å…ƒç´ çš„èƒŒæ™¯ï¼ˆèƒŒæ™¯å›¾ç‰‡æˆ–é¢œè‰²ï¼‰æ˜¯å¦å»¶ä¼¸åˆ°è¾¹æ¡†ã€å†…è¾¹è·ç›’å­ã€å†…å®¹ç›’å­ä¸‹é¢ã€‚\n8 background-attachment background-attachmentå†³å®šå›¾ç‰‡çš„æ»šåŠ¨è¡Œä¸ºã€‚\nå…¶å€¼åŒ…æ‹¬ï¼š\nscrollï¼ˆé»˜è®¤å€¼ï¼‰ï¼šèƒŒæ™¯å›¾ç‰‡éšé¡µé¢æ»šåŠ¨è€Œæ»šåŠ¨ã€‚\nfixedï¼šèƒŒæ™¯å›¾ç‰‡ä¸ä¼šéšé¡µé¢æ»šåŠ¨è€Œæ»šåŠ¨ï¼Œè€Œæ˜¯ç›¸å¯¹äºè§†å£çš„åŸç‚¹ï¼ˆå·¦ä¸Šè§’ï¼‰å›ºå®šã€‚\næˆ‘ä»¬è§‚å¯Ÿåˆ°è¿™ä¸¤ä¸ªå…ƒç´ çš„èƒŒæ™¯å›¾ç‰‡æ˜¯é‡å åœ¨ä¸€èµ·äº†ã€‚\nlocalï¼šä¸éšé¡µé¢æ»šåŠ¨ï¼Œä½†éšå…ƒç´ å†…éƒ¨æ»šåŠ¨è€Œæ»šåŠ¨ã€‚\n","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/cssbackground/","title":"ã€CSSã€‘background"},{"content":"JavaScript å­—ç¬¦ä¸²ç®€ä»‹ JavaScriptä¸­çš„å­—ç¬¦ä¸²æ˜¯ç”±16ä½ç å…ƒcode unitç»„æˆã€‚\né€šå¸¸æ¥è¯´ï¼Œä¸€ä¸ªå­—ç¬¦=16ä½ç å…ƒï¼Œè¯¥ç±»å­—ç¬¦ä¹Ÿå«åšå•ç å…ƒå­—ç¬¦ã€‚\nè¿˜æœ‰ä¸€ç§å­—ç¬¦ç»„æˆç­–ç•¥æ˜¯ä»£ç†å¯¹ï¼Œå®ƒç”±ä¸¤å¯¹16ä½ç å…ƒç»„æˆï¼Œå³ä¸€ä¸ªå­—ç¬¦å¯¹åº”ä¸¤ä¸ª16ä½ç å…ƒï¼Œç”¨äºå¢è¡¥å­—ç¬¦ã€‚\nJavaScriptä½¿ç”¨ä¸¤ç§Unicodeç¼–ç æ··åˆçš„ç­–ç•¥ï¼šUSC-2å’ŒUTF-16ã€‚\næ·±å…¥äº†è§£å­—ç¬¦ç¼–ç \nThe Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)\nJavaScriptâ€™s Internal Character Encoding:UCS-2 or UTF-16?\nå­—ç¬¦ä¸²åŸå§‹å€¼å¯ä»¥è°ƒç”¨æ‰€æœ‰Stringå¯¹è±¡çš„æ–¹æ³•ï¼›æœ‰3ä¸ªç»§æ‰¿çš„æ–¹æ³•ï¼švalueOf()ã€toLocaleString()ã€toString()ï¼Œå®ƒä»¬éƒ½è¿”å›å­—ç¬¦ä¸²å¯¹è±¡çš„åŸå§‹å­—ç¬¦ä¸²å€¼ï¼›æœ‰1ä¸ªlengthå±æ€§ï¼Œå…¶å€¼ä¸ºå­—ç¬¦ä¸²æ‰€åŒ…å«çš„å­—ç¬¦æ•°é‡ã€‚\nä¸‹é¢ä»‹ç»JavaScriptå­—ç¬¦ä¸²çš„ç›¸å…³æ–¹æ³•ã€‚\nè·å–æŒ‡å®šä½ç½®ä¸Šçš„å­—ç¬¦ã€ç¼–ç ã€ç ç‚¹ charAtã€charCodeAtã€codePointAt\ncharAtè·å–æŒ‡å®šä½ç½®å­—ç¬¦ã€‚\ncharCodeAtè·å–æŒ‡å®šä½ç½®å­—ç¬¦çš„ç¼–ç ï¼ˆ16è¿›åˆ¶å˜æˆ10è¿›åˆ¶ï¼‰ã€‚\n1 2 3 4 5 6 const str=\u0026#34;Hello,ä¸–ç•Œ!\u0026#34;; console.log(str.charAt(0)); //H console.log(str.charAt(7)); //ç•Œ console.log(str.charCodeAt(0)); //72 console.log(str.charCodeAt(7)); //30028 console.log(parseInt(30028).toString(16)); //754c charCodeAtåªé€‚åˆå•ç å…ƒå­—ç¬¦ï¼Œè€Œä»£ç†å¯¹å­—ç¬¦éœ€è¦ä½¿ç”¨codePointAtã€‚\nä¸ºäº†æ­£ç¡®è§£ææ—¢åŒ…å«å•ç å…ƒå­—ç¬¦åˆåŒ…å«ä»£ç†å¯¹å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨codePointAtæ¥æ”¶16ä½ç å…ƒçš„ç´¢å¼•å¹¶è¿”å›è¯¥ç´¢å¼•ä½ç½®ä¸Šçš„ç ç‚¹ï¼ˆUnicodeä¸­ä¸€ä¸ªå­—ç¬¦çš„å®Œæ•´æ ‡è¯†ï¼‰ã€‚\n1 2 3 const str = \u0026#34;abğŸ˜‚ba\u0026#34;; console.log(str.charCodeAt(2)); // 55357 console.log(str.codePointAt(2)); // 128514 fromCharCodeã€fromCodePoint fromCharCodeç”¨äºæ ¹æ®ç»™å®šçš„UTF-16ç å…ƒåˆ›å»ºå­—ç¬¦ï¼Œå¯ä»¥æ¥å—å¤šä¸ªæ•°å€¼ï¼Œç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚fromCodePointç”¨ç»™å®šç ç‚¹åˆ›å»ºå­—ç¬¦ï¼ŒåŒæ ·å¯æ¥å—å¤šä¸ªå€¼ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚\n1 2 3 4 5 6 7 // ä½¿ç”¨ fromCharCode() åˆ›å»ºå­—ç¬¦ const char1 = String.fromCharCode(65); // 65 æ˜¯å­—ç¬¦ \u0026#39;A\u0026#39; çš„UTF-16ç å…ƒ console.log(char1); // è¾“å‡ºï¼šA // ä½¿ç”¨ fromCodePoint() åˆ›å»ºå­—ç¬¦ const char2 = String.fromCodePoint(128514); // 128514 æ˜¯ç¬‘è„¸ç¬¦å·çš„ç ç‚¹ console.log(char2); // è¾“å‡ºï¼šğŸ˜‚ ä¸¤ä¸ªä¸€æ ·çš„å­—ç¬¦ä¸€å®šç›¸ç­‰å—?\nå¦‚æœè¿™ä¸¤ä¸ªå­—ç¬¦çœ‹ç€ä¸€æ ·ï¼Œä½†æ˜¯å¯¹åº”çš„å­—ç¬¦ç¼–ç ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆä¾¿ä¸ç›¸ç­‰ï¼Œä¾‹å¦‚:\n1 2 3 4 5 6 7 8 9 const char1 = \u0026#39;A\u0026#39;; // æ‹‰ä¸å­—æ¯å¤§å†™A const char2 = \u0026#39;Î‘\u0026#39;; // å¸Œè…Šå­—æ¯å¤§å†™Alpha // æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦æ˜¯å¦ç›¸ç­‰ console.log(char1 === char2); // è¾“å‡ºï¼šfalseï¼Œå°½ç®¡å¤–è§‚ç›¸ä¼¼ï¼Œä½†å­—ç¬¦ç¼–ç ä¸åŒ // è·å–å­—ç¬¦ç¼–ç  console.log(char1.charCodeAt(0)); // è¾“å‡ºï¼š65ï¼Œå­—ç¬¦Açš„Unicodeç¼–ç  console.log(char2.charCodeAt(0)); // è¾“å‡ºï¼š913ï¼Œå­—ç¬¦Î‘çš„Unicodeç¼–ç  concat concatç”¨äºæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä¸€æ¬¡æ€§æ‹¼æ¥å¤šä¸ªå­—ç¬¦ä¸²ï¼Œå½“ç„¶æˆ‘ä»¬æ›´å¸¸ä½¿ç”¨ + å·æ¥æ‹¼æ¥å­—ç¬¦ä¸²ã€‚\n1 2 3 let str=\u0026#34;Hello \u0026#34; console.log(str.concat(\u0026#34;World\u0026#34;,\u0026#34;!\u0026#34;)) //\u0026#34;Hello World!\u0026#34; console.log(str) //\u0026#34;Hello\u0026#34; æˆªå–å­å­—ç¬¦ä¸² è¿™ä¸‰ä¸ªæ–¹æ³•æœ‰ä¸€å®šç›¸ä¼¼ï¼Œä½†ä¹Ÿæœ‰é‡å¤§ä¸åŒï¼Œä¸”çœ‹ä¸‹æ–‡ã€‚\nå®ƒä»¬éƒ½ç”¨äºæå–å­å­—ç¬¦ä¸²ï¼Œéƒ½æ¥å—1æˆ–2ä¸ªå‚æ•°ï¼Œä¸”ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯èµ·å§‹ä½ç½®çš„ç´¢å¼•ï¼Œå¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºæˆªå–åˆ°å­—ç¬¦ä¸²æœ«å°¾ã€‚\nä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œsliceå’Œsubstringç¬¬äºŒä¸ªå‚æ•°æ˜¯ç»“æŸä½ç½®çš„ç´¢å¼•ï¼ˆæˆªå–éƒ¨åˆ†ä¸åŒ…æ‹¬è¯¥ç»“æŸä½ç½®ï¼‰ï¼Œè€Œsubstrç¬¬äºŒä¸ªå‚æ•°æ˜¯ä»èµ·å§‹ä½ç½®æˆªå–å­—ç¬¦ä¸²çš„å­—ç¬¦ä¸ªæ•°ã€‚\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œsubstringå®ƒä¼šå°†è¾ƒå°çš„æ•°å­—å½“æˆèµ·å§‹ä½ç½®ï¼Œå¯èƒ½ä¼šå‡ºç°ç¬¬ä¸€å‚æ•°å¤§äºç¬¬äºŒå‚æ•°çš„æƒ…å†µã€‚å…¶ä»–ä¸¤ä¸ªæ–¹æ³•å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°å°äºç¬¬äºŒä¸ªå‚æ•°ï¼Œå°±ä¼šè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚\nå¯¹äºè´Ÿæ•°å‚æ•°ï¼Œsliceä¼šå°†å®ƒä»¬éƒ½åŠ ä¸Šå­—ç¬¦ä¸²é•¿åº¦ï¼ˆå³ä»å³å¾€å·¦æ•°ï¼‰ï¼Œç›´åˆ°ä¸ºæ­£æ•°ï¼›substrä¼šå°†ç¬¬ä¸€ä¸ªè´Ÿå‚åŠ ä¸Šå­—ç¬¦ä¸²é•¿åº¦ï¼Œå°†ç¬¬äºŒä¸ªè´Ÿå‚å˜ä¸º0ï¼›substringå°†æ‰€æœ‰è´Ÿå‚è½¬ä¸º0ã€‚æ€»è€Œè¨€ä¹‹ï¼Œåªæœ‰sliceçš„è´Ÿå‚æ•°æ‰æœ‰ä½œç”¨ï¼Œsubstrå’ŒsubstringåŒ…å«è´Ÿå‚æ•°å°±ä¸€å®šä¼šè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 let str = \u0026#34;Hello world!\u0026#34; console.log(str.slice(0)) //Hello world! console.log(str.slice(0, 5)) //Hello console.log(str.substring(0)) //Hello world! console.log(str.substring(0, 5)) //Hello console.log(str.substr(0)) //Hello world! console.log(str.substr(0, 5)) //Hello console.log(str.slice(-5)) //orld! console.log(str.substring(-5)) //Hello world! console.log(str.substr(-5)) //orld! console.log(str.slice(0, -5)) //Hello w console.log(str.substring(0, -5)) //ç©ºå­—ç¬¦ä¸² console.log(str.substr(0, -5)) //ç©ºå­—ç¬¦ä¸² console.log(str.slice(-5, -2)) //orl console.log(str.substring(-5, -2)) //ç©ºå­—ç¬¦ä¸² console.log(str.substr(-5, -2)) //ç©ºå­—ç¬¦ä¸² console.log(str.slice(-2, -5)) //ç©ºå­—ç¬¦ä¸² console.log(str.substring(-2, -5)) //ç©ºå­—ç¬¦ä¸² console.log(str.substr(-2, -5)) //ç©ºå­—ç¬¦ä¸² console.log(str.slice(5, 0)) //ç©ºå­—ç¬¦ä¸² console.log(str.substring(5, 0)) //Hello console.log(str.substr(5, 0)) //ç©ºå­—ç¬¦ä¸² è·å–å­—ç¬¦çš„ä½ç½® å‰æ–‡å·²ç»ä»‹ç»äº†æ ¹æ®ä½ç½®è·å–å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®å­—ç¬¦ä¸²è·å–å®ƒçš„ä½ç½®â€”â€”indexOfå’ŒlastIndexOfï¼Œå®ƒä»¬åŒºåˆ«åœ¨äºindexOfæ˜¯ä»å‰å¾€åæ‰¾ï¼Œè€ŒlastIndexOfæ˜¯ä»åå¾€å‰æ‰¾ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›-1ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•å¯ä»¥æ¥å—ç¬¬äºŒå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢ä½ç½®ã€‚\nstartsWithã€endsWithã€includes startsWithã€endsWithã€includeséƒ½æ˜¯åˆ¤æ–­æ˜¯å¦åŒ…å«æŸå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œè¿”å›å¸ƒå°”å€¼ã€‚\nincludesæ£€æŸ¥æ•´ä¸ªå­—ç¬¦ä¸²ã€‚\nstartsWithå’ŒendsWithåˆ†åˆ«æ˜¯åŒ¹é…å¼€å¤´å’Œç»“å°¾æ˜¯å¦æœ‰ä¼ å…¥å­—ç¬¦ä¸²ã€‚\nstartsWithå’Œincludeséƒ½æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºèµ·å§‹æœç´¢ä½ç½®ã€‚\nå»é™¤å·¦è¾¹æˆ–å³è¾¹ç©ºæ ¼ trimã€trimLeftã€trimRight\ntrimæ–¹æ³•åˆ é™¤å­—ç¬¦ä¸²å‰åæ‰€æœ‰ç©ºæ ¼ã€‚\ntrimLeftã€trimRightåˆ†åˆ«åˆ é™¤å­—ç¬¦ä¸²å·¦è¾¹ç©ºæ ¼å’Œå­—ç¬¦ä¸²å³è¾¹ç©ºæ ¼ã€‚ä¸è¿‡è¿™ä¸¤ä¸ªæ–¹æ³•å¥½åƒåœ¨æŸä¸ªç‰ˆæœ¬ deprecated å•¦ã€‚\n1 2 3 4 let s = \u0026#34; abc \u0026#34;; console.log(\u0026#34;s.trim()=\u0026#34; + s.trim() + \u0026#34;|\u0026#34;); console.log(\u0026#34;s.trimLeft()=\u0026#34;+s.trimLeft()+\u0026#34;|\u0026#34;); console.log(\u0026#34;s.trimRight()=\u0026#34; + \u0026#34;|\u0026#34; + s.trimRight()); é‡å¤å­—ç¬¦ä¸² repeatæ–¹æ³•æ¥å—ä¸€ä¸ªæ•´æ•°ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²å¤åˆ¶çš„æ¬¡æ•°ï¼Œç„¶åè¿”å›å®ƒä»¬æ‹¼æ¥èµ·æ¥çš„å­—ç¬¦ä¸²ã€‚\n1 2 let s = \u0026#34;a\u0026#34;; console.log(s.repeat(3)); // \u0026#34;aaa\u0026#34; ä¸æ”¹å˜åŸå­—ç¬¦ä¸²ã€‚\nå¡«å……å­—ç¬¦ä¸² padStartå’ŒpadEndåˆ†åˆ«åœ¨å­—ç¬¦ä¸²å‰é¢å’Œå­—ç¬¦ä¸²åé¢å¡«å……æŒ‡å®šé•¿åº¦çš„æŒ‡å®šå­—ç¬¦ä¸²ã€‚\nç¬¬ä¸€å‚æ•°æ˜¯å¡«å……åå­—ç¬¦ä¸²è¦è¾¾åˆ°çš„é•¿åº¦ï¼Œç¬¬äºŒå‚æ•°æ˜¯è¦å¡«å……çš„å­—ç¬¦ä¸²ã€‚\n1 2 3 let str = \u0026#34;Hello\u0026#34; console.log(str.padStart(10, \u0026#34;World\u0026#34;)) //WorldHello console.log(str.padEnd(10, \u0026#34;World\u0026#34;)) //HelloWorld å¤§å°å†™è½¬æ¢ toLowerCaseç”¨äºå°†å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå°å†™ï¼Œå®ƒä¸å—åœ°åŸŸè®¾ç½®çš„å½±å“ï¼Œåªæ˜¯ç®€å•åœ°å°†å­—ç¬¦è½¬æ¢ä¸ºå°å†™å½¢å¼ã€‚toLocaleLowerCase()ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¼šå—åˆ°åœ°åŸŸè®¾ç½®çš„å½±å“ï¼Œå¯èƒ½ä¼šæ ¹æ®å½“å‰åŒºåŸŸè®¾ç½®å°†æŸäº›ç‰¹å®šå­—ç¬¦è½¬æ¢ä¸ºå°å†™å½¢å¼ã€‚\ntoUpperCaseã€toLocaleUpperCaseåŒä¸Šã€‚\næ¨¡å¼åŒ¹é…ç›¸å…³æ–¹æ³• ç¬¬ä¸€ä¸ªæ˜¯matchï¼Œå®ƒæœ¬è´¨ä¸Šå’ŒRegExpçš„execæ–¹æ³•ç›¸åŒï¼Œè¿”å›åŒ¹é…ç»“æœçš„æ•°ç»„å½¢å¼ã€‚å¦‚æœä½¿ç”¨å…¨å±€æ¨¡å¼gï¼Œå®ƒä¼šè¿”å›æ‰€æœ‰åŒ¹é…ç»“æœçš„æ•°ç»„ï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œåç»­å…ƒç´ æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„æ•è·ç»„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 let str = \u0026#34;To be what we are, and to become what we are capable of becoming, is the only end of life.\u0026#34; // ä½¿ç”¨matchåŒ¹é…æ‰€æœ‰åŒ…å«açš„å•è¯ let reg1 = /\\b[a-zA-Z]*a[a-zA-Z]*\\b/g console.log(str.match(reg1)) // [ \u0026#39;what\u0026#39;, \u0026#39;are\u0026#39;, \u0026#39;and\u0026#39;, \u0026#39;what\u0026#39;, \u0026#39;are\u0026#39;, \u0026#39;capable\u0026#39; ] // ä½¿ç”¨matchåŒ¹é…åŒ…å«açš„å•è¯ï¼Œä¸ä½¿ç”¨å…¨å±€åŒ¹é… let reg2 = /\\b[a-zA-Z]*a[a-zA-Z]*\\b/ console.log(str.match(reg2)) // [ // \u0026#39;what\u0026#39;, // index: 6, // input: \u0026#39;To be what we are, and to become what we are capable of becoming, is the only end of life.\u0026#39;, // groups: undefined // ] ç¬¬äºŒä¸ªæ˜¯searchï¼Œè¿”å›åŒ¹é…åˆ°çš„ç´¢å¼•ä½ç½®ï¼Œæ²¡æœ‰åŒ¹é…é¡¹å°±è¿”å›-1ã€‚\n1 2 3 4 5 let str = \u0026#34;To be what we are, and to become what we are capable of becoming, is the only end of life.\u0026#34; // ä½¿ç”¨searchåŒ¹é…we let reg = /we/g console.log(str.search(reg)) // 11 ç¬¬ä¸‰ä¸ªæ˜¯replaceï¼Œå®ƒä½¿ç”¨æ–°çš„å­—ç¬¦ä¸²æˆ–å‡½æ•°æ›¿æ¢æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å†…å®¹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 const originalString = \u0026#34;Hello, world! Hello, universe!\u0026#34;; // æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„å•ä¸ªåŒ¹é…é¡¹ const replacedString1 = originalString.replace(\u0026#34;world\u0026#34;, \u0026#34;friends\u0026#34;); console.log(replacedString1); // è¾“å‡ºï¼šHello, friends! Hello, universe! // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ›¿æ¢ï¼ˆåªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼‰ const replacedString2 = originalString.replace(/Hello/, \u0026#34;Hi\u0026#34;); console.log(replacedString2); // è¾“å‡ºï¼šHi, world! Hello, universe! // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ›¿æ¢ï¼ˆæ›¿æ¢æ‰€æœ‰åŒ¹é…é¡¹ï¼‰ const replacedString3 = originalString.replace(/Hello/g, \u0026#34;Hi\u0026#34;); console.log(replacedString3); // è¾“å‡ºï¼šHi, world! Hi, universe! // ä½¿ç”¨$1ã€$2ã€$3ã€$4ç­‰æ¥æ›¿æ¢åŒ¹é…é¡¹ const replacedString4 = originalString.replace(/(Hello), (world)! (Hello), (universe)!/g, \u0026#34;$3, $4! $1, $2!\u0026#34;); console.log(replacedString4); // è¾“å‡ºï¼šHello, universe! Hello, world! // ä½¿ç”¨å‡½æ•°æ¥æ›¿æ¢åŒ¹é…é¡¹ const replacedString5 = originalString.replace(/(Hello), (world)! (Hello), (universe)!/g, function (matched, p1, p2, p3, p4, offset, original) { console.log(matched) // åŒ¹é…åˆ°çš„å­—ç¬¦ä¸² console.log(offset) // åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åç§»é‡ console.log(original) // åŸå­—ç¬¦ä¸² return p3 + \u0026#34;, \u0026#34; + p4 + \u0026#34;! \u0026#34; + p1 + \u0026#34;, \u0026#34; + p2 + \u0026#34;!\u0026#34;; } ); console.log(replacedString5); // è¾“å‡ºï¼šHello, universe! Hello, world! æœ€åä¸€ä¸ªæ˜¯splitï¼Œå®ƒæ ¹æ®ä¼ å…¥çš„åˆ†éš”ç¬¦å°†å­—ç¬¦ä¸²åˆ’åˆ†ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œåˆ†éš”ç¬¦å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–RegExpå¯¹è±¡ã€‚\n1 2 3 4 5 6 7 8 9 const str=\u0026#34;apple,banana,orange\u0026#34; //ä»¥é€—å·ä½œä¸ºåˆ†éš”ç¬¦ console.log(str.split(\u0026#34;,\u0026#34;)) //[\u0026#34;apple\u0026#34;,\u0026#34;banana\u0026#34;,\u0026#34;orange\u0026#34;] //é™å®šæ•°ç»„å¤§å° console.log(str.split(\u0026#34;,\u0026#34;,2)) //[\u0026#34;apple\u0026#34;,\u0026#34;banana\u0026#34;] //ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ const text=\u0026#34;apple orange\\tbanana\u0026#34; const parts=text.split(/\\s+/) //åŒ¹é…è¿ç»­ç©ºæ ¼ console.log(parts) //[\u0026#34;apple\u0026#34;,\u0026#34;orange\u0026#34;,\u0026#34;banana\u0026#34;] è¿­ä»£æ–¹æ³• å­—ç¬¦ä¸²çš„åŸå‹ä¸Šæš´éœ²äº†@@iteratoræ–¹æ³•\n1 2 3 4 5 6 const str = \u0026#34;abc\u0026#34; const str2 = str[Symbol.iterator]() console.log(str2.next()) //{ value: \u0026#39;a\u0026#39;, done: false } console.log(str2.next()) //{ value: \u0026#39;b\u0026#39;, done: false } console.log(str2.next()) //{ value: \u0026#39;c\u0026#39;, done: false } console.log(str2.next()) //{ value: undefined, done: true } é€šè¿‡è¯¥è¿­ä»£å™¨ï¼Œæˆ‘ä»¬ä½¿ç”¨for-oféå†å­—ç¬¦ä¸²ï¼Œä»¥åŠä½¿ç”¨è§£æ„æ“ä½œç¬¦ç»“æ„å­—ç¬¦ä¸²ã€‚\nlocaleCompare localeCompareæ¯”è¾ƒå­—ç¬¦ä¸²ä¸å­—ç¬¦ä¸²å‚æ•°åœ¨å­—æ¯è¡¨çš„é¡ºåºå‰åï¼Œå¦‚æœå­—ç¬¦ä¸²ä½äºå­—ç¬¦ä¸²å‚æ•°å‰ï¼Œåˆ™è¿”å›è´Ÿå€¼ï¼›å¦‚æœç›¸ç­‰ï¼Œåˆ™è¿”å›0ï¼›å¦‚æœå­—ç¬¦ä¸²ä½äºå­—ç¬¦ä¸²å‚æ•°åï¼Œåˆ™è¿”å›æ­£å€¼ã€‚\n","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/javascript%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95/","title":"ã€JavaScriptã€‘å­—ç¬¦ä¸²æ–¹æ³•"},{"content":"æ··å…¥ï¼ˆMixinsï¼‰æ˜¯ä¸€ç§åœ¨Vueç»„ä»¶ä¸­é‡ç”¨ä»£ç çš„æ–¹å¼ã€‚å®ƒå…è®¸ä½ å®šä¹‰ä¸€äº›å¯å¤ç”¨çš„é€‰é¡¹å¯¹è±¡ï¼Œç„¶åå°†è¿™äº›é€‰é¡¹åˆå¹¶åˆ°ä¸åŒçš„ç»„ä»¶ä¸­ã€‚æ··å…¥å¯ä»¥ç”¨äºåœ¨å¤šä¸ªç»„ä»¶ä¹‹é—´å…±äº«é€»è¾‘ã€æ–¹æ³•ã€ç”Ÿå‘½å‘¨æœŸé’©å­ç­‰ã€‚\nç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue mixin demo\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;my-component\u0026gt;\u0026lt;/my-component\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; // å®šä¹‰ä¸€ä¸ªæ··å…¥å¯¹è±¡ const myMixin = { data() { return { message: \u0026#39;Hello from mixin!\u0026#39; } }, methods: { greet() { console.log(this.message) } } } Vue.component(\u0026#39;my-component\u0026#39;, { mixins: [myMixin], template: \u0026#39;\u0026lt;div\u0026gt;{{message}}\u0026lt;/div\u0026gt;\u0026#39;, created() { this.greet() } }) var vm = new Vue({ el: \u0026#39;#app\u0026#39;, }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; é€‰é¡¹åˆå¹¶\nå½“ç»„ä»¶å’Œæ··å…¥å¯¹è±¡çš„é€‰é¡¹åŒåæ—¶ï¼Œæ•°æ®å¯¹è±¡dataä¸­åŒåé€‰é¡¹ä»¥ç»„ä»¶çš„ä¼˜å…ˆï¼Œè¿›è¡Œé€’å½’åˆå¹¶ï¼›åŒåé’©å­å‡½æ•°åˆ™ä¼šè¢«åˆå¹¶ä¸ºæ•°ç»„ï¼Œå®ƒä»¬éƒ½ä¼šæ‰§è¡Œï¼Œä¸”æ··å…¥å¯¹è±¡çš„é’©å­å‡½æ•°å…ˆæ‰§è¡Œã€‚\nå¯¹äºmethodsã€componentsã€directivesè¿™äº›å€¼ä¸ºå¯¹è±¡çš„é€‰é¡¹ï¼ŒåŒåé”®çš„åˆå¹¶ä¾‹å­å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue mixin demo\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; const mixin = { methods: { greet() { console.log(\u0026#39;Hello from Mixin!\u0026#39;); }, sayHello() { console.log(\u0026#39;Mixin says hello!\u0026#39;); }, } }; var Component = Vue.extend({ methods: { greet() { console.log(\u0026#39;Hello from extend!\u0026#39;); }, sayHello() { console.log(\u0026#39;extend says hello!\u0026#39;); }, sayGoodbye() { console.log(\u0026#39;extend says goodbye!\u0026#39;); } } }); new Component({ mixins: [mixin], methods: { greet() { console.log(\u0026#39;Hello from component!\u0026#39;); }, }, created() { this.greet(); // Output: Hello from component! this.sayHello(); // Output: Mixin says hello! this.sayGoodbye(); // Output: extend says goodbye! } }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ç”±ä¸Šé¢å¾—å‡ºé€‰é¡¹åˆå¹¶ä¼˜å…ˆçº§ï¼šnew Component \u0026gt; mixins \u0026gt; Vue.extendã€‚\nå…¨å±€æ··å…¥\nå…¨å±€æ··å…¥ä¼šå½±å“æ¯ä¸€ä¸ªVueå®ä¾‹ã€‚\nä½¿ç”¨Vue.mixin({})æ–¹æ³•åˆ›å»ºå…¨å±€æ··å…¥ã€‚\nå°½é‡é¿å…ä½¿ç”¨å…¨å±€æ··å…¥ï¼Œè¿™æ ·ä¼šå¯¼è‡´é€»è¾‘åˆ†æ•£ã€ä»£ç éš¾ä»¥é˜…è¯»ã€ç»´æŠ¤å›°éš¾ã€‚\nâ­è‡ªå®šä¹‰é€‰é¡¹åˆå¹¶ç­–ç•¥\nä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 const customMergeStrategies=Vue.config.optionMergeStrategies customMergeStrategies.customOption=function(parentVal,childVal){ if(!childVal) return parentVal if(!parentVal) return childVal //åˆå¹¶é€»è¾‘ï¼Œå¯æ ¹æ®éœ€è¦ä¿®æ”¹ return parentVal.concat(childVal) } å…³é”®æ˜¯äº†è§£Vue.config.optionMergeStrategiesçš„ä½œç”¨ï¼Œå®ƒç”¨äºå¸®åŠ©æˆ‘ä»¬è‡ªå®šä¹‰æŸä¸ªé€‰é¡¹çš„åˆå¹¶ç­–ç•¥å‡½æ•°ï¼Œè¯¥å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯çˆ¶ç»„ä»¶çš„è¯¥é€‰é¡¹å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­ç»„ä»¶çš„è¯¥é€‰é¡¹å€¼ã€‚\n","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2mixin/","title":"ã€Vue 2ã€‘Mixin"},{"content":"1 å‰è¨€ å­¦ä¹ Vueçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šæ³¨æ„åˆ°ä¾èµ–è¿½è¸ªè¿™ä¸ªè¯ï¼Œä»€ä¹ˆæ˜¯ä¾èµ–ï¼Ÿåˆè¯¥å¦‚ä½•è¿½è¸ªå‘¢ï¼Ÿ\né¦–å…ˆï¼Œæˆ‘ä»¬çŸ¥é“Vueçš„å“åº”å¼ç³»ç»Ÿæ˜¯å…¶ç‹¬ç‰¹çš„ç‰¹æ€§ï¼Œç»å…¸çš„ä¸€å¥è¯ï¼šè§†å›¾éšç€çŠ¶æ€å˜åŒ–è€Œå˜åŒ–ã€‚è€Œä¾èµ–è¿½è¸ªä¸å…¶å·¥ä½œåŸç†è”ç³»ç´§å¯†ã€‚\nä»çŠ¶æ€ç”ŸæˆDOMï¼Œå†æ˜¾ç¤ºåˆ°ç”¨æˆ·ç•Œé¢çš„è¿‡ç¨‹ç§°ä¸ºæ¸²æŸ“ã€‚å“åº”å¼ç³»ç»Ÿåˆ™è´Ÿè´£é¡µé¢çš„é‡æ¸²æŸ“ã€‚æ‰€ä»¥ï¼Œå¤§è‡´é‡æ¸²æŸ“è¿‡ç¨‹åº”è¯¥æ˜¯çŠ¶æ€å˜åŒ–-\u0026gt;é‡æ¸²æŸ“ã€‚è¦åŠæ—¶ä¾¦æµ‹åˆ°æ•°æ®çš„å˜åŒ–ï¼Œå°±è¦ä¾é Vueçš„å˜åŒ–ä¾¦æµ‹ç³»ç»Ÿï¼Œå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„ä¾èµ–è¿½è¸ªã€‚\nè¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ä»…è®¨è®ºObjectçš„å˜åŒ–ä¾¦æµ‹ã€‚å…³äºArrayçš„å˜åŒ–ä¾¦æµ‹éƒ¨åˆ†æˆ‘ä»¬åœ¨å¦ä¸€ç¯‡æ–‡ç« å†è°ˆã€‚\nå˜åŒ–ä¾¦æµ‹ï¼Œä¾¦æµ‹çš„æ˜¯è¯¥å˜åŒ–éš¶å±äºå“ªäº›DOMå…ƒç´ ã€‚\nåœ¨Vue 2.0ä¹‹å‰ï¼Œä¸€ä¸ªä¾çŠ¶æ€ä¼šç»‘å®šåœ¨å¤šä¸ªä¾èµ–ï¼Œä¸€ä¸ªä¾èµ–å¯¹åº”ä¸€ä¸ªDOMèŠ‚ç‚¹ï¼Œæ‰€ä»¥å½“è¯¥çŠ¶æ€æ”¹å˜æ—¶å°±é€šçŸ¥å…¶æ‰€æœ‰ä¾èµ–è¿›è¡Œæ›´æ–°ã€‚\nVue 2.0å¼•å…¥äº†è™šæ‹ŸDOMçš„æ¦‚å¿µï¼Œè™šæ‹ŸDOMä½¿å¾—ä¸€ä¸ªä¾èµ–ä¸å†æ˜¯å…·ä½“çš„DOMèŠ‚ç‚¹ï¼Œè€Œæ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå¦‚æ­¤ï¼ŒçŠ¶æ€å˜åŒ–æ—¶ï¼Œç»„ä»¶å†…éƒ¨å°†è™šæ‹ŸDOMä¸çœŸå®DOMæ¯”å¯¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦å¯¹æ¯ä¸ªçŠ¶æ€ç»‘å®šçš„DOMå…ƒç´ è¿›è¡Œè¿½è¸ªï¼Œå‡å°‘äº†å¤§é‡ä¾èµ–ï¼Œé™ä½äº†è¿½è¸ªä¾èµ–æ‰€æ¶ˆè€—çš„å†…å­˜è´Ÿæ‹…ã€‚\n2 å…·ä½“å®ç° æ¥ä¸‹æ¥ï¼Œå°±è°ˆè°ˆå˜åŒ–ä¾¦æµ‹å…·ä½“çš„JavaScriptå®ç°ã€‚\nJasvaScriptä¸­ï¼ŒObject.definePropertyå’ŒES6çš„Proxyéƒ½å¯ä»¥ä¾¦æµ‹æ•°æ®çš„å˜åŒ–ã€‚Vue 2ä½¿ç”¨äº†Object.definePropertyï¼ŒVue3åˆ™ä½¿ç”¨äº†æ›´ä¸ºå¼ºå¤§çš„Proxyã€‚\næœ¬æ–‡ä»…è®¨è®ºVue2ã€‚\n2.1 defineReactiveå‡½æ•° ä¸€ä¸ªç®€å•çš„å“åº”å¼ç³»ç»Ÿå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 // dataä¸ºå±æ€§å¯¹è±¡ï¼Œkeyä¸ºå±æ€§åï¼Œvalä¸ºå±æ€§åˆå§‹å€¼ function defineReactive(data,key,val){ //depï¼šä¾èµ–æ”¶é›†æ•°ç»„ï¼Œç”¨äºå­˜å‚¨å±æ€§çš„è®¢é˜…è€…ï¼Œä¹Ÿå°±æ˜¯è§‚å¯Ÿè€… //å½“å±æ€§è¢«è®¿é—®æ—¶ï¼Œè®¢é˜…è€…è¢«æ·»åŠ åˆ°depï¼Œä»¥ä¾¿åœ¨å±æ€§æ›´æ–°æ—¶è¿›è¡Œé€šçŸ¥ let dep=[]; Object.defineProperty(data,key,{ //è¡¨ç¤ºè¯¥å±æ€§å¯è¢«æšä¸¾ enumerable:true, //è¡¨ç¤ºè¯¥å±æ€§å¯è¢«ä¿®æ”¹æˆ–åˆ é™¤ configurable:true, //getteræ–¹æ³•ï¼Œå±æ€§è¢«è®¿é—®æ—¶ï¼Œæ‰§è¡Œè¯¥å‡½æ•° get:function(){ //å°†å½“å‰è®¢é˜…è€…æ·»åŠ åˆ°depæ•°ç»„ dep.push(window.target) //è¿”å›å½“å‰å€¼ return val }, //setterå‡½æ•°ï¼Œå±æ€§è¢«ä¿®æ”¹æ—¶ï¼Œæ‰§è¡Œè¯¥å‡½æ•° set:function(newVal){ //æ–°å€¼ä¸æ—§å€¼ç›¸ç­‰å°±ä¸æ›´æ–° if(val===newVal){ return } //å¦åˆ™éå†depæ•°ç»„ï¼Œæ›´æ–°æ‰€æœ‰ä¾èµ–çš„å€¼ for(let i=0;i\u0026lt;dep.length;i++){ dep[i](newVal,val) } //æ›´æ–°å€¼ val=newVal } }) } ä¸Šè¿°ä»£ç å®šä¹‰äº†ä¸€ä¸ª defineReactive å‡½æ•°ï¼Œå®ƒå°†å±æ€§å¯¹è±¡ data ä¸­çš„å±æ€§ key è½¬åŒ–ä¸ºå“åº”å¼å±æ€§ã€‚æ¯ä¸ªå“åº”å¼å±æ€§éƒ½ä¸ä¸€ä¸ªåä¸º dep çš„ä¾èµ–ç®¡ç†å™¨ç›¸å…³è”ã€‚å½“å±æ€§è¢«è®¿é—®æ—¶ï¼Œè®¢é˜…è€…ï¼ˆè§‚å¯Ÿè€…ï¼‰ä¼šè¢«æ·»åŠ åˆ° dep æ•°ç»„ä¸­ï¼Œä»¥ä¾¿åœ¨å±æ€§æ›´æ–°æ—¶é€šçŸ¥å®ƒä»¬ã€‚\n2.2 Depç±» æˆ‘ä»¬å¯ä»¥å°†ä¾èµ–æ”¶é›†çš„ä»£ç å°è£…æˆä¸€ä¸ªDepç±»ï¼Œé™ä½ä»£ç è€¦åˆåº¦ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 export default class Dep{ constructor(){ this.subs=[] } //æ·»åŠ ä¸€ä¸ªè®¢é˜…è€…ï¼ˆè§‚å¯Ÿè€…ï¼‰åˆ°ä¾èµ–åˆ—è¡¨ addSub(sub){ this.subs.push(sub) } //ä»ä¾èµ–åˆ—è¡¨ä¸­ç§»é™¤ä¸€ä¸ªè®¢é˜…è€… removeSub(sub){ remove(this.subs,sub) } //åœ¨å±æ€§è¢«è®¿é—®æ—¶ï¼Œå°†å½“å‰è®¢é˜…è€…æ·»åŠ åˆ°ä¾èµ–åˆ—è¡¨ä¸­ depend(){ if(window.target){ this.addSub(window.target) } } //åœ¨å±æ€§æ›´æ–°æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰è®¢é˜…è€…è¿›è¡Œæ›´æ–°æ“ä½œ notify(){ const subs=this.subs.slice(); for(let i=0;i\u0026lt;subs.length;i++){ subs[i].update(); } } } function remove(arr,item){ if(arr.length){ const index=arr.indexOf(item) if(index\u0026gt;-1){ return arr.splice(index,1) } } } å†ä¿®æ”¹defineReactiveï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 function defineReactive(data,key,val){ let dep=new Dep() Object.defineProperty(data,key,{ enumerable:true, configurable:true, get:function(){ dep.depend() return val }, set:function(newVal){ if(val===newVal){ return } val=newVal dep.notify() } }) } 2.3 Watcherç±» ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ”¶é›†çš„æ˜¯window.targetï¼Œå®é™…ä¸Šå®ƒæ—¢å¯ä»¥æ˜¯ç”¨æˆ·æ¨¡æ¿ä¸­çš„è¡¨è¾¾å¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªwatchã€computedï¼Œäºæ˜¯VueæŠ½è±¡å‡ºä¸€ä¸ªWatcherç±»æ¥ç®¡ç†è¿™å¤šç§æƒ…å†µï¼Œæˆ‘ä»¬åªéœ€æ”¶é›†Watcherå®ä¾‹å³å¯ã€‚\nWatcheræ˜¯å¯¹ä¾èµ–å…³ç³»çš„å°è£…ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å»ºç«‹ä¾èµ–å…³ç³»ï¼Œå½“æ•°æ®å˜åŒ–æ—¶é€šçŸ¥ç›¸å…³çš„ Watcher æ‰§è¡Œæ›´æ–°æ“ä½œã€‚\nå› æ­¤ï¼Œä¾èµ–å˜æˆäº†æ•°æ®å±æ€§ä¸Watcherçš„å…³ç³»ã€‚ä¸€ä¸ªä¾èµ–åˆ—è¡¨é‡Œæ˜¯åŒä¸€ä¸ªå±æ€§çš„ä¾èµ–ï¼ŒåŒ…å«äº†ä¾èµ–äºè¯¥å±æ€§çš„Watcherã€‚\nä½¿ç”¨vm.$watchæ–¹æ³•å»ºç«‹Watcherï¼š\n1 2 3 4 5 //keypath //a.b.cæ˜¯å±æ€§è·¯å¾„ï¼Œä½äºdataå±æ€§ vm.$watch(\u0026#39;a.b.c\u0026#39;,function(newVal,oldVal){ //... }) ä¸‹é¢æ˜¯ç®€åŒ–ç‰ˆçš„Watcherå®ç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 export default class Watcher { // vmï¼šVue å®ä¾‹ï¼ŒexpOrFnï¼šè¡¨è¾¾å¼æˆ–å‡½æ•°ï¼Œcallbackï¼šå›è°ƒå‡½æ•° constructor(vm, expOrFn, callback) { this.vm = vm; // å±æ€§è·å–å‡½æ•° this.getter = parsePath(expOrFn); this.callback = callback; this.value = this.get(); } // è·å–å±æ€§å€¼ get() { // å°†å½“å‰çš„ Watcher å®ä¾‹è®¾ç½®ä¸ºå…¨å±€å˜é‡ window.target = this; // é€šè¿‡ getter è·å– Vue å®ä¾‹çš„å±æ€§å€¼ï¼ŒåŒæ—¶è§¦å‘ä¾èµ–æ”¶é›† let value = this.getter.call(this.vm, this.vm); // æ¸…é™¤å…¨å±€å˜é‡ window.target = undefined; return value; } update() { // è·å–æ—§å€¼ const oldValue = this.value; // é‡æ–°è·å–å€¼ this.value = this.get(); // è°ƒç”¨å›è°ƒå‡½æ•°ï¼Œä¼ é€’æ–°æ—§å€¼ä½œä¸ºå‚æ•° this.callback.call(this.vm, this.value, oldValue); } } æˆ‘ä»¬é€šè¿‡Watcherè¯»å–æ•°æ®æ—¶ï¼Œä¼šè§¦å‘getteræ–¹æ³•å°†Watcherå®ä¾‹æ·»åŠ åˆ°ä¾èµ–ä¸­ã€‚å½“æ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼Œä¼šè§¦å‘setterï¼Œä»è€Œå‘ä¾èµ–ç®¡ç†å™¨Depä¸­çš„ä¾èµ–ï¼ˆWatcherï¼‰åˆ—è¡¨å‘é€æ›´æ–°é€šçŸ¥ã€‚\nä¸‹é¢æ˜¯parsePathçš„ç®€å•ä»£ç å®ç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 //æ£€æŸ¥è·¯å¾„å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«é™¤äº†å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€ç‚¹åŠç¾å…ƒç¬¦å·ä¹‹å¤–çš„ç‰¹æ®Šå­—ç¬¦ const bailRE=/[^\\w.$]/ export function parsePath(path){ if(bailRE.test(path)){ return } const segments=path.splits(\u0026#39;.\u0026#39;) return function(obj){ for(let i=0;i\u0026lt;segments.length;i++){ if(!obj) return obj=obj[segments[i]] } return obj } } parsePath å‡½æ•°ç”¨äºè§£æå±æ€§è·¯å¾„å­—ç¬¦ä¸²ï¼Œç¡®ä¿å®ƒä»…åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€ç‚¹å’Œç¾å…ƒç¬¦å·ã€‚å®ƒè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¯ä»¥æ ¹æ®å±æ€§è·¯å¾„è®¿é—®å¯¹è±¡çš„å±æ€§ã€‚\n2.4 Observerç±» å‰é¢çš„ä»£ç åªèƒ½ä¾¦æµ‹ä¸€ä¸ªå±æ€§ï¼Œä¸”ä¸åŒ…æ‹¬å…¶å­å±æ€§ã€‚ä¸ºäº†èƒ½å¤Ÿä¾¦æµ‹ data ä¸­æ‰€æœ‰å±æ€§åŠå…¶å­å±æ€§çš„å˜åŒ–ï¼Œéœ€è¦ä½¿ç”¨ Observer ç±»æ¥éå†å¹¶å°†å®ƒä»¬éƒ½è½¬åŒ–ä¸º getter/setter çš„å½¢å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 export class Observer { constructor(value) { this.value = value; // éæ•°ç»„ if (!Array.isArray(value)) { this.walk(value); } } walk(obj) { const keys = Object.keys(obj); for (let i = 0; i \u0026lt; keys.length; i++) { // å¯¹æ¯ä¸ªå±æ€§è°ƒç”¨defineReactive defineReactive(obj, keys[i], obj[keys[i]]); } } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // å®šä¹‰å“åº”å¼æ•°æ® function defineReactive(data, key, val) { // æ˜¯å¯¹è±¡ç±»å‹ï¼Œå°±ä½¿ç”¨Observeréå†å…¶å±æ€§ if (typeof val === \u0026#34;object\u0026#34;) { new Observer(val); } // ä¾èµ–ç®¡ç†å™¨ let dep = new Dep(); Object.defineProperty(data, key, { enumerable: true, configurable: true, get: function () { // ä¾èµ–æ”¶é›†ï¼Œå³æ·»åŠ Watcher dep.depend(); return val; }, set: function (newVal) { if (val === newVal) { return; } val = newVal; // é€šçŸ¥ä¾èµ–æ›´æ–° dep.notify(); }, }); } å½“Vueå®ä¾‹åŒ–æ—¶ï¼ŒObserverä¼šéå†æ•°æ®å¯¹è±¡çš„å±æ€§ã€‚\nä¾èµ–è¿½è¸ªçš„è¿‡ç¨‹åŸºæœ¬ä¸Šå°±è¿™æ ·ï¼Œä½†è¦æ³¨æ„æœ‰ä¸€ä¸ªç¼ºé™·ï¼šæ— æ³•è¿½è¸ªæ–°å¢å±æ€§å’Œåˆ é™¤å±æ€§ï¼Œåªèƒ½è¿½è¸ªå±æ€§æ˜¯å¦è¢«ä¿®æ”¹ã€‚äºæ˜¯Vue.jsæä¾›äº†vm.$setå’Œvm.$deleteæ¥è§£å†³è¯¥é—®é¢˜ã€‚\n3 æ€»ç»“ æ•°æ®å±æ€§ï¼ˆData Propertiesï¼‰çš„ä¾èµ–è¿½è¸ªæ˜¯ Vue å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒä¹‹ä¸€ï¼Œå®ƒä½¿å¾—æ•°æ®ä¸è§†å›¾èƒ½å¤Ÿè‡ªåŠ¨å…³è”ï¼Œä»è€Œå®ç°äº†è§†å›¾éšç€æ•°æ®å˜åŒ–è€Œå˜åŒ–çš„ç‰¹æ€§ã€‚åœ¨ Vue ä¸­ï¼Œä¾èµ–è¿½è¸ªä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å…³é”®ç‚¹ï¼š\nDep ç±»ï¼šç”¨äºç®¡ç†ä¾èµ–ï¼ˆè§‚å¯Ÿè€…ï¼‰ï¼ŒåŒ…æ‹¬æ·»åŠ ã€ç§»é™¤ä¾èµ–å’Œé€šçŸ¥ä¾èµ–æ›´æ–°çš„åŠŸèƒ½ã€‚ Watcher ç±»ï¼šç”¨äºå»ºç«‹ä¾èµ–å…³ç³»ï¼Œå½“æ•°æ®å˜åŒ–æ—¶é€šçŸ¥ç›¸å…³çš„ Watcher æ‰§è¡Œæ›´æ–°æ“ä½œã€‚ defineReactive å‡½æ•°ï¼šå°†æ•°æ®å±æ€§è½¬åŒ–ä¸ºå“åº”å¼å±æ€§ï¼Œå¹¶ç®¡ç†ä¸ä¹‹ç›¸å…³çš„ä¾èµ–ã€‚ Observer ç±»ï¼šéå†å¯¹è±¡çš„å±æ€§ï¼Œå°†å®ƒä»¬éƒ½è½¬åŒ–ä¸º getter/setter çš„å½¢å¼ï¼Œä»¥ä¾¿è¿›è¡Œä¾èµ–è¿½è¸ªã€‚ æ•´ä¸ªä¾èµ–è¿½è¸ªçš„è¿‡ç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š\næ•°æ®å±æ€§è¢«è§‚å¯Ÿè€…éå†ï¼Œæ¯ä¸ªå±æ€§éƒ½è¢«è½¬åŒ–ä¸ºå“åº”å¼å±æ€§ã€‚ æ¯ä¸ªå“åº”å¼å±æ€§ä¸ä¸€ä¸ªä¾èµ–ç®¡ç†å™¨å…³è”ï¼Œç”¨äºç®¡ç†ä¾èµ–çš„è®¢é˜…è€…ã€‚ å½“æ•°æ®å±æ€§è¢«è®¿é—®æ—¶ï¼Œè®¢é˜…è€…ï¼ˆè§‚å¯Ÿè€…ï¼‰è¢«æ·»åŠ åˆ°ä¾èµ–åˆ—è¡¨ä¸­ï¼Œä»¥ä¾¿åœ¨å±æ€§æ›´æ–°æ—¶é€šçŸ¥å®ƒä»¬ã€‚ å½“æ•°æ®å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¾èµ–ç®¡ç†å™¨ä¼šé€šçŸ¥æ‰€æœ‰è®¢é˜…è€…æ‰§è¡Œæ›´æ–°æ“ä½œï¼Œç¡®ä¿è§†å›¾ä¸æ•°æ®ä¿æŒåŒæ­¥ã€‚ ","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2object%E7%9A%84%E4%BE%9D%E8%B5%96%E8%BF%BD%E8%B8%AA%E5%8E%9F%E7%90%86/","title":"ã€Vue 2ã€‘Objectçš„ä¾èµ–è¿½è¸ªåŸç†"},{"content":"å¯ä»¥å…ˆé˜…è¯»ç»„ä»¶åŸºç¡€-ç®€å•äº†è§£é€šè¿‡æ’æ§½åˆ†å‘å†…å®¹ã€‚\nä¸€ã€æ’æ§½å®šä¹‰ æ’æ§½å°†å­ç»„ä»¶æ ‡ç­¾é—´çš„å†…å®¹åˆ†å‘åˆ°å­ç»„ä»¶æ¨¡æ¿çš„\u0026lt;slot\u0026gt;æ ‡ç­¾ä½ç½®ã€‚\nå¦‚æœæ²¡æœ‰\u0026lt;slot\u0026gt;æ ‡ç­¾ï¼Œé‚£ä¹ˆè¯¥å†…å®¹å°†è¢«ä¸¢å¼ƒã€‚\näºŒã€ç¼–è¯‘ä½œç”¨åŸŸ å†…å®¹åœ¨å“ªä¸ªä½œç”¨åŸŸç¼–è¯‘ï¼Œå°±å¯ä»¥è®¿é—®å“ªä¸ªä½œç”¨åŸŸçš„æ•°æ®ã€‚\n1.çˆ¶çº§æ¨¡æ¿çš„ä½œç”¨åŸŸ\nåœ¨çˆ¶ç»„ä»¶çš„æ¨¡æ¿ä¸­å®šä¹‰çš„å˜é‡ï¼Œå¯ä»¥åœ¨æ•´ä¸ªçˆ¶ç»„ä»¶çš„æ¨¡æ¿ä¸­è®¿é—®ï¼ŒåŒ…æ‹¬å­ç»„ä»¶ä¸­çš„æ’æ§½å†…å®¹ã€‚\nä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰ä¸€ä¸ªå˜é‡urlï¼Œåœ¨å­ç»„ä»¶æ’æ§½å†…å®¹ä¸­è®¿é—®ï¼š\n1 2 3 4 5 6 7 \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;navigation-link url=\u0026#34;./index\u0026#34;\u0026gt; This URL is {{url}} \u0026lt;/navigation-link\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; 2.å­çº§æ¨¡æ¿çš„ä½œç”¨åŸŸ\nåœ¨å­ç»„ä»¶ä¸­å®šä¹‰çš„æ•°æ®å’Œå˜é‡ï¼Œåªèƒ½åœ¨å­ç»„ä»¶ä¸­è®¿é—®ï¼Œè€Œä¸èƒ½åœ¨çˆ¶ç»„ä»¶ä¸­è®¿é—®ã€‚\nä¸‰ã€åå¤‡å†…å®¹ æ’æ§½çš„åå¤‡å†…å®¹å³æ²¡æœ‰æä¾›å†…å®¹æ—¶çš„é»˜è®¤å†…å®¹ã€‚\nå®šä¹‰æ–¹å¼å¾ˆç®€å•ï¼š\n1 \u0026lt;slot\u0026gt;Slotçš„é»˜è®¤å†…å®¹\u0026lt;/slot\u0026gt; å››ã€å…·åæ’æ§½ é¡¾åæ€ä¹‰ï¼šå…·æœ‰åå­—çš„æ’æ§½ã€‚\nä½ å¯ä»¥ä¸ºæ’æ§½æŒ‡å®šåç§°nameï¼Œä»¥ä¾¿å°†å†…å®¹åˆ†å‘åˆ°ç‰¹å®šçš„æ’æ§½ä¸­ã€‚\næ¥ç€ï¼Œé€šè¿‡åœ¨templateå…ƒç´ ä¸Šä½¿ç”¨v-slot:æ’æ§½åå‚æ•°æŒ‡ä»¤ä½¿ç”¨å…·åæ’æ§½ï¼š\nå®Œæ•´ç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue 2 å…·åæ’æ§½ Demo\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;my-layout\u0026gt; \u0026lt;p\u0026gt;ä¸»è¦å†…å®¹çš„ä¸€ä¸ªæ®µè½ã€‚\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;å¦ä¸€ä¸ªä¸»è¦æ®µè½ã€‚\u0026lt;/p\u0026gt; \u0026lt;template v-slot:header\u0026gt; \u0026lt;h1\u0026gt;è¿™é‡Œå¯èƒ½æ˜¯ä¸€ä¸ªé¡µé¢æ ‡é¢˜\u0026lt;/h1\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;template v-slot:footer\u0026gt; \u0026lt;p\u0026gt;è¿™é‡Œæ˜¯ä¸€äº›è”ç³»ä¿¡æ¯\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;/my-layout\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; Vue.component(\u0026#39;my-layout\u0026#39;,{ template:` \u0026lt;div\u0026gt; \u0026lt;header\u0026gt; \u0026lt;slot name=\u0026#34;header\u0026#34;\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/header\u0026gt; \u0026lt;main\u0026gt; \u0026lt;!--é»˜è®¤æ’æ§½ï¼Œéšå«nameä¸º`default`--\u0026gt; \u0026lt;slot\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/main\u0026gt; \u0026lt;footer\u0026gt; \u0026lt;slot name=\u0026#34;footer\u0026#34;\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/footer\u0026gt; \u0026lt;/div\u0026gt; ` }) var vm = new Vue({ el: \u0026#39;#app\u0026#39;, }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; è™½ç„¶æˆ‘ä»¬æ•…æ„å°†é»˜è®¤æ’æ§½çš„å†…å®¹æ”¾åœ¨äº†åä¸ºheaderçš„ä»£ç å‰é¢ï¼Œä½†æ˜¯ç»“æœä¾ç„¶æŒ‰ç…§æ’æ§½åŸæœ¬çš„é¡ºåºæ’åˆ—ã€‚\nä¸€ä¸ªç»„ä»¶ä¸­é»˜è®¤æ’æ§½åªèƒ½æœ‰ä¸€ä¸ªã€‚\nåŠ¨æ€æ’æ§½å\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŠ¨æ€å‚æ•°ç»‘å®šæ’æ§½åã€‚\n1 \u0026lt;template v-slot:[dynamicSlotName]\u0026gt;\u0026lt;/template\u0026gt; å…·åæ’æ§½çš„ç¼©å†™\nv-slotæŒ‡ä»¤ä¹Ÿæœ‰ç¼©å†™ï¼Œå³ä½¿ç”¨#æ›¿ä»£v-slot:ï¼Œè¿™æ ·åšæˆ‘ä»¬å°±å¿…é¡»æ˜ç¡®ç»™å‡ºå…¶æ’æ§½åç§°ã€‚\näº”ã€ä½œç”¨åŸŸæ’æ§½ ä½œç”¨åŸŸæ’æ§½è¿™ä¸ªæ¦‚å¿µæ˜¯æŒ‡è®©æ’æ§½å†…å®¹èƒ½å¤Ÿè®¿é—®å­ç»„ä»¶ä¸­æ‰æœ‰çš„æ•°æ®ã€‚\næˆ‘ä»¬åªéœ€ç»™\u0026lt;slot\u0026gt;ç»‘å®špropï¼Œç„¶åä½¿ç”¨v-slotçš„å€¼è®¿é—®è¯¥propã€‚v-slotçš„å€¼å®é™…ä¸Šæ˜¯æ‰€æœ‰ç»‘å®šçš„propçš„é›†åˆã€‚\nä¸Šä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue 2 ä½œç”¨åŸŸæ’æ§½ Demo\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;my-component\u0026gt; \u0026lt;template v-slot=\u0026#34;slotProps\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{slotProps.text}}\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;/my-component\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; Vue.component(\u0026#39;my-component\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;slot text=\u0026#34;hello\u0026#34;\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/div\u0026gt; ` }) var vm = new Vue({ el: \u0026#39;#app\u0026#39;, }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æ³¨æ„ï¼Œä¸Šé¢ä¾‹å­ä¸­æˆ‘ä»¬v-slotæŒ‡ä»¤æ²¡æœ‰å¸¦å‚æ•°ï¼Œå®é™…ä¸Šå®ƒé»˜è®¤å¸¦äº†ä¸ªdefaultå‚æ•°ï¼Œå¦‚æœå­˜åœ¨åˆ«çš„å…·åæ’æ§½ï¼Œé‚£ä¹ˆæˆ‘å°±å¿…é¡»ä¸ºv-slotæŒ‡ä»¤å¸¦ä¸Šå‚æ•°ã€‚\né€šè¿‡ä½œç”¨åŸŸæ’æ§½çš„æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°çˆ¶ç»„ä»¶æ§åˆ¶æ’æ§½å†…å®¹æ¥æ§åˆ¶å­ç»„ä»¶æ¸²æŸ“ä¸åŒçš„ç»“æœã€‚\né¢å¤–çš„ä¸ç›¸å…³è¯é¢˜ï¼šä½¿ç”¨v-bindæŒ‡ä»¤æ—¶ï¼Œä»€ä¹ˆæ—¶å€™åŠ :ï¼Ÿ\nç§ä»¥ä¸ºï¼šè¿™å–å†³äºv-bindç»‘å®šçš„å±æ€§çš„å€¼ï¼Œå…¶å€¼ä¸ºé™æ€å­—ç¬¦ä¸²ï¼Œä¸åŠ :ï¼Œå…¶å€¼è‹¥ä¸ºå˜é‡æˆ–å¯¹è±¡å­—é¢é‡ï¼Œåˆ™åŠ :ã€‚\nè§£æ„æ’æ§½prop\näº‹å®ä¸Šï¼Œæ’æ§½å†…å®¹ä¼šè¢«å°è£…åœ¨ä¸€ä¸ªå‡½æ•°å†…ï¼Œv-slotçš„å€¼å°±æ˜¯å…¶å‚æ•°ã€‚\nä½œä¸ºå‡½æ•°å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨JavaScriptçš„è§£æ„è¯­æ³•ï¼Œè¿™ä¼šä½¿å¾—ä»£ç æ›´ç®€æ´ã€‚\n1.æ™®é€šè§£æ„\n1 2 3 \u0026lt;template v-slot=\u0026#34;{text}\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{text}}\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt; 2.é‡å‘½åprop\n1 2 3 \u0026lt;template v-slot=\u0026#34;{text:msg}\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{msg}}\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt; 3.æŒ‡å®šåå¤‡å†…å®¹\n1 2 3 \u0026lt;template v-slot=\u0026#34;{text={msg:\u0026#39;Hello\u0026#39;}}\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{text.msg}}\u0026lt;/p\u0026gt; \u0026lt;/template\u0026gt; ","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2slots/","title":"ã€Vue 2ã€‘Slots"},{"content":"Vue.jsæ˜¯ä»€ä¹ˆ Vueï¼ˆè¯»éŸ³ /vjuË/ï¼Œç±»ä¼¼äºviewï¼‰æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„å‰ç«¯æ¸è¿›å¼JavaScriptæ¡†æ¶ï¼Œè¢«è®¾è®¡ä¸ºè‡ªåº•å‘ä¸Šé€å±‚åº”ç”¨ã€‚\nâ€œæ¸è¿›å¼â€æ„å‘³ç€å¯ä»¥æŒ‰éœ€å¼•å…¥Vueï¼Œè€Œä¸å¿…ä¸€æ¬¡æ€§å…¨éƒ¨é‡‡ç”¨ã€‚\nâ€œè‡ªåº•å‘ä¸Šé€å±‚åº”ç”¨â€æ„å‘³ç€ä»åº•å±‚å¼€å§‹æ„å»ºï¼Œå¹¶é€æ¸æ·»åŠ å±‚æ¬¡åŒ–çš„åŠŸèƒ½ã€‚\nVueçš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œæ˜“äºä¸Šæ‰‹å’Œä¸ç¬¬ä¸‰æ–¹åº“æˆ–æ—¢æœ‰é¡¹ç›®ç»“åˆã€‚\nå¦ä¸€æ–¹é¢ï¼Œå½“ä¸ç°ä»£åŒ–çš„å·¥å…·é“¾ä»¥åŠå„ç§æ”¯æŒç±»åº“ç»“åˆä½¿ç”¨æ—¶ï¼ŒVue ä¹Ÿå®Œå…¨èƒ½å¤Ÿä¸ºå¤æ‚çš„å•é¡µåº”ç”¨æä¾›é©±åŠ¨ã€‚\nâ€œç°ä»£åŒ–çš„å·¥å…·é“¾â€é€šå¸¸åŒ…æ‹¬æ„å»ºå·¥å…·ã€æ‰“åŒ…å·¥å…·ã€æ¨¡å—åŒ–ç³»ç»Ÿç­‰ï¼Œå¦‚Webpackã€Babelï¼Œè¿™äº›å·¥å…·å¸®åŠ©å¼€å‘è€…æ›´åŠ é«˜æ•ˆåœ°ç¼–å†™ã€ç»„ç»‡å’Œéƒ¨ç½²ä»£ç ã€‚Vueå¯ä»¥ä¸è¿™äº›å·¥å…·æ— ç¼ç»“åˆä½¿ç”¨ã€‚\nâ€œç±»åº“â€ï¼šè¯¸å¦‚çŠ¶æ€ç®¡ç†åº“ï¼ˆVuex/Piniaï¼‰ã€è·¯ç”±åº“ï¼ˆVue Routerï¼‰ã€UIç»„ä»¶åº“ï¼ˆElement UIã€Ant Designï¼‰ç­‰ï¼ŒVueä¸è¿™äº›åº“é›†æˆï¼Œå¯ä»¥æ„å»ºå‡ºå¼ºå¤§çš„å•é¡µåº”ç”¨ã€‚\nâ€œå•é¡µåº”ç”¨â€ï¼ŒSingle Page Applicationï¼Œç®€å†™ä¸ºSPAï¼ŒSPAæ˜¯ä¸€ç§ç°ä»£åŒ–åœ°Webåº”ç”¨ç¨‹åºï¼Œæ—¨åœ¨åœ¨å•ä¸ªé¡µé¢ä¸Šæä¾›ä¸ç”¨æˆ·äº¤äº’æ‰€éœ€çš„å…¨éƒ¨åŠŸèƒ½ï¼Œè€Œæ— éœ€åˆ·æ–°é¡µé¢ã€‚\nå®‰è£… 1.ç›´æ¥ç”¨\u0026lt;script\u0026gt;å¼•å…¥Vue\næˆ‘ä»¬å¯ä»¥å…ˆä¸‹è½½å¼€å‘ç‰ˆæœ¬æˆ–ç”Ÿäº§ç‰ˆæœ¬(å‹ç¼©ç‰ˆï¼Œåˆ é™¤äº†è­¦å‘Š)çš„Vueï¼Œç„¶åä½¿ç”¨\u0026lt;script\u0026gt;æ ‡ç­¾å¼•å…¥ï¼Œè¿™æ ·ä¼šæ³¨å†Œä¸€ä¸ªå…¨å±€Vueå˜é‡ã€‚\n2.ä½¿ç”¨CDNå¼•å…¥Vue\nCDNï¼Œå…¨ç§°Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ä¸‹è½½å’Œå­˜å‚¨Vue.jsæ–‡ä»¶çš„æƒ…å†µä¸‹ä½¿ç”¨Vueæ¡†æ¶ã€‚\nå…·ä½“åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ï¼š\n1 2 3 4 5 6 7 8 # åˆ¶ä½œåŸå‹æˆ–å­¦ä¹  \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; # ç”¨äºç”Ÿæˆç¯å¢ƒ \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; # ä½¿ç”¨åŸç”ŸES Modules \u0026lt;script type=\u0026#34;module\u0026#34;\u0026gt; import Vue from \u0026#39;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.esm.browser.js\u0026#39; \u0026lt;/script\u0026gt; åŸç”ŸES Modulesæ˜¯JavaScriptä¸­çš„ä¸€ç§æ¨¡å—åŒ–ç³»ç»Ÿï¼Œåœ¨ES6ä¸­å¼•å…¥ã€‚ES Moduleså…è®¸å¼€å‘è€…å°†ä»£ç åˆ’åˆ†æˆç‹¬ç«‹æ¨¡å—ï¼Œä»¥ä¾¿æ›´å¥½çš„ç»„ç»‡ä»£ç ã€ç®¡ç†å’Œå¤ç”¨ä»£ç ã€‚\nVue ä¹Ÿå¯ä»¥åœ¨ unpkg å’Œ cdnjs ä¸Šè·å– (cdnjs çš„ç‰ˆæœ¬æ›´æ–°å¯èƒ½ç•¥æ»å)ã€‚\n3.ä½¿ç”¨NPMå¼•å…¥Vue\næ„å»ºå¤§å‹Vueé¡¹ç›®æ—¶ï¼Œå»ºè®®ä½¿ç”¨NPMå®‰è£…Vueã€‚å› ä¸ºNPMèƒ½å¾ˆå¥½åœ°å’Œè¯¸å¦‚Webpackå’ŒBrowserifyæ¨¡å—æ‰“åŒ…å™¨é…åˆä½¿ç”¨ï¼ŒVueä¹Ÿæä¾›é…å¥—å·¥å…·ï¼ˆå¦‚Vue-cliï¼‰æ¥å¼€å‘å•æ–‡ä»¶ç»„ä»¶ã€‚\n1 2 # æœ€æ–°ç¨³å®šç‰ˆ $ npm install vue 4.å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰\nè¯¦æƒ…å¯æŸ¥é˜… Vue CLI çš„æ–‡æ¡£ã€‚\n5.Bower\nBoweråªæä¾›UMDç‰ˆæœ¬ã€‚\n1 2 # æœ€æ–°ç¨³å®šç‰ˆæœ¬ $ bower install vue 6.AMDæ¨¡å—åŠ è½½å™¨\nAMDæ˜¯æµè§ˆå™¨ç«¯æ¨¡å—åŒ–å¼€å‘çš„è§„èŒƒï¼Œéœ€è¦ç”¨åˆ°å¯¹åº”çš„åº“å‡½æ•°RequireJSã€‚\næ‰€æœ‰ UMD ç‰ˆæœ¬éƒ½å¯ä»¥ç›´æ¥ç”¨ä½œ AMD æ¨¡å—ã€‚\nVueå…¼å®¹æ€§ Vueä¸æ”¯æŒIE8åŠä»¥ä¸‹ç‰ˆæœ¬ï¼Œå› ä¸ºVueä½¿ç”¨äº†IE8æ— æ³•æ¨¡æ‹Ÿçš„ECMAScript 5ç‰¹æ€§ï¼Œå®ƒæ”¯æŒæ‰€æœ‰å…¼å®¹ECMAScript 5çš„æµè§ˆå™¨ã€‚\nè¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ Vueåœ¨å…¶æ‰€æœ‰é¡¹ç›®ä¸­å…¬å¸ƒçš„åŠŸèƒ½å’Œè¡Œä¸ºéƒ½éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼Œå¯¹äºæœªå…¬å¸ƒçš„æˆ–å†…éƒ¨æš´éœ²çš„è¡Œä¸ºï¼Œå…¶å˜æ›´ä¼šæè¿°åœ¨å‘å¸ƒè¯´æ˜ä¸­ã€‚\nâ€œè¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶â€æ„å‘³ç€æ¯æ¬¡å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œç‰ˆæœ¬å·éƒ½ä¼šéµå¾ªä¸€å®šè§„åˆ™è¿›è¡Œæ›´æ–°ï¼Œä»¥è¡¨æ˜ç‰ˆæœ¬å˜åŒ–çš„å«ä¹‰ã€‚è¯­ä¹‰åŒ–ç‰ˆæœ¬å·çš„æ ¼å¼é€šå¸¸ä¸ºMAJOR.MINOR.PATCHã€‚\nMAJORï¼šå½“è¿›è¡Œä¸å‘åå…¼å®¹ï¼ˆä¸å…¼å®¹æ—§ç‰ˆæœ¬ï¼‰çš„é‡å¤§å˜æ›´æ—¶æ·»åŠ ã€‚ MINORï¼šå½“æ·»åŠ æ–°åŠŸèƒ½ä½†ä¿æŒå‘åå…¼å®¹æ—¶å¢åŠ ã€‚ PATCHï¼šå½“è¿›è¡Œå‘åå…¼å®¹çš„Bugä¿®å¤æ—¶æ·»åŠ ã€‚ Vue Devtools å»ºè®®åœ¨æµè§ˆå™¨å®‰è£…ä¸ŠVue Devtoolsè¿™ä¸ªæ’ä»¶ï¼Œå®ƒæä¾›æ–¹ä¾¿çš„åŠŸèƒ½å’Œå‹å¥½çš„ç•Œé¢æ¥è°ƒè¯•å’Œä¼˜åŒ–Vueåº”ç”¨ã€‚å…·ä½“åœ°ï¼ŒVue Devtoolså…è®¸å¼€å‘è€…åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹Vueåº”ç”¨çš„ç»„ä»¶å±‚çº§ã€ç›‘è§†ç»„ä»¶çš„çŠ¶æ€å˜åŒ–ã€æŸ¥çœ‹äº‹ä»¶çš„å‡ºå‘æƒ…å†µã€æŸ¥çœ‹å’Œç¼–è¾‘ç»„ä»¶çš„æ•°æ®ç­‰ã€‚\nå¯¹ä¸åŒæ„å»ºç‰ˆæœ¬çš„è§£é‡Š åœ¨ NPM åŒ…çš„ dist/ ç›®å½•ä½ å°†ä¼šæ‰¾åˆ°å¾ˆå¤šä¸åŒçš„ Vue.js æ„å»ºç‰ˆæœ¬ã€‚\nUMD CommonJS ES Module (åŸºäºæ„å»ºå·¥å…·ä½¿ç”¨) ES Module (ç›´æ¥ç”¨äºæµè§ˆå™¨) å®Œæ•´ç‰ˆ vue.js vue.common.js vue.esm.js vue.esm.browser.js åªåŒ…å«è¿è¡Œæ—¶ç‰ˆ vue.runtime.js vue.runtime.common.js vue.runtime.esm.js - å®Œæ•´ç‰ˆ (ç”Ÿäº§ç¯å¢ƒ) vue.min.js - - vue.esm.browser.min.js åªåŒ…å«è¿è¡Œæ—¶ç‰ˆ (ç”Ÿäº§ç¯å¢ƒ) vue.runtime.min.js - - - æœ¯è¯­è§£é‡Šï¼š\nå®Œæ•´ç‰ˆï¼šåŒæ—¶åŒ…å«ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶çš„ç‰ˆæœ¬ã€‚ ç¼–è¯‘å™¨ï¼šç”¨æ¥å°†æ¨¡æ¿å­—ç¬¦ä¸²ç¼–è¯‘æˆJavaScriptæ¸²æŸ“å‡½æ•°çš„ä»£ç ã€‚ è¿è¡Œæ—¶ï¼šç”¨æ¥åˆ›å»ºVueå®ä¾‹ã€æ¸²æŸ“å¹¶å¤„ç†è™šæ‹ŸDOMç­‰çš„ä»£ç ã€‚åŸºæœ¬ä¸Šå°±æ˜¯é™¤å»ç¼–è¯‘å™¨çš„ä¸€åˆ‡ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé€šå¸¸ä½¿ç”¨è¿è¡Œæ—¶ç‰ˆæœ¬ï¼Œå› ä¸ºæ¨¡æ¿ç¼–è¯‘é€šå¸¸åœ¨æ„å»ºé˜¶æ®µå®Œæˆã€‚ UMDï¼šå…¨ç§°Universal Module Defineï¼ŒUMD ç‰ˆæœ¬å¯ä»¥é€šè¿‡ \u0026lt;script\u0026gt; æ ‡ç­¾==ç›´æ¥ç”¨åœ¨æµè§ˆå™¨==ä¸­ã€‚jsDelivr CDN çš„ https://cdn.jsdelivr.net/npm/vue@2.7.14 é»˜è®¤æ–‡ä»¶å°±æ˜¯è¿è¡Œæ—¶ + ç¼–è¯‘å™¨çš„ UMD ç‰ˆæœ¬ (vue.js)ã€‚ CommonJSï¼šCommonJS ç‰ˆæœ¬ç”¨æ¥é…åˆ==è€çš„æ‰“åŒ…å·¥å…·==æ¯”å¦‚ Browserify æˆ– webpack 1ã€‚è¿™äº›æ‰“åŒ…å·¥å…·çš„é»˜è®¤æ–‡ä»¶ (pkg.main) æ˜¯åªåŒ…å«è¿è¡Œæ—¶çš„ CommonJS ç‰ˆæœ¬ (vue.runtime.common.js)ã€‚ ES Moduleï¼šä» 2.6 å¼€å§‹ Vue ä¼šæä¾›ä¸¤ä¸ª ES Modules (ESM) æ„å»ºæ–‡ä»¶ï¼š ä¸ºæ‰“åŒ…å·¥å…·æä¾›çš„ ESMï¼šä¸ºè¯¸å¦‚ webpack 2 æˆ– Rollup æä¾›çš„ç°ä»£æ‰“åŒ…å·¥å…·ã€‚ESM æ ¼å¼è¢«è®¾è®¡ä¸ºå¯ä»¥è¢«é™æ€åˆ†æï¼Œæ‰€ä»¥æ‰“åŒ…å·¥å…·å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹æ¥è¿›è¡Œâ€œtree-shakingâ€å¹¶å°†ç”¨ä¸åˆ°çš„ä»£ç æ’é™¤å‡ºæœ€ç»ˆçš„åŒ…ã€‚ä¸ºè¿™äº›æ‰“åŒ…å·¥å…·æä¾›çš„é»˜è®¤æ–‡ä»¶ (pkg.module) æ˜¯åªæœ‰è¿è¡Œæ—¶çš„ ES Module æ„å»º (vue.runtime.esm.js)ã€‚ ä¸ºæµè§ˆå™¨æä¾›çš„ ESM (2.6+)ï¼šç”¨äº==åœ¨ç°ä»£æµè§ˆå™¨ä¸­é€šè¿‡ \u0026lt;script type=\u0026quot;module\u0026quot;\u0026gt; ç›´æ¥å¯¼å…¥==ã€‚ ä¸è‡ªå®šä¹‰å…ƒç´ çš„å…³ç³» Vueæ”¯æŒä¸è‡ªå®šä¹‰å…ƒç´ è¿›è¡Œé›†æˆï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•å°†Vueç»„ä»¶æ„å»ºæˆåŸç”Ÿçš„è‡ªå®šä¹‰å…ƒç´ ï¼Œä»è€Œè®©Vueç»„ä»¶èƒ½å¤Ÿåœ¨æ”¯æŒCutome Elementçš„ç¯å¢ƒä¸­ä½¿ç”¨ï¼š\n1.å®‰è£…vue-custome-elementåº“ï¼š\n1 npm install vue-custome-element 2.åœ¨Vueç»„ä»¶ä¸­æ³¨å†Œè‡ªå®šä¹‰å…ƒç´ ï¼š\n1 2 3 4 5 6 7 8 9 import Vue from \u0026#39;vue\u0026#39; import vueCustomeElement from \u0026#39;vue-custome-element\u0026#39; import MyComponent from \u0026#39;./MyComponent.vue\u0026#39; //ä½¿ç”¨vue-custome-elementæ’ä»¶ Vue.use(vueCustomeElement) //æ³¨å†Œè‡ªå®šä¹‰å…ƒç´  Vue.customElement(\u0026#39;my-custome-element\u0026#39;,MyComponent); å…¶ä»–demoã€‚\nåœ¨Vue3ä¸­æœ‰åŸç”ŸAPIæ”¯æŒè‡ªå®šä¹‰å…ƒç´ ã€‚\nVue CLIä¹Ÿæ”¯æŒå°†Vueç»„ä»¶æ„å»ºæˆä¸ºåŸç”Ÿçš„è‡ªå®šä¹‰å…ƒç´ ã€‚\nVue CLIæ˜¯Vueå®˜æ–¹æä¾›çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºå¿«é€Ÿæ­å»ºVueé¡¹ç›®ï¼Œåœ¨Vue CLIä¸­ï¼Œå¯ä»¥ä½¿ç”¨vue-cli-service build --target wc --name my-element src/App.vueå‘½ä»¤å°†App.vueç»„ä»¶æ„å»ºæˆè‡ªå®šä¹‰å…ƒç´ ï¼Œå¹¶æŒ‡å®šåç§°ä¸ºmy-elemntã€‚\n","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%89%E8%A3%85/","title":"ã€Vue 2ã€‘ä»‹ç»ä¸å®‰è£…"},{"content":"å…ˆé˜…è¯» ã€Vue 2 ç»„ä»¶åŸºç¡€ã€‘ä¸­çš„åˆæ­¥äº†è§£åŠ¨æ€ç»„ä»¶ã€‚\nåŠ¨æ€ç»„ä»¶ æˆ‘ä»¬çŸ¥é“åŠ¨æ€ç»„ä»¶ä½¿ç”¨iså±æ€§å’Œcomponentæ ‡ç­¾ç»“åˆæ¥åˆ‡æ¢ä¸åŒç»„ä»¶ã€‚\nä¸‹é¢ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;!-- tab æ ‡ç­¾é¡µ --\u0026gt; \u0026lt;div\u0026gt; \u0026lt;button @click=\u0026#34;tab = \u0026#39;home\u0026#39;\u0026#34;\u0026gt;é¦–é¡µ\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;tab = \u0026#39;posts\u0026#39;\u0026#34;\u0026gt;æ–‡ç« \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; çˆ¶ç»„ä»¶count: {{count}} \u0026lt;!-- åŠ¨æ€ç»„ä»¶ --\u0026gt; \u0026lt;component :is=\u0026#34;tab\u0026#34; @increment=\u0026#34;count=$event\u0026#34;\u0026gt;\u0026lt;/component\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; // æ³¨å†Œç»„ä»¶ Vue.component(\u0026#39;home\u0026#39;, { data: function () { return { count: 0 } }, template: ` \u0026lt;div\u0026gt; \u0026lt;div\u0026gt;é¦–é¡µå†…å®¹\u0026lt;/div\u0026gt; \u0026lt;div\u0026gt;å­ç»„ä»¶count: {{count}}\u0026lt;/div\u0026gt; \u0026lt;button @click=\u0026#34;count++;$emit(\u0026#39;increment\u0026#39;, count)\u0026#34;\u0026gt;ç‚¹å‡»äº†{{count}}æ¬¡\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; `, }); Vue.component(\u0026#39;posts\u0026#39;, { template: \u0026#39;\u0026lt;div\u0026gt;æ–‡ç« å†…å®¹\u0026lt;/div\u0026gt;\u0026#39; }); var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { tab: \u0026#39;home\u0026#39;, count: 0 }, }); \u0026lt;/script\u0026gt; çœ‹ä»£ç å¯ä»¥çŸ¥é“çˆ¶ç»„ä»¶çš„countä¼šåœ¨å­ç»„ä»¶countæ›´æ–°åå˜ä¸ºå­ç»„ä»¶çš„countå€¼ã€‚ä½†æˆ‘ä»¬åˆ‡æ¢ç»„ä»¶åå†åˆ‡æ¢å›æ¥ï¼Œä¼šå‘ç°çˆ¶ç»„ä»¶countæ²¡å˜ï¼Œå­ç»„ä»¶countå˜ä¸ºåˆå§‹å€¼ã€‚è¿™æ˜¯å› ä¸ºï¼Œæ¯æ¬¡åˆ‡æ¢ç»„ä»¶éƒ½ä¼šåˆ›å»ºå½“å‰ç»„ä»¶çš„æ–°å®ä¾‹ã€‚\né‚£æ€ä¹ˆä¿å­˜å…ˆå‰ç»„ä»¶çš„çŠ¶æ€å‘¢ï¼Ÿ\nVueæä¾›äº†keep-aliveç»„ä»¶ã€‚æˆ‘ä»¬ä½¿ç”¨è¯¥å…ƒç´ å°†è¦ç¼“å­˜çš„ç»„ä»¶åŒ…è£¹èµ·æ¥ã€‚è®©æˆ‘ä»¬çœ‹çœ‹æ•ˆæœï¼š\n1 2 3 \u0026lt;keep-alive\u0026gt; \u0026lt;component :is=\u0026#34;tab\u0026#34; @increment=\u0026#34;count=$event\u0026#34;\u0026gt;\u0026lt;/component\u0026gt; \u0026lt;/keep-alive\u0026gt; æˆåŠŸè§£å†³é—®é¢˜ï¼\n\u0026lt;keep-alive\u0026gt;çš„æ³¨æ„äº‹é¡¹ï¼š\n\u0026lt;keep-alive\u0026gt;æœ¬èº«ä¸ä¼šæ¸²æŸ“ä¸ºDOMå…ƒç´ ã€‚ å½“\u0026lt;keep-alive\u0026gt;å†…ç»„ä»¶åˆ‡æ¢æ—¶ï¼Œä¼šæ‰§è¡Œactivatedå’Œdeactivatedä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ã€‚ \u0026lt;keep-alive\u0026gt;ä¸ä¼šåœ¨å‡½æ•°å¼ç»„ä»¶ä¸­æ­£å¸¸å·¥ä½œï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰ç¼“å­˜å®ä¾‹ã€‚ è¢«åˆ‡æ¢çš„ç»„ä»¶éœ€è¦è®¾ç½®nameé€‰é¡¹ã€‚ å¼‚æ­¥ç»„ä»¶ åœ¨å¤§å‹åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å°†åº”ç”¨åˆ†å‰²æˆå°ä¸€äº›çš„ä»£ç å—ï¼Œå¹¶ä¸”åªåœ¨éœ€è¦çš„æ—¶å€™æ‰ä»æœåŠ¡å™¨åŠ è½½ä¸€ä¸ªæ¨¡å—ã€‚\nVueç®€åŒ–äº†è¿™ä¸ªè¿‡ç¨‹çš„å®ç°ã€‚\nVueå…è®¸æˆ‘ä»¬ä»¥å·¥å‚å‡½æ•°çš„å½¢å¼å®šä¹‰ç»„ä»¶ã€‚\n1 2 3 4 5 6 7 Vue.component(\u0026#39;async-component\u0026#39;,function(resolve,reject){ setTimeout(function(){ resolve({ template:\u0026#39;\u0026lt;div\u0026gt;\u0026lt;h2\u0026gt;Async Component Content\u0026lt;/h2\u0026gt;\u0026lt;/div\u0026gt;\u0026#39; }); },1000); }); å·¥å‚å‡½æ•°é‡Œå¯ä»¥å¼‚æ­¥åœ°resolveæ¥è‡ªæœåŠ¡å™¨çš„ç»„ä»¶å®šä¹‰å¯¹è±¡ã€‚å¦‚æœç»„ä»¶load failedï¼Œä¹Ÿå¯ä»¥è°ƒç”¨reject(reason)ã€‚\nè¿™æ ·å®šä¹‰çš„ç»„ä»¶åªæœ‰å½“å®ƒéœ€è¦è¢«renderæ—¶æ‰ä¼šè¢«åŠ è½½ï¼Œè€Œä¸”ä¼šç¼“å­˜æ¸²æŸ“ç»“æœç”¨äºä»¥åçš„é‡æ–°æ¸²æŸ“ã€‚\nä½¿ç”¨Vue.componentæ–¹æ³•ç»“åˆwebpackçš„code-splittingæ¥å®šä¹‰ä¸€ä¸ªfactoryå‡½æ•°ï¼š\n1 2 3 4 5 6 Vue.component(\u0026#39;async-webpack-example\u0026#39;, function (resolve) { // è¿™ä¸ªç‰¹æ®Šçš„ `require` è¯­æ³•å°†ä¼šå‘Šè¯‰ webpack // è‡ªåŠ¨å°†ä½ çš„æ„å»ºä»£ç åˆ‡å‰²æˆå¤šä¸ªåŒ…ï¼Œè¿™äº›åŒ… // ä¼šé€šè¿‡ Ajax è¯·æ±‚åŠ è½½ require([\u0026#39;./my-async-component\u0026#39;], resolve)ï¼› })ï¼› æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨factoryå‡½æ•°ä¸­è¿”å›ä¸€ä¸ªPromiseï¼Œ\n1 2 3 4 Vue.component( `async-webpack-example`, ()=\u0026gt;import(\u0026#39;./my-async-component\u0026#39;) ); ()=\u0026gt;import('./my-async-component')è¿”å›ä¸€ä¸ªPromiseï¼Œé‚£ä¹ˆå°±å¯ä»¥æ ¹æ®Promiseçš„çŠ¶æ€æ¥è‡ªåŠ¨å¤„ç†å¼‚æ­¥åŠ è½½å’Œæ¸²æŸ“çš„è¿‡ç¨‹ã€‚\nimport() return value\nReturns a promise which fulfills to a module namespace object: an object containing all exports from moduleName.\nThe evaluation of import() never synchronously throws an error. moduleName is coerced to a string, and if coercion throws, the promise is rejected with the thrown error.\nå±€éƒ¨æ³¨å†Œå¼‚æ­¥ç»„ä»¶ï¼š\n1 2 3 4 5 new Vue({ components:{ \u0026#39;my-component\u0026#39;:()=\u0026gt;import(\u0026#39;./my-async-component\u0026#39;) } }) å¤„ç†åŠ è½½çŠ¶æ€ å¼‚æ­¥ç»„ä»¶å·¥å‚å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æœ‰å…³å¼‚æ­¥ç»„ä»¶åŠ è½½ã€åŠ è½½ä¸­ã€åŠ è½½å¤±è´¥ç­‰æƒ…å†µçš„é…ç½®ä¿¡æ¯ï¼Œè¿™ç§æ–¹å¼å…è®¸ä½ æ›´åŠ ç²¾ç»†åœ°æ§åˆ¶å¼‚æ­¥ç»„ä»¶åœ°åŠ è½½å’Œæ¸²æŸ“è¿‡ç¨‹ã€‚ä¸‹é¢æ˜¯è¿™ç§æ ¼å¼çš„å¼‚æ­¥ç»„ä»¶é…ç½®å¯¹è±¡çš„è¯¦ç»†è§£é‡Šï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 const AsyncComponent=()=\u0026gt;({ //éœ€è¦åŠ è½½çš„ç»„ä»¶ component:import(\u0026#39;./MyComponent.vue\u0026#39;), //å¼‚æ­¥åŠ è½½æ—¶ä½¿ç”¨çš„ç»„ä»¶ loading:LoadingComponent, //åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶ error:ErrorComponent, //å±•ç¤ºåŠ è½½æ—¶ç»„ä»¶çš„å»¶è¿Ÿæ—¶é—´ï¼Œé»˜è®¤å€¼æ˜¯200ï¼ˆæ¯«ç§’ï¼‰ delay:200, // å¦‚æœæä¾›äº†è¶…æ—¶æ—¶é—´ä¸”ç»„ä»¶åŠ è½½ä¹Ÿè¶…æ—¶äº†ï¼Œ // åˆ™ä½¿ç”¨åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶ã€‚é»˜è®¤å€¼æ˜¯ï¼š`Infinity`ï¼Œå³æ²¡æœ‰è¶…æ—¶é™åˆ¶ timeout: 3000 }); Vue.component(\u0026#39;async-component\u0026#39;, AsyncComponent); 1 2 3 4 5 \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;async-component\u0026gt;\u0026lt;/async-component\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; å‚è€ƒèµ„æ–™ keep-alive Dynamic \u0026amp; Async Components import() ","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6%E5%92%8C%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6/","title":"ã€Vue 2ã€‘åŠ¨æ€ç»„ä»¶å’Œå¼‚æ­¥ç»„ä»¶"},{"content":"è®¿é—®å…ƒç´ å’Œç»„ä»¶ é€šè¿‡Vue 2 ç»„ä»¶åŸºç¡€ä¸€æ–‡çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“ç»„ä»¶ä¹‹é—´å¯ä»¥é€šè¿‡ä¼ é€’propsæˆ–äº‹ä»¶æ¥è¿›è¡Œé€šä¿¡ã€‚\nä½†åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•å°†æ›´æœ‰ç”¨ã€‚\n1.è®¿é—®æ ¹å®ä¾‹\næ ¹å®ä¾‹å¯é€šè¿‡this.$rootè·å–ã€‚\næˆ‘ä»¬åœ¨æ‰€æœ‰å­ç»„ä»¶ä¸­éƒ½å¯ä»¥åƒä¸Šé¢é‚£æ ·è®¿é—®æ ¹å®ä¾‹ï¼Œå®ƒå°±åƒä¸€ä¸ªvuexä¸­çš„å…¨å±€storeã€‚\nè¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨æ ¹å®ä¾‹ä¸Šå®šä¹‰æ–¹æ³•å’Œå±æ€§ï¼Œè¿™äº›æ–¹æ³•å’Œå±æ€§å¯ä»¥åœ¨æ‰€æœ‰ç»„ä»¶ä¸­è®¿é—®ã€‚\næ ¹å®ä¾‹ä¹Ÿå¯ä»¥ç”¨ä½œäº‹ä»¶æ€»çº¿ï¼Œä½ å¯ä»¥è§¦å‘æ ¹å®ä¾‹ä¸Šçš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œåœ¨å…¶ä»–ç»„ä»¶ä¸Šç›‘å¬è¿™äº›äº‹ä»¶ä»¥è¿›è¡Œé€šä¿¡ã€‚ä¸€ä¸ªç¤ºä¾‹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue äº‹ä»¶æ€»çº¿\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;sendMessage\u0026#34;\u0026gt;Send Message By Root\u0026lt;/button\u0026gt; \u0026lt;child-component\u0026gt;\u0026lt;/child-component\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; // æ³¨å†Œç»„ä»¶ Vue.component(\u0026#39;child-component\u0026#39;, { data: function () { return { childMessage:\u0026#39;childMsg\u0026#39; } }, template: ` \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;Message in ChildComponentï¼š{{childMessage}}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; `, created(){ //é€šè¿‡ this.$root ç›‘å¬`message-sent`äº‹ä»¶ this.$root.$on(\u0026#39;message-sent\u0026#39;,message=\u0026gt;{ this.childMessage=message }) } }); var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data:{ message:\u0026#39;rootMsg\u0026#39; }, methods:{ sendMessage(){ //åœ¨æ ¹å®ä¾‹ä¸Šè§¦å‘è‡ªå®šä¹‰äº‹ä»¶\u0026#39;message-sent\u0026#39; this.$emit(\u0026#39;message-sent\u0026#39;,this.message) } } }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; \u0026lt;script\u0026gt; 2.è®¿é—®çˆ¶ç»„ä»¶å®ä¾‹ã€è®¿é—®å­ç»„ä»¶å®ä¾‹æˆ–å­å…ƒç´ \nä¹‹å‰æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ é€’propæ¥è¾¾åˆ° å­ç»„ä»¶è®¿é—®çˆ¶ç»„ä»¶å®ä¾‹ æˆ–è€…ç§°ä¸º çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ çš„ç›®çš„ã€‚\nç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨$parent propertyæ¥è®¿é—®çˆ¶çº§ç»„ä»¶å®ä¾‹ã€‚\nä¹‹å‰æˆ‘ä»¬ä¹Ÿé€šè¿‡è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ä¼ é€’æŠ›å‡ºå€¼çš„æ–¹å¼æ¥è®¿é—®å­ç»„ä»¶å®ä¾‹ã€‚\nåŒæ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ref attributeä¸ºå­ç»„ä»¶æˆ–å­å…ƒç´ æ·»åŠ ä¸€ä¸ª ID å¼•ç”¨ã€‚\n1 \u0026lt;child-component ref=\u0026#34;child\u0026#34;\u0026gt;\u0026lt;/child-component\u0026gt; äºæ˜¯å¯ä»¥ä½¿ç”¨this.$refs.childæ¥è®¿é—®å­ç»„ä»¶å®ä¾‹ã€‚\né€šè¿‡refå¼•ç”¨å­ç»„ä»¶ç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue ref ç¤ºä¾‹\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;toggleColor\u0026#34;\u0026gt;Toggle Color\u0026lt;/button\u0026gt; \u0026lt;p :style=\u0026#34;{ color: textColor }\u0026#34;\u0026gt;This text color can be toggled.\u0026lt;/p\u0026gt; \u0026lt;child-component ref=\u0026#34;childRef\u0026#34;\u0026gt;\u0026lt;/child-component\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; // å­ç»„ä»¶ Vue.component(\u0026#39;child-component\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;p\u0026gt;This is a child component.\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; `, methods: { sayHello() { console.log(\u0026#39;Hello from child component!\u0026#39;); } } }); var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { textColor: \u0026#39;black\u0026#39;, isChildVisible: true }, methods: { toggleColor() { this.textColor = this.textColor === \u0026#39;black\u0026#39; ? \u0026#39;red\u0026#39; : \u0026#39;black\u0026#39;; // é€šè¿‡ ref è®¿é—®å­ç»„ä»¶å®ä¾‹ä¸­çš„æ–¹æ³• this.$refs.childRef.sayHello(); } } }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 3.ä¾èµ–æ³¨å…¥\nä¸ç®¡æ˜¯this.$parentã€this.$refsï¼Œéƒ½å¯èƒ½ä¼šé™·å…¥æ·±å±‚åµŒå¥—çš„é£é™©ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé€šè¿‡this.$parent.$parent.$parentæ¥è®¿é—®ä¸Šå±‚æŸä¸ªç»„ä»¶å®ä¾‹ã€‚è¿™æ— ç–‘æ˜¯ä¸åˆç†çš„ã€‚\né’ˆå¯¹è¾ƒæ·±å±‚çº§çš„ç»„ä»¶è®¿é—®ï¼ŒVueè®¾è®¡äº†ä¾èµ–æ³¨å…¥çš„æ¨¡å¼ã€‚å®ƒå…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªä¾èµ–æ³¨å…¥åˆ°æŸä¸ªç»„ä»¶é‡Œï¼Œä»¥ä¾¿ç»„ä»¶å¯ä»¥è®¿é—®è¿™ä¸ªä¾èµ–è€Œä¸éœ€è¦æ˜¾ç¤ºä¼ é€’å®ƒã€‚è¿™å¯¹äºå…±äº«å…¨å±€é…ç½®æˆ–æœåŠ¡éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚å›½é™…åŒ–ï¼ˆi18nï¼‰é…ç½®ã€æ•°æ®è¯·æ±‚æœåŠ¡ç­‰ã€‚\nå…·ä½“çš„ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨çˆ¶ç»„ä»¶provideé€‰é¡¹æä¾›ä¾èµ–ï¼Œç„¶ååœ¨å­ç»„ä»¶çš„injecté€‰é¡¹æ³¨å…¥ä¾èµ–ã€‚\nç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 //åœ¨çˆ¶ç»„ä»¶ä¸­ provide:{ userSevice:new UserService() } //åœ¨å­ç»„ä»¶ä¸­ inject:[\u0026#39;userService\u0026#39;], created(){ this.userService.doSomething() } ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ä½¿ç”¨$rootå®ç°è¿™ç§æ–¹æ¡ˆå‘¢ï¼Ÿæˆ‘è®¤ä¸ºï¼Œä¾èµ–æ³¨å…¥é€‚åˆå°èŒƒå›´çš„é…ç½®å…±äº«ï¼Œè€Œå…¨å±€å…±äº«åˆ™é€‚ç”¨äº$rootã€‚\nç¨‹åºåŒ–çš„äº‹ä»¶ç›‘å¬å™¨ $emitè§¦å‘çš„äº‹ä»¶å¯ä»¥è¢«v-onç›‘å¬ï¼Œä½†è¿™ä¸æ˜¯æˆ‘ä»¬è¿™ç« çš„å†…å®¹ã€‚\næœ¬æ–‡ä¸»è¦ä»‹ç» Vue 2 ä¸­ç¨‹åºåŒ–çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥åŠ¨æ€åœ°æ·»åŠ å’Œåˆ é™¤äº‹ä»¶ç›‘å¬å™¨ã€‚\nVueå®ä¾‹ä¸Šæœ‰ä¸€ç³»åˆ—æ–¹æ³•æ¥å¤„ç†äº‹ä»¶ï¼ŒåŒ…æ‹¬$onã€$onceå’Œ$offã€‚å®ƒä»¬éƒ½åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼ševentNameå’ŒeventHandlerã€‚$onä¾¦å¬ä¸€ä¸ªäº‹ä»¶ï¼›$onceåªä¾¦å¬ä¸€ä¸ªäº‹ä»¶ä¸€æ¬¡ï¼›$offåœæ­¢ä¾¦å¬ä¸€ä¸ªäº‹ä»¶ã€‚\n$emitã€$onå’Œ$offä¸æµè§ˆå™¨çš„EventTarget API ä¸­çš„dispatchEventã€addEventListenerå’ŒremoveEventListenerå¹¶ä¸ç­‰åŒã€‚\n$emitç”¨äºè§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼ŒdispatchEventç”¨äºè§¦å‘å„ç§DOMäº‹ä»¶ã€‚addEventListenerå’ŒremoveEventListeneråŒç†ã€‚\nç»„ä»¶çš„å¾ªç¯å¼•ç”¨ 1.é€’å½’ç»„ä»¶\næˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶æ¨¡æ¿å†…éƒ¨è°ƒç”¨è‡ªèº«ï¼Œè¿™ç§°ä¸ºé€’å½’ç»„ä»¶ã€‚é€’å½’ç»„ä»¶è¦æ³¨æ„è®¾ç½®é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼Œä¾‹å¦‚v-ifçš„å€¼ä¸ºfalseã€‚\nå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè¡¨ç¤ºæ–‡ä»¶å¤¹ç»“æ„çš„æ•°æ®å¯¹è±¡ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue 2 é€’å½’ç»„ä»¶ Demo\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;recursive-folder :folder=\u0026#34;folder\u0026#34;\u0026gt;\u0026lt;/recursive-folder\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; Vue.component(\u0026#39;recursive-folder\u0026#39;, { props: [\u0026#39;folder\u0026#39;], template: ` \u0026lt;div\u0026gt; \u0026lt;span\u0026gt;{{ folder.name }}\u0026lt;/span\u0026gt; \u0026lt;div v-if=\u0026#34;folder.children.length \u0026gt; 0\u0026#34;\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;childFolder in folder.children\u0026#34; :key=\u0026#34;childFolder.name\u0026#34;\u0026gt; \u0026lt;recursive-folder :folder=\u0026#34;childFolder\u0026#34;\u0026gt;\u0026lt;/recursive-folder\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ` }); var vm = new Vue({ el: \u0026#39;#app\u0026#39;, name: \u0026#39;recursive-folder\u0026#39;, data: { folder: { name: \u0026#39;Folder A\u0026#39;, children: [ { name: \u0026#39;Subfolder A.1\u0026#39;, children: [ { name: \u0026#39;File A.1.1\u0026#39;, children: [] }, // å¯èƒ½æœ‰æ›´å¤šå­é¡¹ ] }, { name: \u0026#39;File A.2\u0026#39;, children: [] }, // å¯èƒ½æœ‰æ›´å¤šå­é¡¹ ] } }, }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 2.å¾ªç¯ç»„ä»¶\nå¾ªç¯ç»„ä»¶æ˜¯ä¸åŒç»„ä»¶äº’ç›¸ä½¿ç”¨ï¼Œé€’å½’ç»„ä»¶æ˜¯è‡ªèº«ä½¿ç”¨è‡ªèº«ã€‚\nä½¿ç”¨Vue.componentå…¨å±€æ³¨å†Œç»„ä»¶æ—¶ï¼ŒVueå¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨è§£å†³ç»„ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå› æ­¤ä½ å¯ä»¥éšæ„ä½¿ç”¨å®ƒä»¬ã€‚\nä½†æ˜¯ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨æ¨¡å—ç³»ç»Ÿï¼ˆå¦‚Webpackï¼‰æ—¶ï¼Œä¾¿å¯èƒ½å‡ºç°å¾ªç¯ä¾èµ–çš„æƒ…å†µã€‚\nä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œä½ å¯ä»¥åœ¨ç»„ä»¶çš„beforeCreateç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¸­åŠ¨æ€æ³¨å†Œä¾èµ–ç»„ä»¶ï¼Œæˆ–è€…ä½¿ç”¨å¼‚æ­¥ç»„ä»¶åŠ è½½æ¥ç¡®ä¿ç»„ä»¶èƒ½å¤Ÿæ­£ç¡®è§£æå’Œæ³¨å†Œï¼š\n1ï¼‰åœ¨ç»„ä»¶çš„beforeCreateç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¸­åŠ¨æ€æ³¨å†Œä¾èµ–ç»„ä»¶ï¼š\n1 2 3 beforeCreate(){ this.$options.components.AnotherComponent=require(\u0026#34;./another-component.vue\u0026#34;).default } 2ï¼‰ä½¿ç”¨å¼‚æ­¥ç»„ä»¶åŠ è½½ï¼š\nå‚è€ƒVue 2 åŠ¨æ€ç»„ä»¶å’Œå¼‚æ­¥ç»„ä»¶ä¸€æ–‡ã€‚\næ¨¡æ¿å®šä¹‰çš„æ–°æ–¹å¼ é€šå¸¸ï¼Œæˆ‘ä»¬ä½¿ç”¨ç»„ä»¶å†…çš„templateé€‰é¡¹å®šä¹‰æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨.vueæ–‡ä»¶çš„\u0026lt;template\u0026gt;å…ƒç´ ä¸­å®šä¹‰æ¨¡æ¿ã€‚\n1.å†…è”æ¨¡æ¿\nå¦‚æœåœ¨å­ç»„ä»¶ä¸Šæ·»åŠ inline-template attributeï¼Œé‚£ä¹ˆå­ç»„ä»¶å°†ä½¿ç”¨å…¶å†…éƒ¨å†…å®¹ä½œä¸ºæ¨¡æ¿ï¼Œè€Œä¸ä¼šå°†å…¶ä½œä¸ºæ’æ§½å†…å®¹ã€‚\n1 2 3 4 5 \u0026lt;child-component inline-template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!--æ¨¡æ¿å†…å®¹--\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/child-component\u0026gt; 2.X-Template\n1 2 3 4 5 \u0026lt;script type=\u0026#34;text/x-template\u0026#34; id=\u0026#34;my-template\u0026#34;\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!--æ¨¡æ¿å†…å®¹--\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/script\u0026gt; 1 2 3 Vue.component(\u0026#39;my-component\u0026#39;,{ template:\u0026#39;#my-template\u0026#39; }) è¿™ä¸¤ç§æ–¹å¼é€‚ç”¨äºæˆ‘ä»¬åšåšDemoæˆ–å¾ˆå°çš„é¡¹ç›®ã€‚\næ§åˆ¶æ›´æ–° æ§åˆ¶æ›´æ–°æŒ‡å¼ºåˆ¶æ›´æ–°å’Œé˜»æ­¢æ›´æ–°ã€‚\n1.å¼ºåˆ¶æ›´æ–°\nä½¿ç”¨$forceUpdateæ–¹æ³•å¼ºåˆ¶æ›´æ–°ä¸€ä¸ªç»„ä»¶ï¼Œå³ä½¿æ²¡æœ‰ä»»ä½•çŠ¶æ€å˜åŒ–ä¹Ÿä¼šè§¦å‘é‡æ–°æ¸²æŸ“ã€‚\nä¸è¿‡ï¼Œåªæœ‰è°ƒç”¨å®ƒçš„ç»„ä»¶å®ä¾‹åŠè¯¥å®ä¾‹ä¸­çš„å­ç»„ä»¶çš„æ’æ§½å†…å®¹ä¼šè¢«å¼ºåˆ¶æ›´æ–°ï¼Œå­ç»„ä»¶æœ¬èº«ä¸å—å½±å“ã€‚\né€šè¿‡é€’å½’ç®—æ³•å¯ä»¥å¼ºåˆ¶æ›´æ–°æ•´ä¸ªç»„ä»¶æ ‘ï¼š\n1 2 3 4 5 6 function foreceUpdateRecursive(vm){ vm.$forceUpdate() vm.$children.forEach(child=\u0026gt;{ foreceUpdateRecursive(child) }) } 2.é˜»æ­¢æ›´æ–°ï¼šä½¿ç”¨v-onceåˆ›å»ºä½å¼€é”€çš„é™æ€ç»„ä»¶\né™æ€æ„å‘³ç€æ•°æ®ä¸å†æ”¹å˜ï¼Œä¹Ÿå°±ä¸ç”¨é‡æ–°æ¸²æŸ“ã€‚\nv-onceä¿è¯äº†åªæ¸²æŸ“è¯¥å…ƒç´ å’Œå…¶å­å…ƒç´ ä¸€æ¬¡ï¼Œä¸”å°†å®ƒä»¬çš„æ•°æ®ç¼“å­˜èµ·æ¥ã€‚\n","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E5%A4%84%E7%90%86%E8%BE%B9%E7%95%8C%E6%83%85%E5%86%B5/","title":"ã€Vue 2ã€‘å¤„ç†è¾¹ç•Œæƒ…å†µ"},{"content":"åœ¨Vueä¸­ä½¿ç”¨v-foræ¸²æŸ“åˆ—è¡¨æ—¶ï¼Œé»˜è®¤ä½¿ç”¨å°±åœ°æ›´æ–°ç­–ç•¥ã€‚è¯¥ç­–ç•¥é»˜è®¤æ˜¯åŸºäºç´¢å¼•çš„ï¼Œè§„å®šåœ¨åˆ—è¡¨ç»‘å®šçš„æ•°æ®å…ƒç´ é¡ºåºå˜åŒ–æ—¶ï¼Œä¸ä¼šé‡æ–°åˆ›å»ºæ•´ä¸ªåˆ—è¡¨ï¼Œè€Œåªæ˜¯æ›´æ–°å¯¹åº”DOMå…ƒç´ ä¸Šçš„æ•°æ®ã€‚ä»¥ä¸‹ä»£ç å®ç°äº†ä¸€ä¸ªTODOåˆ—è¡¨çš„å‹¾é€‰ã€æ·»åŠ å’Œåˆ é™¤åŠŸèƒ½ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;In-Place Update Example\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;(todo, index) in todos\u0026#34; :key=\u0026#34;index\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; v-model=\u0026#34;todo.completed\u0026#34;\u0026gt; {{ todo.text }} \u0026lt;button @click=\u0026#34;removeTodo(index)\u0026#34;\u0026gt;Remove\u0026lt;/button\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;button @click=\u0026#34;addTodo\u0026#34;\u0026gt;Add Todo\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; const app = new Vue({ el: \u0026#39;#app\u0026#39;, data: { todos: [ { text: \u0026#39;Learn Vue.js\u0026#39;, completed: false }, { text: \u0026#39;Build an app\u0026#39;, completed: true }, { text: \u0026#39;Deploy to production\u0026#39;, completed: false } ] }, methods: { removeTodo(index) { this.todos.splice(index, 1); }, addTodo() { this.todos.push({ text: \u0026#39;New Todo\u0026#39;, completed: false }); } } }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; è¯¥ç­–ç•¥æ¨¡å¼æ˜¯é«˜æ•ˆçš„ï¼Œé¿å…äº†å¤§é‡çš„DOMé‡æ’é‡ç»˜ã€‚\nç„¶è€Œï¼Œè¯¥ç­–ç•¥åŸºäºä¸€ä¸ªå‰æï¼šåˆ—è¡¨é¡¹å†…éƒ¨çš„å†…å®¹ä¸ä¾èµ–äºå­ç»„ä»¶çš„çŠ¶æ€æˆ–ä¸´æ—¶çš„DOMçŠ¶æ€ã€‚å¦‚è¿èƒŒè¯¥å‰æï¼Œå°±å¯èƒ½å¯¼è‡´æ„å¤–ï¼Œå› ä¸ºVueä¸ä¼šé‡æ–°åˆ›å»ºå­ç»„ä»¶æˆ–æ¢å¤ä¸´æ—¶DOMçŠ¶æ€ã€‚\nä¸‹é¢ä»£ç å®ç°äº†v-foråˆ—è¡¨é¡¹å†…å®¹ä¾èµ–äºå­ç»„ä»¶çš„çŠ¶æ€è€Œå¯¼è‡´æ„å¤–çš„æƒ…å†µï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;In-Place Update with Child Component\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;!-- ä½¿ç”¨ v-for æ¸²æŸ“å­ç»„ä»¶åˆ—è¡¨ --\u0026gt; \u0026lt;child-component v-for=\u0026#34;(item, index) in itemList\u0026#34; :key=\u0026#34;index\u0026#34; @remove=\u0026#34;removeItem(index)\u0026#34;\u0026gt;\u0026lt;/child-component\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; Vue.component(\u0026#39;child-component\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;!-- å­ç»„ä»¶çš„å†…å®¹å’ŒçŠ¶æ€ --\u0026gt; \u0026lt;button @click=\u0026#34;increment\u0026#34;\u0026gt;{{ count }}\u0026lt;/button\u0026gt; \u0026lt;!-- åˆ é™¤ --\u0026gt; \u0026lt;button @click=\u0026#34;$emit(\u0026#39;remove\u0026#39;)\u0026#34;\u0026gt;åˆ é™¤\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; `, methods: { increment() { this.count++; } }, data(){ return{ count:0 } } }); const app = new Vue({ el: \u0026#39;#app\u0026#39;, data: { itemList: new Array(5).fill(null) }, methods: { removeItem(index) { this.itemList.splice(index, 1); } } }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æˆ‘ä»¬å…ˆç‚¹å‡»æŸé¡¹è®¡æ•°å™¨ï¼Œå†åˆ é™¤è¯¥é¡¹ï¼š\nä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸€é¡¹ç»‘å®šä¸€ä¸ªå”¯ä¸€çš„keyå±æ€§ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;In-Place Update with Child Component\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;!-- ä½¿ç”¨ v-for æ¸²æŸ“å­ç»„ä»¶åˆ—è¡¨ --\u0026gt; \u0026lt;child-component v-for=\u0026#34;(item, index) in itemList\u0026#34; :key=\u0026#34;item.id\u0026#34; @remove=\u0026#34;removeItem(index)\u0026#34;\u0026gt;\u0026lt;/child-component\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; Vue.component(\u0026#39;child-component\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;!-- å­ç»„ä»¶çš„å†…å®¹å’ŒçŠ¶æ€ --\u0026gt; \u0026lt;button @click=\u0026#34;increment\u0026#34;\u0026gt;{{ count }}\u0026lt;/button\u0026gt; \u0026lt;!-- åˆ é™¤ --\u0026gt; \u0026lt;button @click=\u0026#34;$emit(\u0026#39;remove\u0026#39;)\u0026#34;\u0026gt;åˆ é™¤\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; `, methods: { increment() { this.count++; } }, data(){ return{ count:0 } } }); const app = new Vue({ el: \u0026#39;#app\u0026#39;, data: { // ä¸ºæ¯ä¸€é¡¹æ·»åŠ ä¸€ä¸ªid itemList: [ { id: 0 }, { id: 1 }, { id: 2 } ] }, methods: { removeItem(index) { this.itemList.splice(index, 1); } } }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æ•ˆæœå¦‚ä¸‹ï¼š\né‚£ä¹ˆå°±æœ‰ç–‘é—®äº†ï¼šä¸ºä»€ä¹ˆå‰é¢ä»£ç ä¸­çš„keyå±æ€§ç»‘å®šäº†indexæ²¡æœ‰ç”¨å‘¢ï¼Œindexéš¾é“ä¸æ˜¯å”¯ä¸€çš„å—ï¼Ÿå¾ˆç®€å•ï¼Œè¿™æ˜¯ç”±äºæˆ‘ä»¬åˆ é™¤çš„æ˜¯æ•°æ®é¡¹ï¼Œè€Œä¸æ˜¯æ•°ç»„ç´¢å¼•ï¼Œä½¿ç”¨idå°±ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œåˆ é™¤ä¸€é¡¹è¿å¸¦ç€åˆ é™¤äº†è¯¥å”¯ä¸€idã€‚\n","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E5%B0%B1%E5%9C%B0%E6%9B%B4%E6%96%B0%E7%AD%96%E7%95%A5/","title":"ã€Vue 2ã€‘å°±åœ°æ›´æ–°ç­–ç•¥"},{"content":"new Vue() æ¯ä¸ªVueåº”ç”¨éƒ½æ˜¯é€šè¿‡new Vue()åˆ›å»ºä¸€ä¸ªVueå®ä¾‹å¼€å§‹ã€‚\nVue()å‡½æ•°å¯ä»¥ä¼ å…¥é€‰é¡¹Optionsï¼Œå¸¸è§çš„æœ‰elã€templateå’Œdataé€‰é¡¹ç­‰ã€‚\nelåªåœ¨newåˆ›å»ºå®ä¾‹æ—¶ç”Ÿæ•ˆï¼Œå…¶å€¼å¯ä»¥æ˜¯ä¸€ä¸ªCSSé€‰æ‹©å™¨æˆ–ä¸€ä¸ªHTML Elementå®ä¾‹ã€‚å®ä¾‹æŒ‚è½½åï¼ˆmountedä¹‹åï¼‰å¯é€šè¿‡vm.$elè®¿é—®ï¼Œå¦‚æœå¼€å§‹å®ä¾‹åŒ–æ—¶ä¸ç»™elé€‰é¡¹ï¼Œåˆ™éœ€è¦è°ƒç”¨vm.$mountæŒ‡å®šæŒ‚è½½ç‚¹ã€‚æŒ‚è½½å…ƒç´ ä¼šè¢«ç¼–è¯‘åç”Ÿæˆçš„DOMæ›¿æ¢æ‰ã€‚ templateå®šä¹‰ç»„ä»¶çš„æ¨¡æ¿ï¼Œå³è¦æ¸²æŸ“çš„å†…å®¹ã€‚ dataé€‰é¡¹çš„å€¼æ˜¯å¯¹è±¡ç±»å‹ï¼Œå®ƒçš„propertyä¼šè¢«Vueå®ä¾‹æ‰€ä»£ç†ï¼Œæˆä¸ºå“åº”å¼æ•°æ®ï¼Œæ‹¥æœ‰åŒå‘æ”¹å˜çš„ç‰¹æ€§ã€‚åªæœ‰åœ¨åˆ›å»ºæ—¶dataä¸­çš„å±æ€§propertyæ‰ä¼šè¢«å“åº”å¼åŒ–ã€‚ Vue()çš„å…·ä½“å®ç°å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 import {initMixin} from \u0026#39;./init\u0026#39; function Vue(options){ //å®‰å…¨æ€§æ£€æŸ¥ï¼šæ˜¯å¦ä¸ºéç”Ÿäº§ç¯å¢ƒä¸”thisæ˜¯å¦æ˜¯Vueçš„å®ä¾‹ //å¦‚æœæ˜¯éç”Ÿäº§ç¯å¢ƒä¸”thisä¸æ˜¯Vueçš„å®ä¾‹ï¼Œå³æ²¡æœ‰é€šè¿‡ä½¿ç”¨newå®ä¾‹åŒ–Vue if(process.env.NODE_ENV!==\u0026#39;production\u0026#39;\u0026amp;\u0026amp;!(this instanceof Vue)){ warn(\u0026#39;Vue is a constructor and should be called with the `new` keyword\u0026#39;) } //â­ this._init(options) } initMixin(Vue) export default Vue _initæ–¹æ³•æ˜¯æ•´ä¸ªåˆå§‹åŒ–æµç¨‹çš„å¼€å§‹ã€‚\ninitMixinæ–¹æ³•å‘Vueæ„é€ å‡½æ•°çš„åŸå‹prototypeæŒ‚è½½ä¸€äº›æ–¹æ³•ï¼Œ_initä¾¿æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 export function initMixin(Vue){ //åœ¨Vueçš„æ„é€ å‡½æ•°çš„åŸå‹ä¸Šæ·»åŠ ä¸€ä¸ª_initæ–¹æ³• Vue.prototype._init=function(options){ //åˆå¹¶æ„é€ å‡½æ•°çš„é€‰é¡¹å’Œç”¨æˆ·ä¼ å…¥çš„é€‰é¡¹å¹¶æŒ‚è½½åˆ°Vueå®ä¾‹vmçš„$optionsé€‰é¡¹ä¸Š vm.$options=mergeOptions( resolveConstructorOptions(vm.constructor), options||{}, vm ) //ä¾æ¬¡åˆå§‹åŒ– initLifecycle(vm)\t//åˆå§‹åŒ–ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ initEvents(vm)\t//åˆå§‹åŒ–äº‹ä»¶ initRender(vm)\t//åˆå§‹åŒ–æ¸²æŸ“å‡½æ•° callHook(vm,\u0026#39;beforeCreate\u0026#39;)\t//è°ƒç”¨beforeCreateç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° initInjections(vm)\t//åˆå§‹åŒ–æ³¨å…¥ï¼Œå¤„ç†injecté€‰é¡¹ initState(vm)\t//åˆå§‹åŒ–çŠ¶æ€ï¼ŒåŒ…æ‹¬dataã€propsã€methodsã€computedã€watch initProvide(vm)\t//åˆå§‹åŒ–provideï¼Œå¤„ç†provideé€‰é¡¹ callHook(vm,\u0026#39;created\u0026#39;)\t//è°ƒç”¨createdç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° //â­å¦‚æœæœ‰æŒ‚è½½çš„ç›®æ ‡å…ƒç´  if(vm.$options.el){ //æŒ‚è½½å®ä¾‹åˆ°ç›®æ ‡å…ƒç´ ä¸Š vm.$mount(vm.$options.el) } } } Vueç”Ÿå‘½å‘¨æœŸå›¾ æ¯ä¸ªVueå®ä¾‹åœ¨åˆ›å»ºæ—¶éƒ½è¦ç»è¿‡ä¸€ç³»åˆ—è¿‡ç¨‹ï¼šåˆå§‹åŒ–ã€æ¨¡æ¿ç¼–è¯‘ã€æŒ‚è½½ã€å¸è½½è¿™å››ä¸ªé˜¶æ®µã€‚é˜¶æ®µä¹‹é—´ä¼šé™†ç»­æ‰§è¡Œä¸€ç±»å‡½æ•°ï¼Œç§°ä¸ºç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nVueç”Ÿå‘½å‘¨æœŸå›¾\nç”Ÿå‘½å‘¨æœŸé˜¶æ®µ new Vue()åˆ°createdçš„é˜¶æ®µæ˜¯åˆå§‹åŒ–é˜¶æ®µï¼Œè¯¥é˜¶æ®µä¼šåˆå§‹åŒ–å±æ€§propsã€äº‹ä»¶eventså’Œå“åº”å¼æ•°æ®dataï¼Œè¿˜æœ‰computedã€watchã€provideå’Œinjectã€‚\ncreatedåˆ°beforeMountçš„é˜¶æ®µæ˜¯æ¨¡æ¿ç¼–è¯‘é˜¶æ®µï¼Œæ˜æ˜¾Vueçš„è¿è¡Œæ—¶ç‰ˆæœ¬ä¸åŒ…å«è¯¥é˜¶æ®µï¼Œåªå­˜åœ¨äºå®Œæ•´ç‰ˆVueä¸­ã€‚è¿è¡Œæ—¶ç‰ˆæœ¬çš„Vue.jséœ€è¦æ­é…å…¶ä»–æ„å»ºå·¥å…·å¦‚vue-loaderç­‰æ¥é¢„ç¼–è¯‘Vueæ¨¡æ¿ã€‚æ¨¡æ¿ç¼–è¯‘å³é€šè¿‡ç¼–è¯‘å™¨å°†æ¨¡æ¿ä»£ç è½¬æ¢æˆjavascriptä»£ç ã€‚\nbeforeMountåˆ°mountedé˜¶æ®µæ˜¯æŒ‚è½½é˜¶æ®µï¼ŒæŒ‚è½½é˜¶æ®µä¹Ÿæ˜¯Vueç”Ÿå‘½å‘¨æœŸä¸­å æ—¶é€šå¸¸æœ€é•¿çš„ä¸€ä¸ªé˜¶æ®µã€‚æŒ‚è½½çš„æ„æ€æ˜¯æŒ‡Vue.jså°†å…¶å®ä¾‹æŒ‚è½½åˆ°æŒ‡å®šçš„DOMå…ƒç´ ä¸Šï¼Œä¹Ÿå°±æ˜¯ç”¨ç¼–è¯‘åçš„æ¨¡æ¿ä»£ç æ›¿æ¢æŒ‡å®šDOMå…ƒç´ çš„å†…éƒ¨å†…å®¹ï¼Œå®ç°æ¨¡æ¿å†…å®¹çš„æ¸²æŸ“ã€‚åŒæ—¶ï¼ŒVue.jsä¼šå¯ç”¨Watcheræ¥è·Ÿè¸ªä¾èµ–çš„å˜åŒ–ã€‚ä¸€ä¸ªçŠ¶æ€æ‰€ç»‘å®šçš„ä¾èµ–æ˜¯æŒ‡ä¸€ä¸ªç»„ä»¶ã€‚æŒ‚è½½é˜¶æ®µçš„åŸç†å’Œvm.$mountæ–¹æ³•æ¯æ¯ç›¸å…³ã€‚\nåœ¨æŒ‚è½½é˜¶æ®µï¼Œæ•°æ®ï¼ˆçŠ¶æ€ï¼‰å‘ç”Ÿå˜åŒ–åï¼ŒWatcherä¼šé€šçŸ¥è™šæ‹ŸDOMé‡æ–°æ¸²æŸ“ï¼Œæ–°DOMå°†æ›¿æ¢æ—§DOMï¼Œä»beforeUpdateå‡½æ•°æ‰§è¡Œååˆ°updatedå‡½æ•°ç»“æŸå‰æ˜¯é¡µé¢é‡æ¸²æŸ“é˜¶æ®µã€‚\næœ€åçš„å¸è½½é˜¶æ®µï¼ŒVueè°ƒç”¨vm.$destroyæ–¹æ³•æ¥é”€æ¯è‡ªèº«ã€‚\nç”Ÿå‘½å‘¨æœŸDemo 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; Vue.config.productionTip = false; \u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;span\u0026gt;ç‚¹å‡»äº†{{count}}æ¬¡\u0026lt;/span\u0026gt; \u0026lt;button @click=\u0026#34;count++\u0026#34;\u0026gt;åŠ 1\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;$destroy()\u0026#34;\u0026gt;é”€æ¯\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; var vm=new Vue({ el:\u0026#34;#app\u0026#34;, data:{ count:0 }, beforeCreate(){ console.log(\u0026#34;beforeCreate\u0026#34;); }, created() { console.log(\u0026#34;created\u0026#34;); }, beforeMount(){ console.log(\u0026#34;beforeMount\u0026#34;); }, mounted(){ console.log(\u0026#34;mounted\u0026#34;); }, beforeUpdate() { console.log(\u0026#34;beforeUpdate\u0026#34;); }, updated() { console.log(\u0026#34;updated\u0026#34;); }, beforeDestroy() { console.log(\u0026#34;beforeDestroy\u0026#34;); }, destroyed() { console.log(\u0026#34;destroyed\u0026#34;); }, }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; é¢è¯•ç›¸å…³é—®é¢˜ 1.æœ€æ—©ä»€ä¹ˆæ—¶å€™å¯ä»¥æ“ä½œDOMï¼Ÿ\næœ€æ—©å¯ä»¥åœ¨mountedä¸­æ“ä½œDOMï¼Œå› ä¸ºæ‰§è¡Œmountedæ—¶ç¼–è¯‘æ¨¡æ¿å·²è¢«æŒ‚è½½åˆ°DOMå…ƒç´ ä¸Šã€‚\n2.æœ€æ—©ä»€ä¹ˆæ—¶å€™å¯ä»¥ä½¿ç”¨å“åº”å¼æ•°æ®ï¼Ÿ\nç”±ç”Ÿå‘½å‘¨æœŸå›¾ä¸Šå¯çŸ¥ï¼Œå“åº”å¼æ•°æ®åˆå§‹åŒ–åœ¨beforeCreateåˆ°createdä¹‹é—´ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€æ—©å¯ä»¥åœ¨createdè®¿é—®å“åº”å¼æ•°æ®ã€‚\n3.ç¬¬ä¸€æ¬¡é¡µé¢åŠ è½½ä¼šè§¦å‘å“ªäº›ç”Ÿå‘½å‘¨æœŸé’©å­\nbeforeCreateã€createdã€beforeMountã€mounted\n4.çˆ¶å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œè¿‡ç¨‹\nçˆ¶ç»„ä»¶æ‰§è¡Œåˆ°beforeMountï¼Œå­ç»„ä»¶å¼€å§‹æ‰§è¡Œç”Ÿå‘½å‘¨æœŸï¼Œå­ç»„ä»¶æŒ‚è½½å®Œæˆåï¼Œçˆ¶ç»„ä»¶å¼€å§‹æŒ‚è½½ï¼Œçˆ¶ç»„ä»¶æŒ‚è½½å®Œæˆåï¼Œä¼šæ‰§è¡Œä¸€æ¬¡æ›´æ–°è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯beforeUpdateã€updatedã€‚\nå‚è€ƒèµ„æ–™ æ·±å…¥æµ…å‡ºVue.js vueé¢è¯•é¢˜ä¹‹ä¸€ï¼šç”Ÿå‘½å‘¨æœŸå‡½æ•°é¢è¯•é¢˜ ","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/","title":"ã€Vue 2ã€‘ç”Ÿå‘½å‘¨æœŸ"},{"content":"ç®€å•çš„ç»„ä»¶ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button-counter\u0026gt;\u0026lt;/button-counter\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; Vue.component(\u0026#39;button-counter\u0026#39;, { template: `\u0026lt;button v-on:click=\u0026#34;addCount\u0026#34;\u0026gt;ä½ ç‚¹å‡»äº†æˆ‘{{count}}æ¬¡\u0026lt;/button\u0026gt;`, data() { return { count: 0 } }, methods: { addCount() { this.count++; } }, }) var app = new Vue({ el: \u0026#39;#app\u0026#39;, }) \u0026lt;/script\u0026gt; ç»„ä»¶æ˜¯å¯ä»»æ„æ¬¡æ•°å¤ç”¨çš„Vueå®ä¾‹ï¼Œæ‰€ä»¥å®ƒä¸new Vue()æ¥æ”¶ç›¸åŒé€‰é¡¹ï¼Œä½†æ˜¯dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä»¥ç¡®ä¿ä¸åŒç»„ä»¶ä¸ä¼šå…±äº«æ•°æ®ã€‚ Vue.componentç”¨äºå…¨å±€æ³¨å†Œä¸€ä¸ªç»„ä»¶ã€‚ æ¯ä¸ªç»„ä»¶å¿…éœ€æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ ¹å…ƒç´ ã€‚ å…¨å±€æ³¨å†Œç»„ä»¶å¿…é¡»åœ¨vueå®ä¾‹åŒ–ä¹‹å‰ï¼Œå¦åˆ™ç»„ä»¶æ³¨å†Œä¸æˆåŠŸã€‚ ä½¿ç”¨äº‹ä»¶æŠ›å‡ºå€¼ ä¸»è¦æ˜¯$emitå’Œ$event\n1 2 3 4 5 //åœ¨å­ç»„ä»¶é‡Œä½¿ç”¨ @eventName=\u0026#34;$emit(\u0026#39;customeEventName\u0026#39;,thrown value)\u0026#34; //åœ¨çˆ¶ç»„ä»¶é‡Œï¼Œå¦‚æœä¸‹é¢æ˜¯ä½¿ç”¨è¡¨è¾¾å¼ï¼Œåˆ™å¯ä»¥é€šè¿‡ $event è·å– thrown valueï¼›å¦‚æœä½¿ç”¨å‡½æ•°çš„è¯ï¼Œåˆ™è¯¥å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸º thrown value \u0026lt;child-component @customeEventName=\u0026#34;JS statement or a function\u0026#34;\u0026gt;\u0026lt;/child-component\u0026gt; ä½¿ç”¨propå‘å­ç»„ä»¶ä¼ å€¼ æ³¨å†Œå­ç»„ä»¶\n1 2 3 4 5 6 7 8 Vue.component(\u0026#34;child-component\u0026#34;,{ //å®šä¹‰prop props:[\u0026#39;propName\u0026#39;], template: ` ... ` }) ä¼ å€¼ç»™å­ç»„ä»¶propsæ•°ç»„é‡Œçš„prop\n1 \u0026lt;child-component propName=\u0026#34;å­—ç¬¦ä¸²\u0026#34;\u0026gt;\u0026lt;/child-component\u0026gt; å¦‚æœpropç»‘å®šçš„æ˜¯åŠ¨æ€å€¼ï¼ˆæ¯”å¦‚dataé‡Œçš„æ•°æ®ï¼‰é‚£ä¹ˆå°±ä½¿ç”¨v-bindç»‘å®š\n1 \u0026lt;child-component v-bind:propName=\u0026#34;åŠ¨æ€å€¼\u0026#34;\u0026gt;\u0026lt;/child-component\u0026gt; åœ¨ç»„ä»¶ä¸Šä½¿ç”¨v-model æœ€å¸¸è§çš„ï¼š\n1 \u0026lt;input v-model=\u0026#34;inputText\u0026#34;\u0026gt; å®ƒç­‰ä»·äºï¼š\n1 \u0026lt;input v-bind:value=\u0026#34;inputText\u0026#34; v-on:input=\u0026#34;inputText=$event.target.value\u0026#34;\u0026gt; å¦‚æœæ˜¯è‡ªå®šä¹‰ç»„ä»¶ï¼Œå¦‚custom-inputï¼š\n1 2 3 \u0026lt;custom-input v-model=\u0026#34;inputText\u0026#34;\u0026gt; // ç­‰ä»·äº \u0026lt;custom-input v-bind:value=\u0026#34;inputText\u0026#34; v-on:input=\u0026#34;inputText=$event\u0026#34;\u0026gt;\u0026lt;/custom-input\u0026gt; v-bind:value=\u0026quot;inputText\u0026quot;å®ç°äº†inputTextæ”¹å˜ï¼Œåˆ™valueæ”¹å˜ï¼Œ\nv-on:input=\u0026quot;inputText=$event\u0026quot;å®ç°äº†valueæ”¹å˜ï¼Œåˆ™inputTextæ”¹å˜ã€‚\nç®€å•äº†è§£é€šè¿‡æ’æ§½åˆ†å‘å†…å®¹ æ’æ§½ç”¨äºå°†ç»„ä»¶å°†å†…å®¹åˆ†å‘åˆ°ç‰¹å®šä½ç½®ï¼Œæ¢å¥è¯è¯´ï¼Œå…è®¸ä½ åœ¨çˆ¶ç»„ä»¶ä¸­ä¼ é€’å†…å®¹åˆ°å­ç»„ä»¶ï¼Œå¹¶ä¸”å­ç»„ä»¶å¯ä»¥å†³å®šå¦‚ä½•æ˜¾ç¤ºè¿™äº›å†…å®¹ã€‚\nå‡å¦‚æœ‰ä¸€ä¸ªcustom-buttonç»„ä»¶ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥è‡ªå®šä¹‰å…¶åç§°ã€‚\n1 2 3 4 5 6 7 8 Vue.component(\u0026#39;custom-button\u0026#39;,{ template: ` \u0026lt;button\u0026gt; \u0026lt;slot\u0026gt;\u0026lt;/slot\u0026gt; \u0026lt;/button\u0026gt; ` }) ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨çˆ¶ç»„ä»¶ä¸­è¿™æ ·ä¼ é€’å†…å®¹ï¼š\n1 2 3 \u0026lt;custom-button\u0026gt; Click me! \u0026lt;/custom-button\u0026gt; Click me!å°±ä¼šè¢«æ’å…¥åˆ°slotçš„ä½ç½®ã€‚\nåˆæ­¥äº†è§£åŠ¨æ€ç»„ä»¶ åŠ¨æ€ç»„ä»¶å€¼åœ¨ä¸€ä¸ªæŒ‚è½½ç‚¹å¯ä»¥åˆ‡æ¢å¤šä¸ªç»„ä»¶ï¼Œç±»ä¼¼äºtabé¡µçš„åˆ‡æ¢ã€‚\nVueä½¿ç”¨\u0026lt;component\u0026gt;å…ƒç´ åŠ ä¸Šis attributeæ¥å®ç°åŠ¨æ€ç»„ä»¶ï¼Œiså¯ç»‘å®šçš„å€¼åŒ…æ‹¬å·²æ³¨å†Œç»„ä»¶åæˆ–ä¸€ä¸ªç»„ä»¶çš„é€‰é¡¹å¯¹è±¡ã€‚\nä¸€ä¸ªåŠ¨æ€ç»„ä»¶çš„ä¾‹å­å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;type=type===\u0026#39;first\u0026#39;?\u0026#39;second\u0026#39;:\u0026#39;first\u0026#39;\u0026#34;\u0026gt;{{type}}\u0026lt;/button\u0026gt; \u0026lt;component :is=\u0026#34;type\u0026#34;\u0026gt;\u0026lt;/component\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; Vue.component(\u0026#39;first\u0026#39;, { template: `\u0026lt;div\u0026gt; \u0026lt;h1\u0026gt;1\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt;`, }) Vue.component(\u0026#39;second\u0026#39;, { template: `\u0026lt;div\u0026gt; \u0026lt;h1\u0026gt;2\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt;`, }) var app = new Vue({ el: \u0026#39;#app\u0026#39;, data: { type: \u0026#39;first\u0026#39; } }) \u0026lt;/script\u0026gt; è§£æDOMæ¨¡æ¿æ—¶çš„æ³¨æ„äº‹é¡¹ ulã€olã€tableã€selectè¿™äº›å…ƒç´ åªå…è®¸æŸäº›ç‰¹å®šçš„å…ƒç´ å‡ºç°åœ¨å…¶å†…éƒ¨ï¼Œ\nå¦‚æœåƒä¸‹é¢è¿™æ ·\n1 2 3 \u0026lt;table\u0026gt; \u0026lt;child-component\u0026gt;\u0026lt;/child-component\u0026gt; \u0026lt;/table\u0026gt; åˆ™ä¼šå¯¼è‡´æ¸²æŸ“å‡ºé”™\næ¯”å¦‚ä¸‹é¢\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;table\u0026gt; \u0026lt;demo\u0026gt;\u0026lt;/demo\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; Vue.component(\u0026#39;demo\u0026#39;, { template: ` \u0026lt;div\u0026gt; \u0026lt;h1\u0026gt;demo\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; `, }) var app = new Vue({ el: \u0026#39;#app\u0026#39;, }) \u0026lt;/script\u0026gt; è™½ç„¶æ˜¾ç¤ºç»“æœä¸æˆ‘ä»¬é¢„æœŸçš„ä¸€æ ·ï¼Œä½†æ˜¯F12æŸ¥çœ‹å‘ç°ï¼Œdemoç»„ä»¶å†…å®¹è¢«æåˆ°äº†tableå…ƒç´ çš„ä¸Šé¢ï¼š\nå¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‰æ–‡åŠ¨æ€ç»„ä»¶ä¸­ä»‹ç»çš„iså±æ€§æ¥è§£å†³ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tr :is=\u0026#34;type\u0026#34;\u0026gt;\u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; ... var app = new Vue({ el: \u0026#39;#app\u0026#39;, data: { type: \u0026#39;demo\u0026#39; } }) \u0026lt;/script\u0026gt; éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœæˆ‘ä»¬ä»ä»¥ä¸‹æ¥æºä½¿ç”¨æ¨¡æ¿çš„è¯ï¼Œè¿™æ¡é™åˆ¶æ˜¯ä¸å­˜åœ¨çš„ï¼š\nå­—ç¬¦ä¸² (ä¾‹å¦‚ï¼štemplate: '...') å•æ–‡ä»¶ç»„ä»¶ (.vue) \u0026lt;script type=\u0026quot;text/x-template\u0026quot;\u0026gt; ","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80/","title":"ã€Vue 2ã€‘ç»„ä»¶åŸºç¡€"},{"content":"1 ç»„ä»¶åçš„å‘½åè§„åˆ™ å®šä¹‰ç»„ä»¶åçš„ä¸¤ç§æ–¹å¼ï¼š\nçŸ­æ¨ªçº¿åˆ†éš”å‘½åï¼ŒKebab Caseï¼Œä¾‹å¦‚my-component-nameã€‚ å•è¯é¦–å­—æ¯å¤§å†™å‘½åï¼ŒPascal Caseï¼Œä¾‹å¦‚MyComponentNameã€‚ ç¬¬ä¸€ç§æ–¹å¼åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨\u0026lt;my-component-name\u0026gt;å¼•ç”¨è¯¥å…ƒç´ ï¼Œç¬¬äºŒç§æ–¹å¼å¯ä»¥ä½¿ç”¨\u0026lt;my-component-name\u0026gt;æˆ–\u0026lt;MyComponentName\u0026gt;ã€‚\n2 å…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œ åœ¨ç»„ä»¶åŸºç¡€ä¸€æ–‡ä¸­æˆ‘ä»¬æåˆ°Vue.componentè¿™ç§ç»„ä»¶æ³¨å†Œæ–¹å¼æ˜¯å…¨å±€æ³¨å†Œçš„ã€‚\nå…¨å±€æ³¨å†Œæ„å‘³ç€å®ƒä»¬å¯ä»¥åœ¨å…¶ä»–Vueå®ä¾‹ä¸­ç›´æ¥ä½¿ç”¨ã€‚\nä½†æœ‰æ—¶å¯¹äºæŸä¸ªå…¨å±€æ³¨å†Œçš„ç»„ä»¶ï¼Œæˆ‘ä»¬å¹¶ä¸æ˜¯å¾ˆé¢‘ç¹åœ°ä½¿ç”¨ï¼Œæˆ–è€…æˆ‘ä»¬ä¸å†éœ€è¦è¿™ä¸ªç»„ä»¶ï¼Œä½†å®ƒä»ä¼šè¢«åŒ…å«åœ¨æ„å»ºç»“æœä¸­ã€‚\näºæ˜¯æˆ‘ä»¬å¯ä»¥é‡‡ç”¨å±€éƒ¨æ³¨å†Œçš„æ–¹å¼ã€‚\nä¸é‡‡ç”¨æ¨¡å—ç³»ç»Ÿçš„å±€éƒ¨æ³¨å†Œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;component-a\u0026gt;\u0026lt;/component-a\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; var ComponentA = { template: \u0026#39;\u0026lt;div\u0026gt;Component A\u0026lt;/div\u0026gt;\u0026#39; }; new Vue({ el: \u0026#39;#app\u0026#39;, components: { \u0026#39;component-a\u0026#39;: ComponentA }, }); \u0026lt;/script\u0026gt; å¦‚æœä½ é€šè¿‡ Babel å’Œ webpack ä½¿ç”¨ ES2015 æ¨¡å—ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·è¿›è¡Œå±€éƒ¨æ³¨å†Œï¼š\n1 2 3 4 5 6 7 import ComponentA from \u0026#39;./ComponentA\u0026#39; export default{ components:{ ComponentA //ComponentA:ComponentAçš„ç¼©å†™ } } å½“ç„¶ï¼Œåœ¨æ¨¡å—åŒ–ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›è¡Œå…¨å±€æ³¨å†Œï¼Œé™¤äº†ä½¿ç”¨ä¹‹å‰æåˆ°çš„Vue.componentï¼Œè¿˜å¯ä»¥åœ¨ä½¿ç”¨äº†webpackæˆ–Vue CLI 3+çš„å‰æä¸‹ï¼Œä½¿ç”¨require.contextè¿›è¡Œå…¨å±€æ³¨å†Œï¼š\nmain.js\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 import Vue from \u0026#39;vue\u0026#39; import App from \u0026#39;./App.vue\u0026#39; import upperFirst from \u0026#39;lodash/upperFirst\u0026#39; import camelCase from \u0026#39;lodash/camelCase\u0026#39; const requireComponent=require.context( \u0026#39;./components\u0026#39;,//åŸºç¡€ç»„ä»¶ç›¸å¯¹è·¯å¾„ false,//æ˜¯å¦é€’å½’æŸ¥è¯¢å…¶å­ç›®å½• /Base[A-Z]\\w+.(vue|js)$/ //åŸºç¡€æ–‡ä»¶åçš„æ­£åˆ™è¡¨è¾¾å¼ ) requireComponent.keys().forEach(fileName=\u0026gt;{ //è·å–ç»„ä»¶é…ç½® const compoentConfig=requireComponent(fileName) //è·å–ç»„ä»¶çš„PascalCaseå‘½å const componentName=upperFirst(//å¤§å†™é¦–å­—æ¯ camelCase(//è½¬æ¢å­—ç¬¦ä¸²stringä¸ºé©¼å³°å†™æ³• //è·å–ä¸ç›®å½•æ·±åº¦æ— å…³çš„æ–‡ä»¶å fileName .split(\u0026#39;/\u0026#39;) .pop() .replace(/\\.\\w+$/,\u0026#39;\u0026#39;) ) ) //å…¨å±€æ³¨å†Œç»„ä»¶ Vue.component( componentName, // å¦‚æœè¿™ä¸ªç»„ä»¶é€‰é¡¹æ˜¯é€šè¿‡ `export default` å¯¼å‡ºçš„ï¼Œ // é‚£ä¹ˆå°±ä¼šä¼˜å…ˆä½¿ç”¨ `.default`ï¼Œ // å¦åˆ™å›é€€åˆ°ä½¿ç”¨æ¨¡å—çš„æ ¹ã€‚ componentConfig.default || componentConfig ) }) //é˜»æ­¢Vueåœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºï¼Œå¦‚ä¸‹ï¼š //You are running Vue in development mode. //Make sure to turn on production mode when deploying for production. //See more tips at https://vuejs.org/guide/deployment.html Vue.config.productionTip=false new Vue({ //ä»Appæä¾›çš„æ¨¡æ¿ç¼–è¯‘æ¸²æŸ“å‡½æ•° //hä»£æŒ‡createElementæ–¹æ³•ï¼Œæ¥æ”¶æ ¹ç»„ä»¶Appæ¥åˆ›å»ºVNode render:h=\u0026gt;h(App) }).$mount(\u0026#39;#app\u0026#39;) //æ‰‹åŠ¨æŒ‚è½½ Vue.componentç”¨äºå…¨å±€æ³¨å†Œå•ä¸ªç»„ä»¶ï¼Œä¸Šé¢æ–¹æ³•ç”¨äºå…¨å±€æ³¨å†Œå¤šä¸ªç»„ä»¶ï¼Œæ‰€ä»¥ä¼šå¤šæ¬¡è°ƒç”¨Vue.componentæ–¹æ³•ã€‚\né¢å¤–è¯é¢˜\nä½œè€…å‘ç°äº†Vue.config.productionTip=falseåœ¨æŸäº›ä½ç½®ä¸ç”Ÿæ•ˆçš„æƒ…å†µã€‚\nå®é™…ä¸Šè§‚å¯ŸVueæ£€æŸ¥devtoolsæ’ä»¶å®‰è£…æƒ…å†µå’Œå¼€å‘æ¨¡å¼çš„ç±»å‹çš„æºç éƒ¨åˆ†å¯å‘ç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 var inBrowser = typeof window !== \u0026#34;undefined\u0026#34;; .... .... // devtools global hook /* istanbul ignore next */ if (inBrowser) { setTimeout(function () { if (config.devtools) { if (devtools) { devtools.emit(\u0026#39;init\u0026#39;, Vue); } else { console[console.info ? \u0026#39;info\u0026#39; : \u0026#39;log\u0026#39;]( \u0026#39;Download the Vue Devtools extension for a better development experience:\\n\u0026#39; + \u0026#39;https://github.com/vuejs/vue-devtools\u0026#39; ); } } if (config.productionTip !== false \u0026amp;\u0026amp; typeof console !== \u0026#39;undefined\u0026#39; ) { console[console.info ? \u0026#39;info\u0026#39; : \u0026#39;log\u0026#39;]( \u0026#34;You are running Vue in development mode.\\n\u0026#34; + \u0026#34;Make sure to turn on production mode when deploying for production.\\n\u0026#34; + \u0026#34;See more tips at https://vuejs.org/guide/deployment.html\u0026#34; ); } }, 0); } Vue.config.productionTip=falseåº”è¯¥åœ¨inBrowserä¸ºtrueæ—¶å°±å·²ç»è¢«è®¾ç½®å¥½ï¼Œè€ŒinBrowserè¡¨ç¤ºå½“å‰æ˜¯å¦æ˜¯æµè§ˆå™¨ç¯å¢ƒï¼Œå®ƒé€šè¿‡æ£€æµ‹windowå¯¹è±¡æ˜¯å¦å­˜åœ¨æ¥åˆ¤æ–­ï¼Œwindowå¯¹è±¡åœ¨é¡µé¢è¢«æ¸²æŸ“åå®šä¹‰ã€‚æ‰€ä»¥ï¼ŒVue.config.productionTipè®¾ç½®æ—¶æœºæ˜¯åœ¨é¡µé¢æ¸²æŸ“å‰ã€‚bodyä¸­çš„scriptæ ‡ç­¾æ˜¯åœ¨bodyè§£æå®Œåæ‰æ‰§è¡Œçš„ã€‚æ¢è¨€ä¹‹ï¼ŒVue.config.productionTipè®¾ç½®æ—¶æœºæ˜¯åœ¨bodyè§£æå‰ã€‚\n","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E7%BB%84%E4%BB%B6%E6%B3%A8%E5%86%8C/","title":"ã€Vue 2ã€‘ç»„ä»¶æ³¨å†Œ"},{"content":"Vue è‡ªå®šä¹‰æŒ‡ä»¤å…è®¸æˆ‘ä»¬åœ¨ DOM å…ƒç´ ä¸Šæ·»åŠ è‡ªå·±æƒ³è¦çš„è¡Œä¸ºæ¥æ‰©å±• Vue çš„åŠŸèƒ½ã€‚\nä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤éœ€è¦ä¸€ä¸ªåç§°å’Œä¸€ä¸ªå®šä¹‰å¯¹è±¡ã€‚åœ¨å®šä¹‰å¯¹è±¡ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€äº›é’©å­å‡½æ•°æ¥æ§åˆ¶æŒ‡ä»¤çš„è¡Œä¸ºï¼š\nbindï¼šåœ¨æŒ‡ä»¤è¢«ç»‘å®šåˆ°å…ƒç´ ä¸Šæ—¶ä½¿ç”¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ã€‚å¯ä»¥ç”¨æ¥åˆå§‹åŒ–ä¸€äº›å€¼ã€‚ insertedï¼šåœ¨è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ã€‚å¯ä»¥ç”¨æ¥æ‰§è¡Œåˆå§‹çš„DOMæ“ä½œï¼Œæ¯”å¦‚è®¾ç½®ç„¦ç‚¹/ç»‘å®šäº‹ä»¶ã€‚ updateï¼šåœ¨è¢«ç»‘å®šå…ƒç´ çš„å€¼æ›´æ–°æ—¶è°ƒç”¨ï¼Œæ— è®ºç»‘å®šå€¼æ˜¯å¦æ”¹å˜ã€‚å¯ä»¥ç”¨æ¥å“åº”å€¼çš„æ›´æ–°ã€‚å¯èƒ½å‘ç”Ÿåœ¨å…¶å­VNodeæ›´æ–°ä¹‹å‰ã€‚ componentUpdatedï¼šæŒ‡ä»¤æ‰€åœ¨ç»„ä»¶çš„VNodeåŠå…¶å­VNodeå…¨éƒ¨æ›´æ–°åè°ƒç”¨ã€‚ unbindï¼šæŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ï¼Œæ¸…é™¤ç»‘å®šçš„ä¸€äº›äº‹ä»¶ç›‘å¬å™¨ã€‚ ä¸‹é¢ç»™å‡ºä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue Custom Directive Demo\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input v-model=\u0026#34;colorValue\u0026#34; v-change-color style=\u0026#34;width: 50px;\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; Vue.directive(\u0026#39;change-color\u0026#39;, { inserted: function (el) { el.addEventListener(\u0026#39;input\u0026#39;, function () { el.style.color = el.value }) } }) var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { colorValue: \u0026#39;black\u0026#39; } }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Vueè‡ªå®šä¹‰æŒ‡ä»¤çš„é’©å­å‡½æ•°æ¥å—ä¸€äº›å‚æ•°ï¼Œè¿™äº›å‚æ•°æä¾›äº†æœ‰å…³æŒ‡ä»¤çš„ä¸Šä¸‹æ–‡ä¿¡æ¯åŠå¯¹åº”çš„DOMå…ƒç´ ï¼š\nbind(el,binding,vnode): elï¼šç»‘å®šæŒ‡ä»¤çš„å…ƒç´ ã€‚ bindingï¼šä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å±æ€§ï¼š nameï¼šæŒ‡ä»¤åç§°ï¼Œä¸åŒ…æ‹¬v-å‰ç¼€ã€‚ valueï¼šæŒ‡ä»¤çš„ç»‘å®šå€¼ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼æˆ–å˜é‡ã€‚ oldValueï¼šæŒ‡ä»¤ä¹‹å‰çš„ç»‘å®šå€¼ã€‚ expressionï¼šç»‘å®šå€¼çš„è¡¨è¾¾å¼å­—ç¬¦ä¸²å½¢å¼ã€‚ argï¼šæŒ‡ä»¤å‚æ•°ï¼Œä¾‹å¦‚v-my-directive:argä¸­çš„argã€‚ modifiersï¼šä¿®é¥°ç¬¦å¯¹è±¡ï¼Œä¾‹å¦‚v-my-directive.modifier1.modifier2ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡ä¸º{modifier1:true,modifier2:true}ã€‚ vnodeï¼šVueç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ã€‚ inserted(el,binding,vnode) update(el,binding,vnode,oldVnode): oldVnodeï¼šä¹‹å‰çš„è™šæ‹ŸèŠ‚ç‚¹ï¼Œç”¨äºæ¯”è¾ƒæ›´æ–°ã€‚ componentUpdated(el,binding,vnode,oldVnode) unbind(el,binding,vnode) æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨v-my-directive:[arg]=\u0026quot;value\u0026quot;çš„å½¢å¼æ¥ä½¿ç”¨åŠ¨æ€å‚æ•°ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Vue Custom Directive with Dynamic Argument\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p v-mydirective:[arg1]\u0026gt;Hello World\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; Vue.directive(\u0026#39;mydirective\u0026#39;, { bind: function(el, binding, vnode) { console.log(binding.arg); el.style[binding.arg] = \u0026#39;5px solid red\u0026#39;; } }); var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { arg1: \u0026#39;border\u0026#39; } }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; bindå’Œupdateçš„å‡½æ•°ç®€å†™\nåŒæ—¶å®šä¹‰bindå’Œupdateè€Œä¸è€ƒè™‘å…¶ä»–é’©å­å‡½æ•°ï¼š\n1 2 3 Vue.directive(\u0026#39;mydirective\u0026#39;,function(el,binding){ //... }) ","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4/","title":"ã€Vue 2ã€‘è‡ªå®šä¹‰æŒ‡ä»¤"},{"content":"è®¡ç®—å±æ€§ vs æ–¹æ³• vs ä¾¦å¬å™¨ è®¡ç®—å±æ€§çš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³æ¨¡æ¿å†…è¡¨è¾¾å¼å¤ªè¿‡å¤æ‚è€Œå˜å¾—éš¾ä»¥ç»´æŠ¤ã€‚\nå‡è®¾æˆ‘ä»¬çŸ¥é“é•¿å’Œå®½ï¼Œè¦è®¡ç®—ä¸€ä¸ªçŸ©å½¢çš„é¢ç§¯ï¼Œå¦‚æœæ²¡æœ‰è®¡ç®—å±æ€§ï¼Œæˆ‘ä»¬å¯èƒ½åƒä¸‹é¢è¿™æ ·å¤„ç†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;width\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;height\u0026#34;\u0026gt; \u0026lt;p\u0026gt;é¢ç§¯æ˜¯{{area()}}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; var app = new Vue({ el: \u0026#39;#app\u0026#39;, data: { width:0, height:0 }, methods: { area: function() { return this.width * this.height } }, }) \u0026lt;/script\u0026gt; ä½¿ç”¨è®¡ç®—å±æ€§ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;width\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;height\u0026#34;\u0026gt; \u0026lt;p\u0026gt;é¢ç§¯æ˜¯{{area}}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; var app = new Vue({ el: \u0026#39;#app\u0026#39;, data: { width:0, height:0 }, computed:{ area:function(){ return this.width*this.height } } }) \u0026lt;/script\u0026gt; å®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼Œä½¿ç”¨methodséœ€è¦æ¯æ¬¡è·å–å€¼éƒ½è°ƒç”¨è¯¥æ–¹æ³•ï¼Œä½¿ç”¨computedä¼šå°†å€¼ç¼“å­˜ï¼Œåªåœ¨å®ƒçš„å“åº”å¼ä¾èµ–å˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ã€‚\nä¾¦å¬å™¨watchå’Œè®¡ç®—å±æ€§ä¸€æ ·éƒ½ä¼šç›‘å¬æ•°æ®çš„å˜åŒ–ï¼Œä½†æ˜¯ï¼Œå¯¹äºè¦ç›‘å¬çš„å±æ€§ï¼Œä¾¦å¬å™¨éœ€è¦ç»™å®ƒä»¬æ¯ä¸€ä¸ªéƒ½å•ç‹¬è®¾ç½®å“åº”å‡½æ•°ï¼Œè®¡ç®—å±æ€§åˆ™åªéœ€æŒ‰éœ€è®¾ç½®ï¼Œä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ä½¿ç”¨ä¾¦å¬å™¨çš„è¯ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;width\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;height\u0026#34;\u0026gt; \u0026lt;p\u0026gt;é¢ç§¯æ˜¯{{area}}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; var app = new Vue({ el: \u0026#39;#app\u0026#39;, data: { width:0, height:0, area:0 }, watch:{ width:function(newVal){ this.area = newVal * this.height }, height:function(newVal){ this.area = newVal * this.width } } }) \u0026lt;/script\u0026gt; è¿™æ ·ä¼šæ˜¾å¾—é‡å¤å†—ä½™ã€‚\næ‰€ä»¥ï¼Œè®¡ç®—å±æ€§é€‚ç”¨äºåŸºäºä¸€ç§æˆ–å¤šç§å±æ€§è®¡ç®—å‡ºæ´¾ç”Ÿå€¼çš„æƒ…å†µï¼Œä¾‹å¦‚è®¡ç®—é¢ç§¯ã€ä»·æ ¼ç­‰ï¼Œä¹Ÿé€‚ç”¨äºéœ€è¦è¿›è¡Œä¸€äº›å¤æ‚çš„æ•°æ®å¤„ç†å’Œè½¬æ¢ï¼›ä¾¦å¬å™¨é€‚ç”¨äºç›‘å¬å±æ€§çš„å˜åŒ–ï¼Œç„¶åæ‰§è¡Œä¸€äº›å¼‚æ­¥æ“ä½œï¼ˆä¾‹å¦‚APIè°ƒç”¨ï¼‰ã€æ›´æ–°å…¶ä»–å±æ€§æˆ–è‡ªå®šä¹‰é€»è¾‘ï¼ˆä¾‹å¦‚æ•°æ®å˜åŒ–æ—¶çš„åŠ¨æ€æ•ˆæœï¼‰ã€‚\nè®¡ç®—å±æ€§çš„getterä¸setter è®¡ç®—å±æ€§é»˜è®¤æ˜¯getterï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®¾ç½®å…¶setterã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;Base Count: {{ baseCount }}\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;Current Count: {{ count }}\u0026lt;/p\u0026gt; \u0026lt;button @click=\u0026#34;incrementCount\u0026#34;\u0026gt;Increment Count\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;incrementBaseCount\u0026#34;\u0026gt;Increment Base Count\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { baseCount: 5 }, computed: { count: { // Getter function get: function () { return this.baseCount * 2; }, // Setter function set: function (newCount) { this.baseCount = newCount / 2; } } }, methods: { incrementCount: function () { this.count++; }, incrementBaseCount: function () { this.baseCount++; } } }); \u0026lt;/script\u0026gt; å‚è€ƒèµ„æ–™ è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨ ","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/vue-2%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E4%B8%8E%E4%BE%A6%E5%90%AC%E5%99%A8/","title":"ã€Vue 2ã€‘è®¡ç®—å±æ€§ä¸ä¾¦å¬å™¨"},{"content":"Stack has built-in support for math typesetting using KaTeX.\nIt\u0026rsquo;s not enabled by default side-wide, but you can enable it for individual posts by adding math: true to the front matter. Or you can enable it side-wide by adding math = true to the params.article section in config.toml.\nInline math This is an inline mathematical expression: $\\varphi = \\dfrac{1+\\sqrt5}{2}= 1.6180339887â€¦$\n1 $\\varphi = \\dfrac{1+\\sqrt5}{2}= 1.6180339887â€¦$ Block math $$ \\varphi = 1+\\frac{1} {1+\\frac{1} {1+\\frac{1} {1+\\cdots} } } $$\n1 2 3 $$ \\varphi = 1+\\frac{1} {1+\\frac{1} {1+\\frac{1} {1+\\cdots} } } $$ $$ f(x) = \\int_{-\\infty}^\\infty\\hat f(\\xi),e^{2 \\pi i \\xi x},d\\xi $$\n1 2 3 $$ f(x) = \\int_{-\\infty}^\\infty\\hat f(\\xi)\\,e^{2 \\pi i \\xi x}\\,d\\xi $$ ","date":"2023-08-24T00:00:00Z","permalink":"http://localhost:1313/p/math-typesetting/","title":"Math Typesetting"}]